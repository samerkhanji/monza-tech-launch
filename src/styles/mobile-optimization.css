/* Mobile Optimization Styles */

/* Sidebar fixes - NO BLUR ANYWHERE */
.sidebar-content {
  background-color: #ffffff !important;
  opacity: 1 !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  filter: none !important;
}

/* NEVER BLUR THE PAGE */
body,
html,
#root,
main,
.main-content {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  filter: none !important;
}

/* Force sidebar to be solid */
.fixed.inset-y-0.left-0.z-50.w-64 {
  background-color: #ffffff !important;
  opacity: 1 !important;
  backdrop-filter: none !important;
}

/* Ensure sidebar content is not transparent */
.fixed.inset-y-0.left-0.z-50.w-64 * {
  opacity: 1 !important;
}

/* Fix dialog positioning on mobile */
@media (max-width: 768px) {
  /* Dialog/Modal positioning */
  [role="dialog"], [data-state="open"] {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    max-width: 100vw !important;
    max-height: 100vh !important;
    margin: 0 !important;
    border-radius: 0 !important;
  }

  /* Dialog content container */
  [role="dialog"] > div {
    height: 100% !important;
    overflow-y: auto !important;
    padding: 1rem !important;
  }

  /* Sheet/Drawer components */
  [data-state="open"][data-side="right"] {
    width: 100vw !important;
    max-width: 100vw !important;
  }

  /* Form improvements */
  form {
    padding: 1rem !important;
  }

  /* Input fields */
  input, select, textarea {
    font-size: 16px !important; /* Prevents zoom on iOS */
    padding: 0.75rem !important;
    border-radius: 0.375rem !important;
  }

  /* Button improvements */
  button {
    min-height: 44px !important; /* Apple's recommended touch target */
    padding: 0.75rem 1rem !important;
  }

  /* Table responsive */
  table {
    font-size: 0.875rem !important;
  }

  /* Card spacing */
  .card {
    margin: 0.5rem !important;
    padding: 1rem !important;
  }

  /* Grid responsive */
  .grid {
    grid-template-columns: 1fr !important;
    gap: 0.75rem !important;
  }

  /* Remove hover effects on mobile */
  *:hover {
    background-color: inherit !important;
  }
}

/* Prevent horizontal scroll */
html, body {
  overflow-x: hidden !important;
  max-width: 100vw !important;
}

/* Safe area padding for iOS */
@supports (padding: max(0px)) {
  .safe-area-padding {
    padding-left: max(1rem, env(safe-area-inset-left));
    padding-right: max(1rem, env(safe-area-inset-right));
    padding-top: max(1rem, env(safe-area-inset-top));
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }
}

/* Touch improvements */
@media (pointer: coarse) {
  /* Larger touch targets */
  button, a, [role="button"] {
    min-height: 44px !important;
    min-width: 44px !important;
  }

  /* Better scrolling */
  * {
    -webkit-overflow-scrolling: touch;
  }
}

/* Prevent text zoom on orientation change */
html {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

/* Fix viewport issues */
@viewport {
  width: device-width;
  zoom: 1.0;
}
