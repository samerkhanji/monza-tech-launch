/* ULTRA EMERGENCY DIALOG FIXES - FORCE ALL DIALOGS TO BE SCROLLABLE */

/* Target every possible dialog selector with maximum specificity */
body [data-radix-dialog-content],
html [data-radix-dialog-content],
#root [data-radix-dialog-content],
div[data-radix-dialog-content],
[role="dialog"] {
  max-width: 95vw !important;
  width: 95vw !important;
  max-height: 95vh !important;
  overflow: hidden !important;
  display: flex !important;
  flex-direction: column !important;
  position: fixed !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  margin: 0 !important;
  box-sizing: border-box !important;
}

/* Force ALL dialog headers to be sticky */
[data-radix-dialog-content] > *:first-child,
[data-radix-dialog-content] > div:first-child,
[data-radix-dialog-content] > header:first-child {
  flex-shrink: 0 !important;
  position: sticky !important;
  top: 0 !important;
  background: white !important;
  z-index: 1000 !important;
  border-bottom: 1px solid #e5e7eb !important;
  padding: 16px !important;
  margin-bottom: 8px !important;
}

/* Force ALL dialog content to be scrollable */
[data-radix-dialog-content] > *:not(:first-child),
[data-radix-dialog-content] > div:not(:first-child),
[data-radix-dialog-content] .space-y-6,
[data-radix-dialog-content] .space-y-4,
[data-radix-dialog-content] .space-y-2 {
  flex: 1 !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  max-height: calc(95vh - 150px) !important;
  padding: 8px !important;
  box-sizing: border-box !important;
}

/* PDI Dialogs - Maximum size */
[data-radix-dialog-content][style*="z-index: 99999"],
[data-radix-dialog-content][class*="max-w-6xl"],
.pdi-dialog [data-radix-dialog-content] {
  max-width: 98vw !important;
  width: 98vw !important;
  max-height: 98vh !important;
}

/* Status Dialog - Large size */
.car-status-dialog [data-radix-dialog-content] {
  max-width: 90vw !important;
  width: 90vw !important;
}

/* Test Drive Dialog - Medium size */
.test-drive-dialog [data-radix-dialog-content] {
  max-width: 85vw !important;
  width: 85vw !important;
}

/* Force ALL footers to be sticky at bottom */
[data-radix-dialog-content] div[class*="flex gap-3 justify-end"],
[data-radix-dialog-content] div[class*="justify-end"],
[data-radix-dialog-content] footer,
[data-radix-dialog-content] .dialog-footer {
  position: sticky !important;
  bottom: 0 !important;
  background: white !important;
  padding: 16px !important;
  border-top: 1px solid #e5e7eb !important;
  flex-shrink: 0 !important;
  margin-top: auto !important;
  z-index: 100 !important;
}

/* Enhanced scrollbar */
[data-radix-dialog-content] *::-webkit-scrollbar {
  width: 14px !important;
}

[data-radix-dialog-content] *::-webkit-scrollbar-track {
  background: #f8fafc !important;
  border-radius: 8px !important;
}

[data-radix-dialog-content] *::-webkit-scrollbar-thumb {
  background: #ffd700 !important;
  border-radius: 8px !important;
  border: 2px solid #f8fafc !important;
}

[data-radix-dialog-content] *::-webkit-scrollbar-thumb:hover {
  background: #e6c200 !important;
}

/* Mobile overrides */
@media (max-width: 768px) {
  [data-radix-dialog-content] {
    max-width: 98vw !important;
    width: 98vw !important;
    max-height: 98vh !important;
  }
  
  [data-radix-dialog-content] > *:not(:first-child) {
    max-height: calc(98vh - 120px) !important;
  }
}

/* Ensure all inputs are properly sized */
[data-radix-dialog-content] input,
[data-radix-dialog-content] textarea,
[data-radix-dialog-content] select {
  min-height: 40px !important;
  font-size: 14px !important;
}

/* Force text to be readable */
[data-radix-dialog-content] .text-xs,
[data-radix-dialog-content] .text-sm {
  font-size: 14px !important;
}

/* Force grid spacing */
[data-radix-dialog-content] .grid {
  gap: 12px !important;
}

/* Force space-y to work properly */
[data-radix-dialog-content] .space-y-2 > * + * {
  margin-top: 8px !important;
}

[data-radix-dialog-content] .space-y-4 > * + * {
  margin-top: 16px !important;
}

[data-radix-dialog-content] .space-y-6 > * + * {
  margin-top: 24px !important;
}
