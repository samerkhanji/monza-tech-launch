var e=Object.defineProperty,s=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(s,r,a)=>r in s?e(s,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[r]=a,n=(e,s)=>{for(var r in s||(s={}))t.call(s,r)&&i(e,r,s[r]);if(a)for(var r of a(s))l.call(s,r)&&i(e,r,s[r]);return e},o=(e,a)=>s(e,r(a));import{a8 as c,K as d,j as m,U as h,C as p,I as x,Y as u,Z as j,_ as g,$ as y,a0 as f,H as b,k as v}from"./index-BmUpYGrm.js";import{r as w}from"./vendor-vN6PtkFd.js";import{u as N,F as S,a as k,b as z,c as R,d as O,e as M,f as P}from"./form-D18p6wVs.js";import{u as C}from"./index-DNyRc51V.js";import{s as U}from"./errorHandling-Dc1u_gNS.js";import"./charts-XrXYWaKo.js";import"./utils-DhcIvS4g.js";
/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=c("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]),I=()=>{const[e,s]=w.useState(!1),{user:r}=d(),a=N({defaultValues:{title:"",type:"bug",description:"",steps:"",priority:"medium",attachmentUrl:""}});return m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Report Issues & Suggestions"}),m.jsxs("p",{className:"text-muted-foreground flex items-center gap-2",children:[m.jsx(h,{className:"h-4 w-4"}),"All reports are automatically assigned to ",m.jsx("strong",{children:"Samer"})," and ",m.jsx("strong",{children:"Kareem"})," for review"]})]}),m.jsx(p,{className:"p-6 border border-monza-grey/10 shadow-md hover:shadow-lg transition-all duration-300",children:m.jsx(S,o(n({},a),{children:m.jsxs("form",{onSubmit:a.handleSubmit(e=>{return t=void 0,l=null,i=function*(){s(!0);try{const s=o(n({},e),{id:Date.now().toString(),submittedBy:(null==r?void 0:r.name)||"Unknown User",submittedAt:(new Date).toISOString(),assignedTo:["Samer","Kareem"],status:"submitted"}),t=U("appReports",[]);t.unshift(s),localStorage.setItem("appReports",JSON.stringify(t)),C.success("Report submitted successfully and assigned to Samer and Kareem for review!"),a.reset()}catch(t){C.error("Failed to submit report. Please try again.")}finally{s(!1)}},new Promise((e,s)=>{var r=e=>{try{n(i.next(e))}catch(r){s(r)}},a=e=>{try{n(i.throw(e))}catch(r){s(r)}},n=s=>s.done?e(s.value):Promise.resolve(s.value).then(r,a);n((i=i.apply(t,l)).next())});var t,l,i}),className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsx(k,{control:a.control,name:"title",render:({field:e})=>m.jsxs(z,{children:[m.jsxs(R,{children:["Report Title ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx(O,{children:m.jsx(x,o(n({id:"reportSummary",placeholder:"Brief summary of the issue"},e),{required:!0,className:"focus-visible:ring-monza-yellow"}))}),m.jsx(M,{})]})}),m.jsx(k,{control:a.control,name:"type",render:({field:e})=>m.jsxs(z,{children:[m.jsxs(R,{children:["Report Type ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsxs(u,{onValueChange:e.onChange,defaultValue:e.value,children:[m.jsx(O,{children:m.jsx(j,{className:"focus-visible:ring-monza-yellow",children:m.jsx(g,{placeholder:"Select report type"})})}),m.jsxs(y,{children:[m.jsx(f,{value:"bug",children:"Bug Report"}),m.jsx(f,{value:"improvement",children:"Improvement Suggestion"}),m.jsx(f,{value:"feature",children:"Feature Request"})]})]}),m.jsx(M,{})]})})]}),m.jsx(k,{control:a.control,name:"description",render:({field:e})=>m.jsxs(z,{children:[m.jsxs(R,{children:["Detailed Description ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx(O,{children:m.jsx(b,o(n({placeholder:"Please describe the issue or suggestion in detail...",className:"min-h-[120px] focus-visible:ring-monza-yellow"},e),{required:!0}))}),m.jsx(M,{})]})}),m.jsx(k,{control:a.control,name:"steps",render:({field:e})=>m.jsxs(z,{children:[m.jsx(R,{children:"Steps to Reproduce"}),m.jsx(O,{children:m.jsx(b,n({placeholder:"For bugs, list the steps to reproduce the issue...",className:"min-h-[100px] focus-visible:ring-monza-yellow"},e))}),m.jsx(P,{children:"Only required for bug reports"}),m.jsx(M,{})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsx(k,{control:a.control,name:"priority",render:({field:e})=>m.jsxs(z,{children:[m.jsxs(R,{children:["Priority Level ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsxs(u,{onValueChange:e.onChange,defaultValue:e.value,children:[m.jsx(O,{children:m.jsx(j,{className:"focus-visible:ring-monza-yellow",children:m.jsx(g,{placeholder:"Select priority"})})}),m.jsxs(y,{children:[m.jsx(f,{value:"low",children:"Low"}),m.jsx(f,{value:"medium",children:"Medium"}),m.jsx(f,{value:"high",children:"High"}),m.jsx(f,{value:"critical",children:"Critical"})]})]}),m.jsx(M,{})]})}),m.jsx(k,{control:a.control,name:"attachmentUrl",render:({field:e})=>m.jsxs(z,{children:[m.jsx(R,{children:"Attachment URL"}),m.jsx(O,{children:m.jsx(x,n({placeholder:"Link to screenshot/video (optional)",className:"focus-visible:ring-monza-yellow"},e))}),m.jsx(P,{children:"Provide a URL to any supporting files"}),m.jsx(M,{})]})})]}),m.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[m.jsx(v,{type:"button",variant:"outline",onClick:()=>a.reset(),disabled:e,className:"border-monza-grey/20 hover:bg-monza-yellow/20 hover:text-monza-black",children:"Reset"}),m.jsx(v,{type:"submit",disabled:e,className:"bg-monza-yellow hover:bg-monza-yellow/90 text-monza-black gap-2",children:e?"Submitting...":m.jsxs(m.Fragment,{children:[m.jsx(q,{className:"h-4 w-4"}),"Submit Report to Samer & Kareem"]})})]})]})}))})]})};export{I as default};
