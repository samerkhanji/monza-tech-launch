var e=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(s,a,t)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t,i=(e,s)=>{for(var a in s||(s={}))r.call(s,a)&&n(e,a,s[a]);if(t)for(var a of t(s))l.call(s,a)&&n(e,a,s[a]);return e},c=(e,t)=>s(e,a(t)),o=(e,s,a)=>new Promise((t,r)=>{var l=e=>{try{i(a.next(e))}catch(s){r(s)}},n=e=>{try{i(a.throw(e))}catch(s){r(s)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(l,n);i((a=a.apply(e,s)).next())});import{j as d,I as m,i as x,t as h,C as u,g,h as p,a as j,L as v,k as y,u as f,l as N,S as b,b as S,e as w,m as C,D as k,U as M,A as I,n as R,P as T,o as P,f as A,p as E,q as F,r as D,v as O,B as G,w as B,c as q,W as L,d as _,x as V,y as W,z as J,E as $,F as U,G as H,H as X,J as Y}from"./index-BmUpYGrm.js";import{r as K}from"./vendor-vN6PtkFd.js";import{C as z}from"./checkbox-CbEst83x.js";import{s as Q}from"./errorHandling-Dc1u_gNS.js";import{c as Z}from"./carService-BlnIAupl.js";import{T as ee}from"./TabDataLinkingStatus-vIiE-mSD.js";import{R as se}from"./refresh-cw-C6MAcERo.js";import{G as ae}from"./gauge-Cy8s4FVS.js";import{T as te}from"./target-dshlZX_X.js";import"./charts-XrXYWaKo.js";import"./utils-DhcIvS4g.js";import"./carClientLinkingService-K_T_il58.js";import"./arrow-right-iDmV9z1N.js";import"./x-circle-HKM8FhbF.js";const re=new class{getComprehensiveMetrics(){return o(this,null,function*(){try{let s=[];try{const{data:e,error:a}=yield Z.getAllCars();!a&&e&&(s=e)}catch(e){}if(0===s.length){const e=Q("carInventory",[]),a=Q("showroomFloor1",[]),t=Q("showroomFloor2",[]),r=Q("garageInventory",[]),l=Q("orderedCars",[]);s=[...e,...a,...t,...r,...l]}const a=s.length,t=s.filter(e=>"available"===e.status||"in_stock"===e.status).length,r=s.filter(e=>"sold"===e.status).length,l=s.filter(e=>"reserved"===e.status||"in_repair"===e.status||"pending"===e.status).length,n=45e3,i=r*n,c=Math.floor(.3*r),o=.15,d=8,m=Math.floor(10*Math.random())+3,x=Math.floor(8*Math.random())+2,h=s.filter(e=>"in_repair"===e.status||"garage"===e.currentFloor).length,u=Math.floor(15*Math.random())+5,g=Math.floor(20*Math.random())+80,p=Math.floor(15*Math.random())+85,j=Math.min(100,r/Math.max(1,a)*100),v=Math.floor(20*Math.random())+75;return{totalCars:a,availableCars:t,soldCars:r,inProgressCars:l,totalRevenue:i,monthlySales:c,averageCarPrice:n,profitMargin:o,activeEmployees:d,pendingRequests:m,scheduledToday:x,carsInGarage:h,lowStockItems:u,efficiencyScore:g,customerSatisfaction:p,inventoryTurnover:j,repairCompletionRate:v,recentActivities:this.generateRecentActivities()}}catch(s){return this.getDefaultMetrics()}})}getRoleSpecificMetrics(){return{owner:{totalRevenue:125e4,activeEmployees:12,monthlySales:24,quarterlyGrowth:15.3},garage_manager:{teamEfficiency:87,completedRepairs:156,avgRepairTime:2.4,mechanicsAvailable:4},sales:{personalSales:8,activeLeads:15,availableCars:32,targetProgress:73,conversionRate:24.5},assistant:{pendingTasks:7,newArrivals:5,scheduledAppointments:12,processedToday:8}}}generateRecentActivities(){return[{type:"car_arrival",message:"New car arrival: Voyah Free",time:"2 hours ago",priority:"medium"},{type:"repair_complete",message:"Repair completed: BMW X5",time:"4 hours ago",priority:"high"},{type:"sale_complete",message:"Sale completed: Mercedes C-Class",time:"6 hours ago",priority:"high"},{type:"appointment",message:"Customer appointment scheduled",time:"8 hours ago",priority:"medium"},{type:"maintenance",message:"Scheduled maintenance: Audi A4",time:"10 hours ago",priority:"low"},{type:"inventory",message:"Inventory count completed",time:"12 hours ago",priority:"medium"}].map(e=>c(i({},e),{icon:this.getActivityIcon(e.type)}))}getActivityIcon(e){return{car_arrival:"Car",repair_complete:"Wrench",sale_complete:"DollarSign",appointment:"Clock",maintenance:"Settings",inventory:"Package"}[e]||"Activity"}getDefaultMetrics(){return{totalCars:0,availableCars:0,soldCars:0,inProgressCars:0,totalRevenue:0,monthlySales:0,averageCarPrice:45e3,profitMargin:.15,activeEmployees:8,pendingRequests:5,scheduledToday:3,carsInGarage:0,lowStockItems:8,efficiencyScore:85,customerSatisfaction:90,inventoryTurnover:0,repairCompletionRate:80,recentActivities:[]}}getFinancialAnalytics(){return o(this,null,function*(){try{const e=yield this.getComprehensiveMetrics();return{revenue:{total:e.totalRevenue,monthly:e.monthlySales*e.averageCarPrice,average:e.averageCarPrice,profit:e.totalRevenue*e.profitMargin},sales:{total:e.soldCars,monthly:e.monthlySales,conversionRate:e.soldCars/Math.max(1,e.totalCars)*100},performance:{efficiency:e.efficiencyScore,satisfaction:e.customerSatisfaction,turnover:e.inventoryTurnover}}}catch(e){return null}})}getOperationalAnalytics(){return o(this,null,function*(){try{const e=yield this.getComprehensiveMetrics();return{inventory:{total:e.totalCars,available:e.availableCars,inProgress:e.inProgressCars,inGarage:e.carsInGarage},workforce:{activeEmployees:e.activeEmployees,efficiency:e.efficiencyScore,pendingTasks:e.pendingRequests},operations:{scheduledToday:e.scheduledToday,lowStockItems:e.lowStockItems,repairCompletionRate:e.repairCompletionRate}}}catch(e){return null}})}getInventoryByModel(){return o(this,null,function*(){try{const{data:e,error:s}=yield Z.getAllCars();if(s||!e)return this.getSampleInventoryByModel();const a={};return e.forEach(e=>{const s=e.model||e.customModelName||"Unknown";a[s]||(a[s]={total:0,s1:0,s2:0}),a[s].total++,"floor1"===e.currentFloor||"showroom1"===e.currentFloor?a[s].s1++:"floor2"!==e.currentFloor&&"showroom2"!==e.currentFloor||a[s].s2++}),Object.entries(a).map(([e,s])=>({model:e,trim:"Standard",total:s.total,s1:s.s1,s2:s.s2}))}catch(e){return this.getSampleInventoryByModel()}})}getGarageBacklog(){return o(this,null,function*(){try{const{data:e,error:s}=yield Z.getAllCars();if(s||!e)return this.getSampleGarageBacklog();return e.filter(e=>"in_repair"===e.status||"garage"===e.currentFloor).slice(0,10).map(e=>({vin:e.vinNumber||"N/A",model:e.model||e.customModelName||"Unknown",status:e.status||"Unknown",assigned:e.pdiTechnician||"Unassigned",eta:"2-3 days",sla:"On track"}))}catch(e){return this.getSampleGarageBacklog()}})}getSalesPipeline(){return o(this,null,function*(){try{const{data:e,error:s}=yield Z.getAllCars();if(s||!e)return this.getSampleSalesPipeline();const a={"In Stock":e.filter(e=>"in_stock"===e.status||"available"===e.status).length,Reserved:e.filter(e=>"reserved"===e.status).length,"In Negotiation":e.filter(e=>"pending"===e.status).length,Sold:e.filter(e=>"sold"===e.status).length};return Object.entries(a).map(([e,s])=>({stage:e,quantity:s}))}catch(e){return this.getSampleSalesPipeline()}})}getSampleInventoryByModel(){return[{model:"Voyah FREE",trim:"Standard",total:5,s1:3,s2:2},{model:"BMW X5",trim:"Premium",total:3,s1:2,s2:1},{model:"Mercedes C-Class",trim:"Luxury",total:2,s1:1,s2:1}]}getSampleGarageBacklog(){return[{vin:"LDP95H96XSE900273",model:"Voyah FREE",status:"In Repair",assigned:"Mark",eta:"2-3 days",sla:"On track"},{vin:"BMW123456789",model:"BMW X5",status:"Pending",assigned:"Khalil",eta:"1-2 days",sla:"On track"}]}getSampleSalesPipeline(){return[{stage:"In Stock",quantity:8},{stage:"Reserved",quantity:3},{stage:"In Negotiation",quantity:2},{stage:"Sold",quantity:5}]}},le=({value:e="",onChange:s,placeholder:a="YYYY-MM-DD",className:t,required:r=!1,disabled:l=!1,min:n,max:i,id:c,name:o})=>{const[h,u]=K.useState(e),[g,p]=K.useState(!1),j=K.useRef(null);K.useEffect(()=>{u(e)},[e]);return d.jsx("div",{className:"relative",children:d.jsx(m,{ref:j,id:c,name:o,type:"text",value:h,onChange:e=>{const a=e.target.value;u(a);(/^\d{4}-\d{2}-\d{2}$/.test(a)||""===a)&&(null==s||s(a))},onFocus:()=>{p(!0),j.current&&(j.current.type="date")},onBlur:()=>{p(!1),j.current&&(j.current.type="text")},onKeyDown:e=>{["Tab","Escape","Enter"].includes(e.key)||["Backspace","Delete","-"].includes(e.key)||/^\d$/.test(e.key)||e.preventDefault()},placeholder:a,className:x(g&&"ring-2 ring-blue-500 ring-opacity-50",t),required:r,disabled:l,pattern:"\\\\d{4}-\\\\d{2}-\\\\d{2}",autoComplete:"off"})})},ne=(e,s="Data saved successfully",a="Failed to save data")=>o(void 0,null,function*(){try{const a=yield e();return h({title:"Success",description:s}),{success:!0,data:a}}catch(t){const e=t instanceof Error?t.message:a;return h({title:"Save Failed",description:e,variant:"destructive"}),{success:!1,error:e}}}),ie=()=>{const[e,s]=K.useState({name:"",email:"",date:"",notes:""}),[a,t]=K.useState([]),[r,l]=K.useState(!1);return d.jsxs(u,{className:"w-full max-w-2xl mx-auto",children:[d.jsxs(g,{children:[d.jsx(p,{className:"text-center",children:"Form Save Test Component"}),d.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Test various form saving scenarios to ensure data persistence works correctly"})]}),d.jsxs(j,{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(v,{htmlFor:"test-name",children:"Name *"}),d.jsx(m,{id:"test-name",value:e.name,onChange:e=>s(s=>c(i({},s),{name:e.target.value})),placeholder:"Enter test name"})]}),d.jsxs("div",{children:[d.jsx(v,{htmlFor:"test-email",children:"Email *"}),d.jsx(m,{id:"test-email",type:"email",value:e.email,onChange:e=>s(s=>c(i({},s),{email:e.target.value})),placeholder:"Enter test email"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(v,{htmlFor:"test-date",children:"Date"}),d.jsx(le,{id:"test-date",value:e.date,onChange:e=>s(s=>c(i({},s),{date:e})),placeholder:"Select date"})]}),d.jsxs("div",{children:[d.jsx(v,{htmlFor:"test-notes",children:"Notes"}),d.jsx(m,{id:"test-notes",value:e.notes,onChange:e=>s(s=>c(i({},s),{notes:e.target.value})),placeholder:"Enter notes"})]})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[d.jsx(y,{onClick:()=>o(void 0,null,function*(){if(!e.name||!e.email)return void h({title:"Validation Error",description:"Name and email are required",variant:"destructive"});(yield ne(()=>o(void 0,null,function*(){yield new Promise(e=>setTimeout(e,1e3));const s=c(i({},e),{id:Date.now(),savedAt:(new Date).toISOString()});return t(e=>[...e,s]),s}),"Test data saved successfully!","Failed to save test data")).success&&s({name:"",email:"",date:"",notes:""})}),disabled:r||!e.name||!e.email,className:"bg-green-600 hover:bg-green-700",children:"Test Basic Save"}),d.jsx(y,{onClick:()=>o(void 0,null,function*(){var a,r,l,n,d;yield(a=()=>o(void 0,null,function*(){yield new Promise(e=>setTimeout(e,800));const s=c(i({},e),{id:Date.now(),savedAt:(new Date).toISOString()});return t(e=>[...e,s]),s}),r=e=>{s({name:"",email:"",date:"",notes:""})},l=e=>{},n="Data submitted safely!",d="Safe submission failed",o(void 0,null,function*(){const e=yield ne(a,n,d);e.success&&e.data?null==r||r(e.data):e.error&&(null==l||l(e.error))}))}),disabled:r||!e.name||!e.email,className:"bg-blue-600 hover:bg-blue-700",children:"Test Safe Submit"}),d.jsx(y,{onClick:()=>o(void 0,null,function*(){yield ne(()=>o(void 0,null,function*(){throw new Error("Simulated error for testing")}),"This should not show","Error test completed successfully")}),disabled:r,variant:"outline",className:"border-red-300 text-red-700 hover:bg-red-50",children:"Test Error Handling"}),d.jsx(y,{onClick:()=>{t([]),h({title:"Data Cleared",description:"All test data has been cleared"})},variant:"outline",className:"border-gray-300",children:"Clear Test Data"})]}),a.length>0&&d.jsxs("div",{className:"mt-6",children:[d.jsxs("h3",{className:"font-semibold mb-3",children:["Saved Test Data (",a.length,")"]}),d.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:a.map((e,s)=>d.jsxs("div",{className:"p-3 bg-gray-50 rounded border text-sm",children:[d.jsxs("div",{className:"font-medium",children:[e.name," (",e.email,")"]}),d.jsxs("div",{className:"text-gray-600",children:["Date: ",e.date||"N/A"," | Notes: ",e.notes||"N/A"]}),d.jsxs("div",{className:"text-xs text-gray-500",children:["Saved at: ",new Date(e.savedAt).toLocaleString()]})]},e.id))})]}),d.jsx("div",{className:"text-center text-sm text-gray-600",children:r?d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),"Processing..."]}):d.jsx("div",{children:"Ready for testing"})})]})]})},ce=()=>{const e={role:"OWNER"},s=f(),[a,t]=K.useState(new Date),{toast:r}=N(),[l,n]=K.useState(""),[x,h]=K.useState([]),[Q,Z]=K.useState(!1),[le,ne]=K.useState({totalCars:0,availableCars:0,soldCars:0,inProgressCars:0,totalRevenue:0,monthlySales:0,activeEmployees:0,pendingRequests:0,scheduledToday:0,carsInGarage:0,lowStockItems:0,efficiencyScore:0,customerSatisfaction:0,recentActivities:[]}),[ce,oe]=K.useState([]),[de,me]=K.useState([]),[xe,he]=K.useState([]),[ue,ge]=K.useState([]),[pe,je]=K.useState([]),[ve,ye]=K.useState(re.getRoleSpecificMetrics()),fe=e=>o(void 0,null,function*(){if(!e.trim())return h([]),void Z(!1);try{const s=[],a=JSON.parse(localStorage.getItem("carInventory")||"[]"),t=JSON.parse(localStorage.getItem("garageInventory")||"[]"),r=JSON.parse(localStorage.getItem("showroomFloor1")||"[]"),l=JSON.parse(localStorage.getItem("showroomFloor2")||"[]"),n=JSON.parse(localStorage.getItem("garageSchedule")||"[]");s.push(...a.map(e=>c(i({},e),{source:"Inventory"}))),s.push(...t.map(e=>c(i({},e),{source:"Garage"}))),s.push(...r.map(e=>c(i({},e),{source:"Showroom Floor 1"}))),s.push(...l.map(e=>c(i({},e),{source:"Showroom Floor 2"}))),s.push(...n.map(e=>c(i({},e),{source:"Garage Schedule"})));const o=s.filter(s=>{const a=e.toLowerCase();return(s.vinNumber||s.vin||"").toLowerCase().includes(a)||(s.model||s.carModel||"").toLowerCase().includes(a)||(s.customerName||s.clientName||"").toLowerCase().includes(a)||(s.year||"").toString().includes(a)||(s.color||"").toLowerCase().includes(a)||(s.brand||"").toLowerCase().includes(a)||(s.status||"").toLowerCase().includes(a)||(s.category||"").toLowerCase().includes(a)});h(o),Z(!0)}catch(s){r({title:"Search Error",description:"An error occurred while searching for cars",variant:"destructive"})}});K.useEffect(()=>{o(void 0,null,function*(){try{const e=yield re.getComprehensiveMetrics();ne({totalCars:e.totalCars,availableCars:e.availableCars,soldCars:e.soldCars,inProgressCars:e.inProgressCars,totalRevenue:e.totalRevenue,monthlySales:e.monthlySales,activeEmployees:e.activeEmployees,pendingRequests:e.pendingRequests,scheduledToday:e.scheduledToday,carsInGarage:e.carsInGarage,lowStockItems:e.lowStockItems,efficiencyScore:e.efficiencyScore,customerSatisfaction:e.customerSatisfaction,recentActivities:e.recentActivities.map(e=>c(i({},e),{icon:Ne(e.type)}))});const[s,a,t]=yield Promise.all([re.getInventoryByModel(),re.getGarageBacklog(),re.getSalesPipeline()]);oe(s),me(a),he(t),ge([{type:"Test Drive",customer:"John Doe",model:"Voyah FREE",time:"10:00 AM"},{type:"Service",customer:"Jane Smith",model:"BMW X5",time:"2:00 PM"}]),je([{partNumber:"BMW001",name:"Brake Pads",stock:2,min:5},{partNumber:"VYH002",name:"Battery Pack",stock:1,min:3}])}catch(e){}})},[null==e?void 0:e.role]);const Ne=e=>({car_arrival:S,repair_complete:L,sale_complete:k,appointment:R,maintenance:V,inventory:T}[e]||q);K.useEffect(()=>{const e=setInterval(()=>{t(new Date)},6e4);return()=>clearInterval(e)},[]);const[be,Se]=K.useState(null),[we,Ce]=K.useState(!1),[ke,Me]=K.useState(null),Ie=e=>{const s=e.items.filter(e=>e.completed).length;return Math.round(s/e.items.length*100)},Re=e=>{switch(e){case"available":return"bg-green-100 text-green-800";case"sold":return"bg-blue-100 text-blue-800";case"reserved":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},Te=e=>{switch(e){case"available":return"Available";case"sold":return"Sold";case"reserved":return"Reserved";default:return"Unknown"}};return d.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),d.jsx("p",{className:"text-gray-600",children:"Real-time overview of your automotive operations"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Current Time"}),d.jsx("p",{className:"text-lg font-semibold",children:a.toLocaleTimeString()})]}),d.jsxs(y,{onClick:()=>window.location.reload(),children:[d.jsx(se,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 p-2 rounded-md",children:[d.jsx(b,{className:"h-4 w-4 text-gray-500"}),d.jsx(m,{type:"text",placeholder:"Search cars...",value:l,onChange:e=>n(e.target.value),onKeyPress:e=>{"Enter"===e.key&&fe(l)},className:"flex-1 bg-transparent focus-visible:ring-0"}),d.jsx(y,{variant:"ghost",onClick:()=>fe(l),children:d.jsx(b,{className:"h-4 w-4 text-gray-500"})})]}),Q&&x.length>0&&d.jsxs("div",{className:"mt-4 bg-white p-4 rounded-lg shadow-md",children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Search Results"}),d.jsx("div",{className:"space-y-2",children:x.map((e,a)=>d.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md hover:bg-gray-50 cursor-pointer",onClick:()=>(e=>{switch(e.source){case"Inventory":default:s("/car-inventory");break;case"Garage":s("/garage-car-inventory");break;case"Showroom Floor 1":s("/showroom-floor1");break;case"Showroom Floor 2":s("/showroom-floor2");break;case"Garage Schedule":s("/garage-schedule")}})(e),children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(S,{className:"h-5 w-5 text-blue-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.model}),d.jsxs("p",{className:"text-xs text-gray-500",children:[e.vinNumber||e.vin," - ",e.year," ",e.color]}),d.jsxs("p",{className:"text-xs text-gray-500",children:["Status: ",d.jsx(w,{className:Re(e.status),children:Te(e.status)})]})]})]}),d.jsx(w,{variant:"secondary",children:e.source})]},a))})]}),Q&&0===x.length&&d.jsx("p",{className:"mt-4 text-center text-gray-500",children:"No cars found matching your search."}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs(u,{className:"bg-green-50 border-green-200 cursor-pointer hover:shadow-lg transition-all duration-200 hover:-translate-y-1",children:[d.jsxs(g,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(p,{className:"text-sm font-medium text-green-800",children:"Available Cars"}),d.jsx(C,{className:"h-4 w-4 text-green-600"})]}),d.jsxs(j,{children:[d.jsx("div",{className:"text-2xl font-bold text-green-900",children:le.availableCars}),d.jsx("p",{className:"text-xs text-green-600",children:"Ready for sale"})]})]}),d.jsxs(u,{className:"bg-blue-50 border-blue-200 cursor-pointer hover:shadow-lg transition-all duration-200 hover:-translate-y-1",children:[d.jsxs(g,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(p,{className:"text-sm font-medium text-blue-800",children:"Sold Cars"}),d.jsx(k,{className:"h-4 w-4 text-blue-600"})]}),d.jsxs(j,{children:[d.jsx("div",{className:"text-2xl font-bold text-blue-900",children:le.soldCars}),d.jsx("p",{className:"text-xs text-blue-600",children:"Completed sales"})]})]}),d.jsxs(u,{className:"bg-purple-50 border-purple-200 cursor-pointer hover:shadow-lg transition-all duration-200 hover:-translate-y-1",children:[d.jsxs(g,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(p,{className:"text-sm font-medium text-purple-800",children:"Efficiency"}),d.jsx(ae,{className:"h-4 w-4 text-purple-600"})]}),d.jsxs(j,{children:[d.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[le.efficiencyScore,"%"]}),d.jsx("p",{className:"text-xs text-purple-600",children:"Team efficiency"})]})]}),d.jsxs(u,{className:"bg-orange-50 border-orange-200 cursor-pointer hover:shadow-lg transition-all duration-200 hover:-translate-y-1",children:[d.jsxs(g,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(p,{className:"text-sm font-medium text-orange-800",children:"Satisfaction"}),d.jsx(M,{className:"h-4 w-4 text-orange-600"})]}),d.jsxs(j,{children:[d.jsxs("div",{className:"text-2xl font-bold text-orange-900",children:[le.customerSatisfaction,"%"]}),d.jsx("p",{className:"text-xs text-orange-600",children:"Customer satisfaction"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[d.jsxs(u,{className:"bg-indigo-50 border-indigo-200",children:[d.jsx(g,{className:"pb-2",children:d.jsxs(p,{className:"text-xs font-medium text-indigo-800 flex items-center gap-1",children:[d.jsx(S,{className:"h-3 w-3"}),"In Garage"]})}),d.jsx(j,{children:d.jsx("div",{className:"text-lg font-bold text-indigo-900",children:le.carsInGarage})})]}),d.jsxs(u,{className:"bg-red-50 border-red-200",children:[d.jsx(g,{className:"pb-2",children:d.jsxs(p,{className:"text-xs font-medium text-red-800 flex items-center gap-1",children:[d.jsx(I,{className:"h-3 w-3"}),"Pending"]})}),d.jsx(j,{children:d.jsx("div",{className:"text-lg font-bold text-red-900",children:le.pendingRequests})})]}),d.jsxs(u,{className:"bg-teal-50 border-teal-200",children:[d.jsx(g,{className:"pb-2",children:d.jsxs(p,{className:"text-xs font-medium text-teal-800 flex items-center gap-1",children:[d.jsx(R,{className:"h-3 w-3"}),"Scheduled"]})}),d.jsx(j,{children:d.jsx("div",{className:"text-lg font-bold text-teal-900",children:le.scheduledToday})})]}),d.jsxs(u,{className:"bg-amber-50 border-amber-200",children:[d.jsx(g,{className:"pb-2",children:d.jsxs(p,{className:"text-xs font-medium text-amber-800 flex items-center gap-1",children:[d.jsx(T,{className:"h-3 w-3"}),"Low Stock"]})}),d.jsx(j,{children:d.jsx("div",{className:"text-lg font-bold text-amber-900",children:le.lowStockItems})})]}),d.jsxs(u,{className:"bg-emerald-50 border-emerald-200",children:[d.jsx(g,{className:"pb-2",children:d.jsxs(p,{className:"text-xs font-medium text-emerald-800 flex items-center gap-1",children:[d.jsx(P,{className:"h-3 w-3"}),"Employees"]})}),d.jsx(j,{children:d.jsx("div",{className:"text-lg font-bold text-emerald-900",children:le.activeEmployees})})]}),d.jsxs(u,{className:"bg-rose-50 border-rose-200",children:[d.jsx(g,{className:"pb-2",children:d.jsxs(p,{className:"text-xs font-medium text-rose-800 flex items-center gap-1",children:[d.jsx(A,{className:"h-3 w-3"}),"Monthly Sales"]})}),d.jsx(j,{children:d.jsx("div",{className:"text-lg font-bold text-rose-900",children:le.monthlySales})})]})]}),d.jsxs(E,{defaultValue:"overview",className:"w-full",children:[d.jsxs(F,{className:"grid w-full grid-cols-5",children:[d.jsx(D,{value:"overview",children:"Overview"}),d.jsx(D,{value:"analytics",children:"Analytics"}),d.jsx(D,{value:"activities",children:"Recent Activities"}),d.jsx(D,{value:"actions",children:"Quick Actions"}),d.jsx(D,{value:"testing",children:"Testing"})]}),d.jsxs(O,{value:"overview",className:"space-y-6",children:[ve[e.role]&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Object.entries(ve[e.role]).map(([e,s])=>d.jsxs(u,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:[d.jsx(g,{className:"pb-2",children:d.jsx(p,{className:"text-sm font-medium text-blue-800 capitalize",children:e.replace(/([A-Z])/g," $1").trim()})}),d.jsx(j,{children:d.jsx("div",{className:"text-xl font-bold text-blue-900",children:"number"==typeof s&&e.includes("Rate")?`${s}%`:"number"==typeof s&&e.includes("Revenue")?`$${(s/1e6).toFixed(1)}M`:"number"==typeof s&&e.includes("Time")?`${s}h`:s})})]},e))}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs(u,{children:[d.jsx(g,{children:d.jsxs(p,{className:"flex items-center gap-2",children:[d.jsx(G,{className:"h-5 w-5 text-blue-600"}),"Performance Metrics"]})}),d.jsxs(j,{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Efficiency Score"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(B,{value:le.efficiencyScore,className:"w-20"}),d.jsxs("span",{className:"text-sm font-medium",children:[le.efficiencyScore,"%"]})]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Customer Satisfaction"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(B,{value:le.customerSatisfaction,className:"w-20"}),d.jsxs("span",{className:"text-sm font-medium",children:[le.customerSatisfaction,"%"]})]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Inventory Turnover"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(B,{value:Math.min(100,le.soldCars/Math.max(1,le.totalCars)*100),className:"w-20"}),d.jsxs("span",{className:"text-sm font-medium",children:[Math.round(le.soldCars/Math.max(1,le.totalCars)*100),"%"]})]})]})]})]}),d.jsxs(u,{children:[d.jsx(g,{children:d.jsxs(p,{className:"flex items-center gap-2",children:[d.jsx(te,{className:"h-5 w-5 text-green-600"}),"Sales Targets"]})}),d.jsxs(j,{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Monthly Goal"}),d.jsx("span",{className:"text-sm font-medium",children:"25 cars"})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Current Sales"}),d.jsxs("span",{className:"text-sm font-medium",children:[le.monthlySales," cars"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Progress"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(B,{value:le.monthlySales/25*100,className:"w-20"}),d.jsxs("span",{className:"text-sm font-medium",children:[Math.round(le.monthlySales/25*100),"%"]})]})]})]})]})]})]}),d.jsx(O,{value:"analytics",className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs(u,{children:[d.jsx(g,{children:d.jsxs(p,{className:"flex items-center gap-2",children:[d.jsx(A,{className:"h-5 w-5 text-green-600"}),"Revenue Trends"]})}),d.jsx(j,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue"}),d.jsxs("span",{className:"font-medium",children:["$",(le.totalRevenue/1e6).toFixed(1),"M"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Monthly Sales"}),d.jsxs("span",{className:"font-medium",children:[le.monthlySales," cars"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Average Price"}),d.jsxs("span",{className:"font-medium",children:["$",Math.round(le.totalRevenue/Math.max(1,le.soldCars)).toLocaleString()]})]})]})})]}),d.jsxs(u,{children:[d.jsx(g,{children:d.jsxs(p,{className:"flex items-center gap-2",children:[d.jsx(q,{className:"h-5 w-5 text-blue-600"}),"Operational Metrics"]})}),d.jsx(j,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Cars in Garage"}),d.jsx("span",{className:"font-medium",children:le.carsInGarage})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Pending Requests"}),d.jsx("span",{className:"font-medium",children:le.pendingRequests})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Scheduled Today"}),d.jsx("span",{className:"font-medium",children:le.scheduledToday})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Low Stock Items"}),d.jsx("span",{className:"font-medium",children:le.lowStockItems})]})]})})]})]})}),d.jsx(O,{value:"activities",className:"space-y-6",children:d.jsxs(u,{children:[d.jsx(g,{children:d.jsxs(p,{className:"flex items-center gap-2",children:[d.jsx(R,{className:"h-5 w-5 text-blue-600"}),"Recent Activities"]})}),d.jsx(j,{children:d.jsx("div",{className:"space-y-4",children:le.recentActivities.map((e,s)=>d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[d.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:d.jsx(e.icon,{className:"h-4 w-4 text-blue-600"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.message}),d.jsx("p",{className:"text-xs text-gray-500",children:e.time})]})]},s))})})]})}),d.jsx(O,{value:"actions",className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs(u,{children:[d.jsx(g,{children:d.jsxs(p,{className:"flex items-center gap-2",children:[d.jsx(S,{className:"h-5 w-5 text-blue-600"}),"Car Inventory"]})}),d.jsxs(j,{children:[d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Manage your vehicle inventory"}),d.jsx(y,{onClick:()=>s("/car-inventory"),className:"w-full",children:"View Inventory"})]})]}),d.jsxs(u,{children:[d.jsx(g,{children:d.jsxs(p,{className:"flex items-center gap-2",children:[d.jsx(L,{className:"h-5 w-5 text-orange-600"}),"Garage Schedule"]})}),d.jsxs(j,{children:[d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Schedule and track repairs"}),d.jsx(y,{onClick:()=>s("/garage-schedule"),className:"w-full",children:"View Schedule"})]})]}),d.jsxs(u,{children:[d.jsx(g,{children:d.jsxs(p,{className:"flex items-center gap-2",children:[d.jsx(M,{className:"h-5 w-5 text-green-600"}),"Sales"]})}),d.jsxs(j,{children:[d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Track sales and customer data"}),d.jsx(y,{onClick:()=>s("/sales"),className:"w-full",children:"View Sales"})]})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[d.jsxs(u,{children:[d.jsx(g,{children:d.jsxs(p,{className:"flex items-center gap-2",children:[d.jsx(S,{className:"h-5 w-5 text-blue-600"}),"Inventory by Model"]})}),d.jsx(j,{children:ce.length>0?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-5 gap-2 text-xs font-medium text-gray-500 border-b pb-2",children:[d.jsx("span",{children:"Model"}),d.jsx("span",{children:"Trim"}),d.jsx("span",{children:"Total"}),d.jsx("span",{children:"S1"}),d.jsx("span",{children:"S2"})]}),ce.map((e,s)=>d.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm",children:[d.jsx("span",{className:"font-medium",children:e.model}),d.jsx("span",{children:e.trim}),d.jsx("span",{children:e.total}),d.jsx("span",{children:e.s1}),d.jsx("span",{children:e.s2})]},s))]}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"No data available"})})]}),d.jsxs(u,{children:[d.jsx(g,{children:d.jsxs(p,{className:"flex items-center gap-2",children:[d.jsx(L,{className:"h-5 w-5 text-orange-600"}),"Garage Backlog (Next 10)"]})}),d.jsx(j,{children:de.length>0?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-6 gap-2 text-xs font-medium text-gray-500 border-b pb-2",children:[d.jsx("span",{children:"VIN"}),d.jsx("span",{children:"Model"}),d.jsx("span",{children:"Status"}),d.jsx("span",{children:"Assigned"}),d.jsx("span",{children:"ETA"}),d.jsx("span",{children:"SLA"})]}),de.map((e,s)=>d.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm",children:[d.jsx("span",{className:"font-mono text-xs",children:e.vin}),d.jsx("span",{children:e.model}),d.jsx("span",{children:e.status}),d.jsx("span",{children:e.assigned}),d.jsx("span",{children:e.eta}),d.jsx("span",{className:"On track"===e.sla?"text-green-600":"text-red-600",children:e.sla})]},s))]}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"No data available"})})]}),d.jsxs(u,{children:[d.jsx(g,{children:d.jsxs(p,{className:"flex items-center gap-2",children:[d.jsx(R,{className:"h-5 w-5 text-green-600"}),"Today's Schedule"]})}),d.jsx(j,{children:ue.length>0?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs font-medium text-gray-500 border-b pb-2",children:[d.jsx("span",{children:"Type"}),d.jsx("span",{children:"Customer"}),d.jsx("span",{children:"Model"}),d.jsx("span",{children:"Time"})]}),ue.map((e,s)=>d.jsxs("div",{className:"grid grid-cols-4 gap-2 text-sm",children:[d.jsx("span",{children:e.type}),d.jsx("span",{children:e.customer}),d.jsx("span",{children:e.model}),d.jsx("span",{children:e.time})]},s))]}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"No data available"})})]}),d.jsxs(u,{children:[d.jsx(g,{children:d.jsxs(p,{className:"flex items-center gap-2",children:[d.jsx(A,{className:"h-5 w-5 text-purple-600"}),"Sales Pipeline"]})}),d.jsx(j,{children:xe.length>0?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs font-medium text-gray-500 border-b pb-2",children:[d.jsx("span",{children:"Stage"}),d.jsx("span",{children:"Quantity"})]}),xe.map((e,s)=>d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[d.jsx("span",{children:e.stage}),d.jsx("span",{className:"font-medium",children:e.quantity})]},s))]}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"No data available"})})]}),d.jsxs(u,{className:"lg:col-span-2",children:[d.jsx(g,{children:d.jsxs(p,{className:"flex items-center gap-2",children:[d.jsx(_,{className:"h-5 w-5 text-red-600"}),"Low-Stock Parts Alert"]})}),d.jsx(j,{children:pe.length>0?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs font-medium text-gray-500 border-b pb-2",children:[d.jsx("span",{children:"Part #"}),d.jsx("span",{children:"Name"}),d.jsx("span",{children:"Stock"}),d.jsx("span",{children:"Min"})]}),pe.map((e,s)=>d.jsxs("div",{className:"grid grid-cols-4 gap-2 text-sm",children:[d.jsx("span",{className:"font-mono text-xs",children:e.partNumber}),d.jsx("span",{children:e.name}),d.jsx("span",{className:e.stock<e.min?"text-red-600 font-medium":"text-gray-600",children:e.stock}),d.jsx("span",{children:e.min})]},s))]}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"No data available"})})]})]}),d.jsx(O,{value:"testing",className:"space-y-6",children:d.jsxs(u,{children:[d.jsx(g,{children:d.jsxs(p,{className:"flex items-center gap-2",children:[d.jsx(V,{className:"h-5 w-5 text-purple-600"}),"Form Save Testing"]})}),d.jsxs(j,{children:[d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Test various form saving scenarios to ensure data persistence works correctly across the application."}),d.jsx(ie,{})]})]})})]}),d.jsx("div",{className:"mt-6",children:d.jsx(ee,{showDetails:!1})}),d.jsx(W,{open:we,onOpenChange:Ce,children:d.jsxs(J,{className:"max-w-2xl","aria-describedby":"work-checklist-description",children:[d.jsxs($,{children:[d.jsxs(U,{className:"flex items-center gap-2",children:[d.jsx(H,{className:"h-5 w-5"}),"Work Checklist",be&&d.jsxs("span",{className:"text-sm text-gray-500",children:["- ",be.model," (",be.vinNumber,")"]})]}),d.jsx("p",{id:"work-checklist-description",className:"text-sm text-gray-600",children:"Complete the work checklist items for this vehicle"})]}),ke&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"Progress"}),d.jsx(B,{value:Ie(ke),className:"w-full"})]}),d.jsxs(w,{variant:"secondary",children:[Ie(ke),"% Complete"]})]}),d.jsx("div",{className:"space-y-2",children:ke.items.map(e=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(z,{checked:e.completed,onCheckedChange:()=>{return s=e.id,void(ke&&Me(c(i({},ke),{items:ke.items.map(e=>e.id===s?c(i({},e),{completed:!e.completed}):e)})));var s}}),d.jsx(v,{className:"flex-1 "+(e.completed?"line-through text-gray-500":""),children:e.task}),e.required&&d.jsx(w,{variant:"destructive",className:"text-xs",children:"Required"})]},e.id))}),d.jsxs("div",{children:[d.jsx(v,{htmlFor:"notes",children:"Notes"}),d.jsx(X,{id:"notes",value:ke.notes,onChange:e=>{return s=e.target.value,void(ke&&Me(c(i({},ke),{notes:s})));var s},placeholder:"Add work notes...",rows:3})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(y,{variant:"outline",onClick:()=>Ce(!1),children:"Close"}),d.jsxs(y,{onClick:()=>{if(!ke)return;const e=localStorage.getItem("workChecklists");let s=e?JSON.parse(e):[];const a=s.findIndex(e=>e.carId===ke.carId);a>=0?s[a]=ke:s.push(ke),localStorage.setItem("workChecklists",JSON.stringify(s)),r({title:"Checklist Saved",description:"Work checklist has been saved successfully."})},children:[d.jsx(Y,{className:"h-4 w-4 mr-2"}),"Save Checklist"]})]})]})]})})]})};export{ce as default};
