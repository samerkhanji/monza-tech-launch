var e,t,s,i,a,r,n,o,l,h,c,u,d,p,y,f,m,v,b,x,g,j,w,k,C,O,R,P,A,I,M,S,_,N,E=Object.defineProperty,U=Object.defineProperties,W=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,q=e=>{throw TypeError(e)},D=(e,t,s)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Q=(e,t)=>{for(var s in t||(t={}))F.call(t,s)&&D(e,s,t[s]);if(z)for(var s of z(t))K.call(t,s)&&D(e,s,t[s]);return e},T=(e,t)=>U(e,W(t)),L=(e,t,s)=>t.has(e)||q("Cannot "+s),B=(e,t,s)=>(L(e,t,"read from private field"),s?s.call(e):t.get(e)),H=(e,t,s)=>t.has(e)?q("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),$=(e,t,s,i)=>(L(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s),G=(e,t,s)=>(L(e,t,"access private method"),s),V=(e,t,s)=>new Promise((i,a)=>{var r=e=>{try{o(s.next(e))}catch(t){a(t)}},n=e=>{try{o(s.throw(e))}catch(t){a(t)}},o=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,n);o((s=s.apply(e,t)).next())});import{a8 as Y,bt as J,bu as X,bv as Z,bw as ee,bx as te,by as se,bz as ie,bA as ae,bB as re,bC as ne,bD as oe,bE as le,bF as he,bG as ce,bH as ue,bI as de,aS as pe,s as ye,K as fe,j as me,y as ve,as as be,k as xe,O as ge,z as je,E as we,F as ke,a9 as Ce,L as Oe,I as Re,ab as Pe,C as Ae,g as Ie,h as Me,R as Se,a as _e,a6 as Ne,m as Ee,e as Ue,ar as We}from"./index-BmUpYGrm.js";import{r as ze}from"./vendor-vN6PtkFd.js";import{T as Fe,a as Ke,b as qe,c as De,d as Qe,e as Te}from"./table-BEISn_Te.js";import{u as Le}from"./index-DNyRc51V.js";import{E as Be}from"./eye-off-DKxk6IZx.js";import{f as He}from"./utils-DhcIvS4g.js";import"./charts-XrXYWaKo.js";
/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=Y("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Ge=Y("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);
/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ve=(O=class extends J{constructor(m,v){super(),H(this,f),H(this,e),H(this,t),H(this,s),H(this,i),H(this,a),H(this,r),H(this,n),H(this,o),H(this,l),H(this,h),H(this,c),H(this,u),H(this,d),H(this,p),H(this,y,new Set),this.options=v,$(this,e,m),$(this,o,null),$(this,n,X()),this.options.experimental_prefetchInRender||B(this,n).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(v)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(B(this,t).addObserver(this),Ye(B(this,t),this.options)?G(this,f,m).call(this):this.updateResult(),G(this,f,g).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Je(B(this,t),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Je(B(this,t),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,G(this,f,j).call(this),G(this,f,w).call(this),B(this,t).removeObserver(this)}setOptions(s){const i=this.options,a=B(this,t);if(this.options=B(this,e).defaultQueryOptions(s),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof Z(this.options.enabled,B(this,t)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");G(this,f,k).call(this),B(this,t).setOptions(this.options),i._defaulted&&!ee(this.options,i)&&B(this,e).getQueryCache().notify({type:"observerOptionsUpdated",query:B(this,t),observer:this});const r=this.hasListeners();r&&Xe(B(this,t),a,this.options,i)&&G(this,f,m).call(this),this.updateResult(),!r||B(this,t)===a&&Z(this.options.enabled,B(this,t))===Z(i.enabled,B(this,t))&&te(this.options.staleTime,B(this,t))===te(i.staleTime,B(this,t))||G(this,f,v).call(this);const n=G(this,f,b).call(this);!r||B(this,t)===a&&Z(this.options.enabled,B(this,t))===Z(i.enabled,B(this,t))&&n===B(this,p)||G(this,f,x).call(this,n)}getOptimisticResult(s){const n=B(this,e).getQueryCache().build(B(this,e),s),o=this.createResult(n,s);return function(e,t){if(!ee(e.getCurrentResult(),t))return!0;return!1}(this,o)&&($(this,i,o),$(this,r,this.options),$(this,a,B(this,t).state)),o}getCurrentResult(){return B(this,i)}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),null==t||t(s),Reflect.get(e,s))})}trackProp(e){B(this,y).add(e)}getCurrentQuery(){return B(this,t)}refetch(e={}){var t=((e,t)=>{var s={};for(var i in e)F.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&z)for(var i of z(e))t.indexOf(i)<0&&K.call(e,i)&&(s[i]=e[i]);return s})(e,[]);return this.fetch(Q({},t))}fetchOptimistic(t){const s=B(this,e).defaultQueryOptions(t),i=B(this,e).getQueryCache().build(B(this,e),s);return i.fetch().then(()=>this.createResult(i,s))}fetch(e){var t;return G(this,f,m).call(this,T(Q({},e),{cancelRefetch:null==(t=e.cancelRefetch)||t})).then(()=>(this.updateResult(),B(this,i)))}createResult(e,u){var d;const p=B(this,t),y=this.options,f=B(this,i),m=B(this,a),v=B(this,r),b=e!==p?e.state:B(this,s),{state:x}=e;let g,j=Q({},x),w=!1;if(u._optimisticResults){const t=this.hasListeners(),s=!t&&Ye(e,u),i=t&&Xe(e,p,u,y);(s||i)&&(j=Q(Q({},j),oe(x.data,e.options))),"isRestoring"===u._optimisticResults&&(j.fetchStatus="idle")}let{error:k,errorUpdatedAt:C,status:O}=j;g=j.data;let R=!1;if(void 0!==u.placeholderData&&void 0===g&&"pending"===O){let e;(null==f?void 0:f.isPlaceholderData)&&u.placeholderData===(null==v?void 0:v.placeholderData)?(e=f.data,R=!0):e="function"==typeof u.placeholderData?u.placeholderData(null==(d=B(this,c))?void 0:d.state.data,B(this,c)):u.placeholderData,void 0!==e&&(O="success",g=le(null==f?void 0:f.data,e,u),w=!0)}if(u.select&&void 0!==g&&!R)if(f&&g===(null==m?void 0:m.data)&&u.select===B(this,l))g=B(this,h);else try{$(this,l,u.select),g=u.select(g),g=le(null==f?void 0:f.data,g,u),$(this,h,g),$(this,o,null)}catch(N){$(this,o,N)}B(this,o)&&(k=B(this,o),g=B(this,h),C=Date.now(),O="error");const P="fetching"===j.fetchStatus,A="pending"===O,I="error"===O,M=A&&P,S=void 0!==g,_={status:O,fetchStatus:j.fetchStatus,isPending:A,isSuccess:"success"===O,isError:I,isInitialLoading:M,isLoading:M,data:g,dataUpdatedAt:j.dataUpdatedAt,error:k,errorUpdatedAt:C,failureCount:j.fetchFailureCount,failureReason:j.fetchFailureReason,errorUpdateCount:j.errorUpdateCount,isFetched:j.dataUpdateCount>0||j.errorUpdateCount>0,isFetchedAfterMount:j.dataUpdateCount>b.dataUpdateCount||j.errorUpdateCount>b.errorUpdateCount,isFetching:P,isRefetching:P&&!A,isLoadingError:I&&!S,isPaused:"paused"===j.fetchStatus,isPlaceholderData:w,isRefetchError:I&&S,isStale:Ze(e,u),refetch:this.refetch,promise:B(this,n),isEnabled:!1!==Z(u.enabled,e)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===_.status?e.reject(_.error):void 0!==_.data&&e.resolve(_.data)},s=()=>{const e=$(this,n,_.promise=X());t(e)},i=B(this,n);switch(i.status){case"pending":e.queryHash===p.queryHash&&t(i);break;case"fulfilled":"error"!==_.status&&_.data===i.value||s();break;case"rejected":"error"===_.status&&_.error===i.reason||s()}}return _}updateResult(){const e=B(this,i),s=this.createResult(B(this,t),this.options);if($(this,a,B(this,t).state),$(this,r,this.options),void 0!==B(this,a).data&&$(this,c,B(this,t)),ee(s,e))return;$(this,i,s);G(this,f,C).call(this,{listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!B(this,y).size)return!0;const a=new Set(null!=s?s:B(this,y));return this.options.throwOnError&&a.add("error"),Object.keys(B(this,i)).some(t=>{const s=t;return B(this,i)[s]!==e[s]&&a.has(s)})})()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&G(this,f,g).call(this)}},e=new WeakMap,t=new WeakMap,s=new WeakMap,i=new WeakMap,a=new WeakMap,r=new WeakMap,n=new WeakMap,o=new WeakMap,l=new WeakMap,h=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,p=new WeakMap,y=new WeakMap,f=new WeakSet,m=function(e){G(this,f,k).call(this);let s=B(this,t).fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(s=s.catch(se)),s},v=function(){G(this,f,j).call(this);const e=te(this.options.staleTime,B(this,t));if(ie||B(this,i).isStale||!ae(e))return;const s=re(B(this,i).dataUpdatedAt,e);$(this,u,setTimeout(()=>{B(this,i).isStale||this.updateResult()},s+1))},b=function(){var e;return null!=(e="function"==typeof this.options.refetchInterval?this.options.refetchInterval(B(this,t)):this.options.refetchInterval)&&e},x=function(e){G(this,f,w).call(this),$(this,p,e),!ie&&!1!==Z(this.options.enabled,B(this,t))&&ae(B(this,p))&&0!==B(this,p)&&$(this,d,setInterval(()=>{(this.options.refetchIntervalInBackground||ne.isFocused())&&G(this,f,m).call(this)},B(this,p)))},g=function(){G(this,f,v).call(this),G(this,f,x).call(this,G(this,f,b).call(this))},j=function(){B(this,u)&&(clearTimeout(B(this,u)),$(this,u,void 0))},w=function(){B(this,d)&&(clearInterval(B(this,d)),$(this,d,void 0))},k=function(){const i=B(this,e).getQueryCache().build(B(this,e),this.options);if(i===B(this,t))return;const a=B(this,t);$(this,t,i),$(this,s,i.state),this.hasListeners()&&(null==a||a.removeObserver(this),i.addObserver(this))},C=function(s){he.batch(()=>{s.listeners&&this.listeners.forEach(e=>{e(B(this,i))}),B(this,e).getQueryCache().notify({query:B(this,t),type:"observerResultsUpdated"})})},O);function Ye(e,t){return function(e,t){return!1!==Z(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&Je(e,t,t.refetchOnMount)}function Je(e,t,s){if(!1!==Z(t.enabled,e)&&"static"!==te(t.staleTime,e)){const i="function"==typeof s?s(e):s;return"always"===i||!1!==i&&Ze(e,t)}return!1}function Xe(e,t,s,i){return(e!==t||!1===Z(i.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&Ze(e,s)}function Ze(e,t){return!1!==Z(t.enabled,e)&&e.isStaleByTime(te(t.staleTime,e))}var et=(N=class extends J{constructor(e,t){super(),H(this,M),H(this,R),H(this,P),H(this,A),H(this,I),$(this,R,e),this.setOptions(t),this.bindMethods(),G(this,M,S).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const s=this.options;this.options=B(this,R).defaultMutationOptions(e),ee(this.options,s)||B(this,R).getMutationCache().notify({type:"observerOptionsUpdated",mutation:B(this,A),observer:this}),(null==s?void 0:s.mutationKey)&&this.options.mutationKey&&ce(s.mutationKey)!==ce(this.options.mutationKey)?this.reset():"pending"===(null==(t=B(this,A))?void 0:t.state.status)&&B(this,A).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||null==(e=B(this,A))||e.removeObserver(this)}onMutationUpdate(e){G(this,M,S).call(this),G(this,M,_).call(this,e)}getCurrentResult(){return B(this,P)}reset(){var e;null==(e=B(this,A))||e.removeObserver(this),$(this,A,void 0),G(this,M,S).call(this),G(this,M,_).call(this)}mutate(e,t){var s;return $(this,I,t),null==(s=B(this,A))||s.removeObserver(this),$(this,A,B(this,R).getMutationCache().build(B(this,R),this.options)),B(this,A).addObserver(this),B(this,A).execute(e)}},R=new WeakMap,P=new WeakMap,A=new WeakMap,I=new WeakMap,M=new WeakSet,S=function(){var e,t;const s=null!=(t=null==(e=B(this,A))?void 0:e.state)?t:ue();$(this,P,T(Q({},s),{isPending:"pending"===s.status,isSuccess:"success"===s.status,isError:"error"===s.status,isIdle:"idle"===s.status,mutate:this.mutate,reset:this.reset}))},_=function(e){he.batch(()=>{var t,s,i,a,r,n,o,l;if(B(this,I)&&this.hasListeners()){const h=B(this,P).variables,c=B(this,P).context;"success"===(null==e?void 0:e.type)?(null==(s=(t=B(this,I)).onSuccess)||s.call(t,e.data,h,c),null==(a=(i=B(this,I)).onSettled)||a.call(i,e.data,null,h,c)):"error"===(null==e?void 0:e.type)&&(null==(n=(r=B(this,I)).onError)||n.call(r,e.error,h,c),null==(l=(o=B(this,I)).onSettled)||l.call(o,void 0,e.error,h,c))}this.listeners.forEach(e=>{e(B(this,P))})})},N),tt=ze.createContext(!1);tt.Provider;var st=ze.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),it=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function at(e,t,s){var i,a,r,n,o;const l=ze.useContext(tt),h=ze.useContext(st),c=pe(),u=c.defaultQueryOptions(e);null==(a=null==(i=c.getDefaultOptions().queries)?void 0:i._experimental_beforeQuery)||a.call(i,u),u._optimisticResults=l?"isRestoring":"optimistic",(e=>{if(e.suspense){const t=e=>"static"===e?e:Math.max(null!=e?e:1e3,1e3),s=e.staleTime;e.staleTime="function"==typeof s?(...e)=>t(s(...e)):t(s),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3))}})(u),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(u,h),(e=>{ze.useEffect(()=>{e.clearReset()},[e])})(h);const d=!c.getQueryCache().get(u.queryHash),[p]=ze.useState(()=>new t(c,u)),y=p.getOptimisticResult(u),f=!l&&!1!==e.subscribed;if(ze.useSyncExternalStore(ze.useCallback(e=>{const t=f?p.subscribe(he.batchCalls(e)):se;return p.updateResult(),t},[p,f]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),ze.useEffect(()=>{p.setOptions(u)},[u,p]),((e,t)=>(null==e?void 0:e.suspense)&&t.isPending)(u,y))throw it(u,p,h);if((({result:e,errorResetBoundary:t,throwOnError:s,query:i,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(a&&void 0===e.data||de(s,[e.error,i])))({result:y,errorResetBoundary:h,throwOnError:u.throwOnError,query:c.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw y.error;if(null==(n=null==(r=c.getDefaultOptions().queries)?void 0:r._experimental_afterQuery)||n.call(r,u,y),u.experimental_prefetchInRender&&!ie&&((e,t)=>e.isLoading&&e.isFetching&&!t)(y,l)){const e=d?it(u,p,h):null==(o=c.getQueryCache().get(u.queryHash))?void 0:o.promise;null==e||e.catch(se).finally(()=>{p.updateResult()})}return u.notifyOnChangeProps?y:p.trackResult(y)}function rt(e,t){const s=pe(),[i]=ze.useState(()=>new et(s,e));ze.useEffect(()=>{i.setOptions(e)},[i,e]);const a=ze.useSyncExternalStore(ze.useCallback(e=>i.subscribe(he.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),r=ze.useCallback((e,t)=>{i.mutate(e,t).catch(se)},[i]);if(a.error&&de(i.options.throwOnError,[a.error]))throw a.error;return T(Q({},a),{mutate:r,mutateAsync:a.mutate})}const nt={getAll:()=>V(void 0,null,function*(){const{data:e,error:t}=yield ye.from("api_keys").select("*").order("created_at",{ascending:!1});if(t)throw t;return e}),create:(e,t)=>V(void 0,null,function*(){const s="mk_"+Array.from(crypto.getRandomValues(new Uint8Array(32))).map(e=>e.toString(16).padStart(2,"0")).join(""),{data:i,error:a}=yield ye.from("api_keys").insert({user_id:t,key_name:e,api_key:s}).select().single();if(a)throw a;return i}),delete:e=>V(void 0,null,function*(){const{error:t}=yield ye.from("api_keys").delete().eq("id",e);if(t)throw t}),toggleStatus:(e,t)=>V(void 0,null,function*(){const{data:s,error:i}=yield ye.from("api_keys").update({is_active:t}).eq("id",e).select().single();if(i)throw i;return s})},ot=()=>{const{user:e}=fe(),t=pe(),[s,i]=ze.useState(""),[a,r]=ze.useState(!1),[n,o]=ze.useState(new Set),[l,h]=ze.useState(null),{data:c,isLoading:u}=at({queryKey:["api-keys"],queryFn:nt.getAll},Ve);const d=rt({mutationFn:t=>{if(!(null==e?void 0:e.id))throw new Error("User not authenticated");return nt.create(t,e.id)},onSuccess:e=>{t.invalidateQueries({queryKey:["api-keys"]}),r(!1),i(""),Le.success("API key created successfully!")},onError:e=>{Le.error(`Failed to create API key: ${e.message}`)}}),p=rt({mutationFn:nt.delete,onSuccess:()=>{t.invalidateQueries({queryKey:["api-keys"]}),Le.success("API key deleted successfully!")},onError:e=>{Le.error("Failed to delete API key")}}),y=rt({mutationFn:({id:e,isActive:t})=>nt.toggleStatus(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:["api-keys"]}),Le.success("API key status updated!")},onError:e=>{Le.error("Failed to update API key status")}}),f=e=>{const t=e.substring(0,7),s=e.substring(e.length-8);return`${t}${"*".repeat(32)}${s}`};return u?me.jsx("div",{className:"flex items-center justify-center h-64",children:me.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-monza-yellow"})}):me.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[me.jsxs("div",{className:"flex items-center justify-between",children:[me.jsxs("div",{className:"flex items-center gap-2",children:[me.jsx(Ge,{className:"h-6 w-6 text-monza-yellow"}),me.jsx("h1",{className:"text-3xl font-bold text-monza-black",children:"API Key Management"})]}),me.jsxs(ve,{open:a,onOpenChange:r,children:[me.jsx(be,{asChild:!0,children:me.jsxs(xe,{className:"bg-monza-yellow hover:bg-monza-yellow/90 text-monza-black",children:[me.jsx(ge,{className:"h-4 w-4 mr-2"}),"Create API Key"]})}),me.jsxs(je,{children:[me.jsxs(we,{children:[me.jsx(ke,{children:"Create New API Key"}),me.jsx(Ce,{children:"Create a new API key to access the Monza Automotive API. Give it a descriptive name to help you identify its purpose."})]}),me.jsx("div",{className:"space-y-4",children:me.jsxs("div",{children:[me.jsx(Oe,{htmlFor:"keyName",children:"API Key Name"}),me.jsx(Re,{id:"keyName",placeholder:"e.g., Mobile App, Analytics Dashboard",value:s,onChange:e=>i(e.target.value)})]})}),me.jsxs(Pe,{children:[me.jsx(xe,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),me.jsx(xe,{onClick:()=>{s.trim()?(null==e?void 0:e.id)?d.mutate(s.trim()):Le.error("User not authenticated"):Le.error("Please enter a name for the API key")},disabled:d.isPending,className:"bg-monza-yellow hover:bg-monza-yellow/90 text-monza-black",children:d.isPending?"Creating...":"Create API Key"})]})]})]})]}),me.jsxs(Ae,{children:[me.jsxs(Ie,{children:[me.jsx(Me,{children:"Your API Keys"}),me.jsx(Se,{children:"Manage your API keys for accessing the Monza Automotive API. Keep your keys secure and never share them publicly."})]}),me.jsx(_e,{children:c&&0!==c.length?me.jsxs(Fe,{children:[me.jsx(Ke,{children:me.jsxs(qe,{children:[me.jsx(De,{children:"Name"}),me.jsx(De,{children:"API Key"}),me.jsx(De,{children:"Status"}),me.jsx(De,{children:"Created"}),me.jsx(De,{children:"Last Used"}),me.jsx(De,{children:"Actions"})]})}),me.jsx(Qe,{children:c.map(e=>me.jsxs(qe,{children:[me.jsx(Te,{className:"font-medium",children:e.key_name}),me.jsx(Te,{children:me.jsxs("div",{className:"flex items-center gap-2",children:[me.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded font-mono",children:n.has(e.id)?e.api_key:f(e.api_key)}),me.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>(e=>{const t=new Set(n);t.has(e)?t.delete(e):t.add(e),o(t)})(e.id),children:n.has(e.id)?me.jsx(Be,{className:"h-4 w-4"}):me.jsx(Ne,{className:"h-4 w-4"})}),me.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>{return t=e.api_key,s=e.id,V(void 0,null,function*(){try{yield navigator.clipboard.writeText(t),h(s),Le.success("API key copied to clipboard!"),setTimeout(()=>h(null),2e3)}catch(e){Le.error("Failed to copy API key")}});var t,s},children:l===e.id?me.jsx(Ee,{className:"h-4 w-4 text-green-500"}):me.jsx($e,{className:"h-4 w-4"})})]})}),me.jsx(Te,{children:me.jsx(Ue,{variant:e.is_active?"default":"secondary",children:e.is_active?"Active":"Inactive"})}),me.jsx(Te,{children:He(new Date(e.created_at),"MMM dd, yyyy")}),me.jsx(Te,{children:e.last_used_at?He(new Date(e.last_used_at),"MMM dd, yyyy"):"Never"}),me.jsx(Te,{children:me.jsxs("div",{className:"flex items-center gap-2",children:[me.jsx(xe,{variant:"outline",size:"sm",onClick:()=>y.mutate({id:e.id,isActive:!e.is_active}),disabled:y.isPending,children:e.is_active?"Deactivate":"Activate"}),me.jsx(xe,{variant:"destructive",size:"sm",onClick:()=>p.mutate(e.id),disabled:p.isPending,children:me.jsx(We,{className:"h-4 w-4"})})]})})]},e.id))})]}):me.jsxs("div",{className:"text-center py-8",children:[me.jsx(Ge,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),me.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No API Keys"}),me.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first API key to start using the API."}),me.jsxs(xe,{onClick:()=>r(!0),className:"bg-monza-yellow hover:bg-monza-yellow/90 text-monza-black",children:[me.jsx(ge,{className:"h-4 w-4 mr-2"}),"Create API Key"]})]})})]}),me.jsxs(Ae,{children:[me.jsx(Ie,{children:me.jsx(Me,{children:"Security Best Practices"})}),me.jsx(_e,{children:me.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[me.jsx("li",{children:"• Never share your API keys or commit them to version control"}),me.jsx("li",{children:"• Use environment variables to store API keys in your applications"}),me.jsx("li",{children:"• Regularly rotate your API keys for enhanced security"}),me.jsx("li",{children:"• Deactivate keys that are no longer needed"}),me.jsx("li",{children:"• Monitor API key usage and watch for unusual activity"})]})})]})]})};export{ot as default};
