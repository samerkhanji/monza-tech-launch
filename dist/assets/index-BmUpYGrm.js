const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/EnhancedDashboard-DLpxVs_-.js","assets/vendor-vN6PtkFd.js","assets/target-dshlZX_X.js","assets/charts-XrXYWaKo.js","assets/utils-DhcIvS4g.js","assets/Dashboard-CakTsEIs.js","assets/checkbox-CbEst83x.js","assets/errorHandling-Dc1u_gNS.js","assets/carService-BlnIAupl.js","assets/TabDataLinkingStatus-vIiE-mSD.js","assets/carClientLinkingService-K_T_il58.js","assets/refresh-cw-C6MAcERo.js","assets/arrow-right-iDmV9z1N.js","assets/x-circle-HKM8FhbF.js","assets/gauge-Cy8s4FVS.js","assets/Login-Cb3kl9rx.js","assets/index-DNyRc51V.js","assets/CarInventory-BAs7MhXT.js","assets/table-BEISn_Te.js","assets/SmartActionDropdown-CocWn_7w.js","assets/StandardWarrantyButton-EBT9bBYI.js","assets/file-text-bXPYLusF.js","assets/VinScannerDialog-C38X97Jl.js","assets/cameraPermissionManager-D3sOAAEG.js","assets/ocrUtils-boR-SCDU.js","assets/index-dUlNy-FG.js","assets/enhancedMonzaBotService-CP3UVEVb.js","assets/camera-CKQtJJJ8.js","assets/battery-zPCpHw5W.js","assets/arrow-left-DqrDEplE.js","assets/MoveCarDialog-DOaKAUng.js","assets/PdiViewDialog-C6B7h77-.js","assets/PdiChecklistPdf-B4FKiplK.js","assets/CarStatusSelectionDialog-BKEPwv76.js","assets/datetime-input-Dxp48WV8.js","assets/phone-CUmdYfuI.js","assets/CarStatusSelectionDialog-BnSjrLPg.css","assets/TestDriveSelectionDialog-BapOPyU0.js","assets/briefcase-BNfZZfKX.js","assets/ITSoftwareUpdateDialog-CuoSWa5I.js","assets/pen-line--cRXdmmD.js","assets/share-2-zYou0fbF.js","assets/cpu-N9C-mmK2.js","assets/fuel-DD7FDLWK.js","assets/download-CLPHGjzE.js","assets/truck-KpDOpNzC.js","assets/smartphone-Cgftoe1I.js","assets/testDriveService-Dw5zSlpe.js","assets/table-search-Bl4Inyz2.js","assets/index-CfHKU2-R.js","assets/index-3BVTMvZh.js","assets/index-C9m_ua8k.js","assets/NewTestDrivePage-DpuahKnR.js","assets/index-CEIzX9Bw.js","assets/enhancedRepairHistoryService-DfLNwEz9.js","assets/loader-2-BYW_3amd.js","assets/stop-circle-DSXaWKMF.js","assets/Repairs-CiAf2YXW.js","assets/PartNumberScannerDialog-s5LV33ZH.js","assets/info-CbXTqoMM.js","assets/star-CR_sFOyJ.js","assets/sparkles-Bv856xFH.js","assets/EnhancedSelect-sAMWtD8W.js","assets/mail-BiNlmlXL.js","assets/index-ySls6bTN.js","assets/scan-BkADKRli.js","assets/inventoryService-BaDJwFj-.js","assets/enhancedRepairHistoryManager-DsLnTI82.js","assets/PdiChecklistDialog-BFpzxMj8.js","assets/play-B-a94Cc8.js","assets/test-tube-BmzcAWFY.js","assets/index-8m0HrZdT.js","assets/CarHistoryDetailsDialog-DrVVgh37.js","assets/useWarrantyEditor-C-QeEmwQ.js","assets/index-BwVzKhRP.js","assets/image-CTGCnaT4.js","assets/index-B7ilm8Hc.js","assets/index-Z44p-RtP.js","assets/CustomsManagementDialog-CpmILlI3.js","assets/SimpleIndex-COYgZmxI.js","assets/index-B0UFN3s0.js","assets/PartManagement-BeRdfWLH.js","assets/index-lce3uDCU.js","assets/index-Cr8NrDkI.js","assets/calculator-D7ZZJlp5.js","assets/ShowroomFloor1-BEkUkyUD.js","assets/form-D18p6wVs.js","assets/zod-Cunv6AlR.js","assets/separator-D0zOJWdq.js","assets/ShowroomFloor2-BQxxmNz-.js","assets/index-D9MhWuDP.js","assets/realExcelService-CzdfAlLU.js","assets/excel-DF0p_WFv.js","assets/index-DLHU3XiV.js","assets/useAuditLog-BKBIiLUr.js","assets/percent-BXF5OJaM.js","assets/calendar-DQ6SJzpq.js","assets/chevron-left-D5y0IByA.js","assets/FinancialDashboard-DJZph0zh.js","assets/lock-BHJDt_OW.js","assets/FinancialDashboard-COPAzK5F.css","assets/index-yv75PFz8.js","assets/eye-off-DKxk6IZx.js","assets/FinancialAnalytics-B07J5LWK.js","assets/Sales-C9F7AgFb.js","assets/index-BFmfdtnU.js","assets/user-plus-D_7NBtOn.js","assets/MarketingCRM-BtRt1hb7.js","assets/globe-DlCryj_B.js","assets/OrderedCars-D-8jFVCB.js","assets/OrderedParts-Q6IfQsrG.js","assets/OrderedParts-DlAarWI8.css","assets/EmployeeManagement-B7TOKuGM.js","assets/userAPI-BDd2QYRO.js","assets/WstacyEmployeeManagement-C1nkXkSn.js","assets/EmployeeProfile-BAr3gi3e.js","assets/EmployeeAnalytics-8KALO-Zt.js","assets/UserManagement-hk1cgyJ3.js","assets/index-BGSqrrqe.js","assets/index-Dm65h54c.js","assets/networkConfig-GUX6G74C.js","assets/bell-2Hz6KiRm.js","assets/index-OB1B08MG.js","assets/NewRequest-DGtPsNt1.js","assets/Calendar-XBTDgNos.js","assets/BusinessCalendar-CXfBM2Iq.js","assets/BusinessCalendar-aJTZuCWY.css","assets/MarketingCalendar-DpwXCicE.js","assets/Analytics-DoCwDa_l.js","assets/Reports-CZqR2sFb.js","assets/index-G0xDCy3j.js","assets/index-C8ISVRqn.js","assets/index-BndMCT9x.js","assets/deviceTrustService-CMexUlUA.js","assets/SystemStatus-BB1mJ1jU.js","assets/index-mgrfTNCG.js","assets/SystemAuditLog-BR2De9Y2.js","assets/index-CUtEAWE-.js","assets/AdminUsersPage-BPQwYuYK.js","assets/LoginTracking-ckEFdDvu.js","assets/DeveloperOverview-DC-VWsBQ.js","assets/ApiDocumentation-CigaBokp.js","assets/ApiKeyManagement-u5mmEJIX.js","assets/NetworkAuthTest-DRb6vBNY.js","assets/FeatureShowcase-DFUX9pkA.js"])))=>i.map(i=>d[i]);
var e,t,r,n,s,o,i,a,l,c,d,u,h,f,p,m,g,y,v,b,x,w,_,j,S,k,E,N,C,T,P,R,A,O,D,M,I,L,F,U,$,z=Object.defineProperty,q=Object.defineProperties,W=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,K=e=>{throw TypeError(e)},G=Math.pow,J=(e,t,r)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Y=(e,t)=>{for(var r in t||(t={}))V.call(t,r)&&J(e,r,t[r]);if(B)for(var r of B(t))H.call(t,r)&&J(e,r,t[r]);return e},X=(e,t)=>q(e,W(t)),Z=(e,t)=>{var r={};for(var n in e)V.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&B)for(var n of B(e))t.indexOf(n)<0&&H.call(e,n)&&(r[n]=e[n]);return r},Q=(e,t,r)=>J(e,"symbol"!=typeof t?t+"":t,r),ee=(e,t,r)=>t.has(e)||K("Cannot "+r),te=(e,t,r)=>(ee(e,t,"read from private field"),r?r.call(e):t.get(e)),re=(e,t,r)=>t.has(e)?K("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ne=(e,t,r,n)=>(ee(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),se=(e,t,r)=>(ee(e,t,"access private method"),r),oe=(e,t,r,n)=>({set _(n){ne(e,t,n,r)},get _(){return te(e,t,n)}}),ie=(e,t,r)=>new Promise((n,s)=>{var o=e=>{try{a(r.next(e))}catch(t){s(t)}},i=e=>{try{a(r.throw(e))}catch(t){s(t)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,i);a((r=r.apply(e,t)).next())});import{r as ae,a as le,b as ce,R as de,d as ue,e as he,c as fe}from"./vendor-vN6PtkFd.js";import{c as pe}from"./charts-XrXYWaKo.js";import{p as me,i as ge,f as ye,a as ve}from"./utils-DhcIvS4g.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var be={exports:{}},xe={},we=ae,_e=Symbol.for("react.element"),je=Symbol.for("react.fragment"),Se=Object.prototype.hasOwnProperty,ke=we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ee={key:!0,ref:!0,__self:!0,__source:!0};function Ne(e,t,r){var n,s={},o=null,i=null;for(n in void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(i=t.ref),t)Se.call(t,n)&&!Ee.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:_e,type:e,key:o,ref:i,props:s,_owner:ke.current}}xe.Fragment=je,xe.jsx=Ne,xe.jsxs=Ne,be.exports=xe;var Ce,Te=be.exports,Pe=le;Ce=Pe.createRoot,Pe.hydrateRoot;var Re=ae;
/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */"function"==typeof Object.is&&Object.is,Re.useSyncExternalStore,Re.useRef,Re.useEffect,Re.useMemo,Re.useDebugValue;var Ae={notify(){},get:()=>[]};var Oe=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),De=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),Me=(()=>Oe||De?ae.useLayoutEffect:ae.useEffect)(),Ie=Symbol.for("react-redux-context"),Le="undefined"!=typeof globalThis?globalThis:{};function Fe(){var e;if(!ae.createContext)return{};const t=null!=(e=Le[Ie])?e:Le[Ie]=new Map;let r=t.get(ae.createContext);return r||(r=ae.createContext(null),t.set(ae.createContext,r)),r}var Ue=Fe();var $e=function(e){const{children:t,context:r,serverState:n,store:s}=e,o=ae.useMemo(()=>{const e=function(e){let t,r=Ae,n=0,s=!1;function o(){l.onStateChange&&l.onStateChange()}function i(){n++,t||(t=e.subscribe(o),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){(()=>{let t=e;for(;t;)t.callback(),t=t.next})()},get(){const t=[];let r=e;for(;r;)t.push(r),r=r.next;return t},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){n&&null!==e&&(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}())}function a(){n--,t&&0===n&&(t(),t=void 0,r.clear(),r=Ae)}const l={addNestedSub:function(e){i();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),a())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,i())},tryUnsubscribe:function(){s&&(s=!1,a())},getListeners:()=>r};return l}(s);return{store:s,subscription:e,getServerState:n?()=>n:void 0}},[s,n]),i=ae.useMemo(()=>s.getState(),[s]);Me(()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),i!==s.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[o,i]);const a=r||Ue;return ae.createElement(a.Provider,{value:o},t)};function ze(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var qe=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),We=()=>Math.random().toString(36).substring(7).split("").join("."),Be={INIT:`@@redux/INIT${We()}`,REPLACE:`@@redux/REPLACE${We()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${We()}`};function Ve(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function He(e,t,r){if("function"!=typeof e)throw new Error(ze(2));if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(ze(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(ze(1));return r(He)(e,t)}let n=e,s=t,o=new Map,i=o,a=0,l=!1;function c(){i===o&&(i=new Map,o.forEach((e,t)=>{i.set(t,e)}))}function d(){if(l)throw new Error(ze(3));return s}function u(e){if("function"!=typeof e)throw new Error(ze(4));if(l)throw new Error(ze(5));let t=!0;c();const r=a++;return i.set(r,e),function(){if(t){if(l)throw new Error(ze(6));t=!1,c(),i.delete(r),o=null}}}function h(e){if(!Ve(e))throw new Error(ze(7));if(void 0===e.type)throw new Error(ze(8));if("string"!=typeof e.type)throw new Error(ze(17));if(l)throw new Error(ze(9));try{l=!0,s=n(s,e)}finally{l=!1}return(o=i).forEach(e=>{e()}),e}h({type:Be.INIT});return{dispatch:h,subscribe:u,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(ze(10));n=e,h({type:Be.REPLACE})},[qe]:function(){const e=u;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(ze(11));function r(){const e=t;e.next&&e.next(d())}r();return{unsubscribe:e(r)}},[qe](){return this}}}}}function Ke(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const n=t[i];"function"==typeof e[n]&&(r[n]=e[n])}const n=Object.keys(r);let s;try{!function(e){Object.keys(e).forEach(t=>{const r=e[t];if(void 0===r(void 0,{type:Be.INIT}))throw new Error(ze(12));if(void 0===r(void 0,{type:Be.PROBE_UNKNOWN_ACTION()}))throw new Error(ze(13))})}(r)}catch(o){s=o}return function(e={},t){if(s)throw s;let o=!1;const i={};for(let s=0;s<n.length;s++){const a=n[s],l=r[a],c=e[a],d=l(c,t);if(void 0===d)throw t&&t.type,new Error(ze(14));i[a]=d,o=o||d!==c}return o=o||n.length!==Object.keys(e).length,o?i:e}}function Ge(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...r)=>e(t(...r)))}var Je=Symbol.for("immer-nothing"),Ye=Symbol.for("immer-draftable"),Xe=Symbol.for("immer-state");function Ze(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Qe=Object.getPrototypeOf;function et(e){return!!e&&!!e[Xe]}function tt(e){var t;return!!e&&(nt(e)||Array.isArray(e)||!!e[Ye]||!!(null==(t=e.constructor)?void 0:t[Ye])||lt(e)||ct(e))}var rt=Object.prototype.constructor.toString();function nt(e){if(!e||"object"!=typeof e)return!1;const t=Qe(e);if(null===t)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===rt}function st(e,t){0===ot(e)?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function ot(e){const t=e[Xe];return t?t.type_:Array.isArray(e)?1:lt(e)?2:ct(e)?3:0}function it(e,t){return 2===ot(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function at(e,t,r){const n=ot(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function lt(e){return e instanceof Map}function ct(e){return e instanceof Set}function dt(e){return e.copy_||e.base_}function ut(e,t){if(lt(e))return new Map(e);if(ct(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=nt(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[Xe];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const s=r[n],o=t[s];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Qe(e),t)}{const t=Qe(e);if(null!==t&&r)return Y({},e);const n=Object.create(t);return Object.assign(n,e)}}function ht(e,t=!1){return pt(e)||et(e)||!tt(e)||(ot(e)>1&&(e.set=e.add=e.clear=e.delete=ft),Object.freeze(e),t&&Object.entries(e).forEach(([e,t])=>ht(t,!0))),e}function ft(){Ze(2)}function pt(e){return Object.isFrozen(e)}var mt,gt={};function yt(e){const t=gt[e];return t||Ze(0),t}function vt(){return mt}function bt(e,t){t&&(yt("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function xt(e){wt(e),e.drafts_.forEach(jt),e.drafts_=null}function wt(e){e===mt&&(mt=e.parent_)}function _t(e){return mt={drafts_:[],parent_:mt,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function jt(e){const t=e[Xe];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function St(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[Xe].modified_&&(xt(t),Ze(4)),tt(e)&&(e=kt(t,e),t.parent_||Nt(t,e)),t.patches_&&yt("Patches").generateReplacementPatches_(r[Xe].base_,e,t.patches_,t.inversePatches_)):e=kt(t,r,[]),xt(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Je?e:void 0}function kt(e,t,r){if(pt(t))return t;const n=t[Xe];if(!n)return st(t,(s,o)=>Et(e,n,t,s,o,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Nt(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let s=t,o=!1;3===n.type_&&(s=new Set(t),t.clear(),o=!0),st(s,(s,i)=>Et(e,n,t,s,i,r,o)),Nt(e,t,!1),r&&e.patches_&&yt("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Et(e,t,r,n,s,o,i){if(et(s)){const i=kt(e,s,o&&t&&3!==t.type_&&!it(t.assigned_,n)?o.concat(n):void 0);if(at(r,n,i),!et(i))return;e.canAutoFreeze_=!1}else i&&r.add(s);if(tt(s)&&!pt(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;kt(e,s),t&&t.scope_.parent_||"symbol"==typeof n||!Object.prototype.propertyIsEnumerable.call(r,n)||Nt(e,s)}}function Nt(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ht(t,r)}var Ct={get(e,t){if(t===Xe)return e;const r=dt(e);if(!it(r,t))return function(e,t,r){var n;const s=Rt(t,r);return s?"value"in s?s.value:null==(n=s.get)?void 0:n.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!tt(n)?n:n===Pt(e.base_,t)?(Ot(e),e.copy_[t]=Dt(n,e)):n},has:(e,t)=>t in dt(e),ownKeys:e=>Reflect.ownKeys(dt(e)),set(e,t,r){const n=Rt(dt(e),t);if(null==n?void 0:n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=Pt(dt(e),t),i=null==n?void 0:n[Xe];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(((s=r)===(o=n)?0!==s||1/s==1/o:s!=s&&o!=o)&&(void 0!==r||it(e.base_,t)))return!0;Ot(e),At(e)}var s,o;return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Pt(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Ot(e),At(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=dt(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){Ze(11)},getPrototypeOf:e=>Qe(e.base_),setPrototypeOf(){Ze(12)}},Tt={};function Pt(e,t){const r=e[Xe];return(r?dt(r):e)[t]}function Rt(e,t){if(!(t in e))return;let r=Qe(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=Qe(r)}}function At(e){e.modified_||(e.modified_=!0,e.parent_&&At(e.parent_))}function Ot(e){e.copy_||(e.copy_=ut(e.base_,e.scope_.immer_.useStrictShallowCopy_))}st(Ct,(e,t)=>{Tt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Tt.deleteProperty=function(e,t){return Tt.set.call(this,e,t,void 0)},Tt.set=function(e,t,r){return Ct.set.call(this,e[0],t,r,e[0])};function Dt(e,t){const r=lt(e)?yt("MapSet").proxyMap_(e,t):ct(e)?yt("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:vt(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,o=Ct;r&&(s=[n],o=Tt);const{revoke:i,proxy:a}=Proxy.revocable(s,o);return n.draft_=a,n.revoke_=i,a}(e,t);return(t?t.scope_:vt()).drafts_.push(r),r}function Mt(e){if(!tt(e)||pt(e))return e;const t=e[Xe];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ut(e,t.scope_.immer_.useStrictShallowCopy_)}else r=ut(e,!0);return st(r,(e,t)=>{at(r,e,Mt(t))}),t&&(t.finalized_=!1),r}var It=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if("function"==typeof e&&"function"!=typeof t){const r=t;t=e;const n=this;return function(e=r,...s){return n.produce(e,e=>t.call(this,e,...s))}}let n;if("function"!=typeof t&&Ze(6),void 0!==r&&"function"!=typeof r&&Ze(7),tt(e)){const s=_t(this),o=Dt(e,void 0);let i=!0;try{n=t(o),i=!1}finally{i?xt(s):wt(s)}return bt(s,r),St(n,s)}if(!e||"object"!=typeof e){if(n=t(e),void 0===n&&(n=e),n===Je&&(n=void 0),this.autoFreeze_&&ht(n,!0),r){const t=[],s=[];yt("Patches").generateReplacementPatches_(e,n,t,s),r(t,s)}return n}Ze(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...r)=>this.produceWithPatches(t,t=>e(t,...r));let r,n;return[this.produce(e,t,(e,t)=>{r=e,n=t}),r,n]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){tt(e)||Ze(8),et(e)&&(e=function(e){et(e)||Ze(10);return Mt(e)}(e));const t=_t(this),r=Dt(e,void 0);return r[Xe].isManual_=!0,wt(t),r}finishDraft(e,t){const r=e&&e[Xe];r&&r.isManual_||Ze(9);const{scope_:n}=r;return bt(n,t),St(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=yt("Patches").applyPatches_;return et(e)?n(e,t):this.produce(e,e=>n(e,t))}},Lt=It.produce;function Ft(e){return({dispatch:t,getState:r})=>n=>s=>"function"==typeof s?s(t,r,e):n(s)}It.produceWithPatches.bind(It),It.setAutoFreeze.bind(It),It.setUseStrictShallowCopy.bind(It),It.applyPatches.bind(It),It.createDraft.bind(It),It.finishDraft.bind(It);var Ut=Ft(),$t=Ft,zt="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?Ge:Ge.apply(null,arguments)};function qt(e,t){function r(...r){if(t){let n=t(...r);if(!n)throw new Error(cr(0));return Y(Y({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:r[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>function(e){return Ve(e)&&"type"in e&&"string"==typeof e.type}(t)&&t.type===e,r}var Wt=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function Bt(e){return tt(e)?Lt(e,()=>{}):e}function Vt(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var Ht=e=>t=>{setTimeout(t,e)},Kt=e=>function(t){const{autoBatch:r=!0}=null!=t?t:{};let n=new Wt(e);return r&&n.push(((e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,o=!1,i=!1;const a=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Ht(10):"callback"===e.type?e.queueNotification:Ht(e.timeout),c=()=>{i=!1,o&&(o=!1,a.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>s&&e());return a.add(e),()=>{t(),a.delete(e)}},dispatch(e){var t;try{return s=!(null==(t=null==e?void 0:e.meta)?void 0:t.RTK_autoBatch),o=!s,o&&(i||(i=!0,l(c))),n.dispatch(e)}finally{s=!0}}})})("object"==typeof r?r:void 0)),n};function Gt(e){const t={},r=[];let n;const s={addCase(e,r){const n="string"==typeof e?e:e.type;if(!n)throw new Error(cr(28));if(n in t)throw new Error(cr(29));return t[n]=r,s},addMatcher:(e,t)=>(r.push({matcher:e,reducer:t}),s),addDefaultCase:e=>(n=e,s)};return e(s),[t,r,n]}function Jt(...e){return t=>e.some(e=>((e,t)=>{return(r=e)&&"function"==typeof r.match?e.match(t):e(t);var r})(e,t))}var Yt=["name","message","stack","code"],Xt=class{constructor(e,t){Q(this,"_type"),this.payload=e,this.meta=t}},Zt=class{constructor(e,t){Q(this,"_type"),this.payload=e,this.meta=t}},Qt=e=>{if("object"==typeof e&&null!==e){const t={};for(const r of Yt)"string"==typeof e[r]&&(t[r]=e[r]);return t}return{message:String(e)}},er="External signal was aborted",tr=(()=>{function e(e,t,r){const n=qt(e+"/fulfilled",(e,t,r,n)=>({payload:e,meta:X(Y({},n||{}),{arg:r,requestId:t,requestStatus:"fulfilled"})})),s=qt(e+"/pending",(e,t,r)=>({payload:void 0,meta:X(Y({},r||{}),{arg:t,requestId:e,requestStatus:"pending"})})),o=qt(e+"/rejected",(e,t,n,s,o)=>({payload:s,error:(r&&r.serializeError||Qt)(e||"Rejected"),meta:X(Y({},o||{}),{arg:n,requestId:t,rejectedWithValue:!!s,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}));return Object.assign(function(e,{signal:i}={}){return(a,l,c)=>{const d=(null==r?void 0:r.idGenerator)?r.idGenerator(e):((e=21)=>{let t="",r=e;for(;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t})(),u=new AbortController;let h,f;function p(e){f=e,u.abort()}i&&(i.aborted?p(er):i.addEventListener("abort",()=>p(er),{once:!0}));const m=function(){return ie(this,null,function*(){var i,m;let g;try{let o=null==(i=null==r?void 0:r.condition)?void 0:i.call(r,e,{getState:l,extra:c});if(null!==(y=o)&&"object"==typeof y&&"function"==typeof y.then&&(o=yield o),!1===o||u.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const v=new Promise((e,t)=>{h=()=>{t({name:"AbortError",message:f||"Aborted"})},u.signal.addEventListener("abort",h)});a(s(d,e,null==(m=null==r?void 0:r.getPendingMeta)?void 0:m.call(r,{requestId:d,arg:e},{getState:l,extra:c}))),g=yield Promise.race([v,Promise.resolve(t(e,{dispatch:a,getState:l,extra:c,requestId:d,signal:u.signal,abort:p,rejectWithValue:(e,t)=>new Xt(e,t),fulfillWithValue:(e,t)=>new Zt(e,t)})).then(t=>{if(t instanceof Xt)throw t;return t instanceof Zt?n(t.payload,d,e,t.meta):n(t,d,e)})])}catch(v){g=v instanceof Xt?o(null,d,e,v.payload,v.meta):o(v,d,e)}finally{h&&u.signal.removeEventListener("abort",h)}var y;return r&&!r.dispatchConditionRejection&&o.match(g)&&g.meta.condition||a(g),g})}();return Object.assign(m,{abort:p,requestId:d,arg:e,unwrap:()=>m.then(rr)})}},{pending:s,rejected:o,fulfilled:n,settled:Jt(o,n),typePrefix:e})}return e.withTypes=()=>e,e})();function rr(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var nr=Symbol.for("rtk-slice-createasyncthunk");function sr(e,t){return`${e}/${t}`}function or({creators:e}={}){var t;const r=null==(t=null==e?void 0:e.asyncThunk)?void 0:t[nr];return function(e){const{name:t,reducerPath:n=t}=e;if(!t)throw new Error(cr(11));const s=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return Y({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(s),i={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},a={addCase(e,t){const r="string"==typeof e?e:e.type;if(!r)throw new Error(cr(12));if(r in i.sliceCaseReducersByType)throw new Error(cr(13));return i.sliceCaseReducersByType[r]=t,a},addMatcher:(e,t)=>(i.sliceMatchers.push({matcher:e,reducer:t}),a),exposeAction:(e,t)=>(i.actionCreators[e]=t,a),exposeCaseReducer:(e,t)=>(i.sliceCaseReducersByName[e]=t,a)};function l(){const[t={},r=[],n]="function"==typeof e.extraReducers?Gt(e.extraReducers):[e.extraReducers],s=Y(Y({},t),i.sliceCaseReducersByType);return function(e,t){let r,[n,s,o]=Gt(t);if("function"==typeof e)r=()=>Bt(e());else{const t=Bt(e);r=()=>t}function i(e=r(),t){let i=[n[t.type],...s.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===i.filter(e=>!!e).length&&(i=[o]),i.reduce((e,r)=>{if(r){if(et(e)){const n=r(e,t);return void 0===n?e:n}if(tt(e))return Lt(e,e=>r(e,t));{const n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}}return e},e)}return i.getInitialState=r,i}(e.initialState,e=>{for(let t in s)e.addCase(t,s[t]);for(let t of i.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}o.forEach(n=>{const o=s[n],i={reducerName:n,type:sr(t,n),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(o)?function({type:e,reducerName:t,createNotation:r},n,s){let o,i;if("reducer"in n){if(r&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(n))throw new Error(cr(17));o=n.reducer,i=n.prepare}else o=n;s.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,i?qt(e,i):qt(e))}(i,o,a):function({type:e,reducerName:t},r,n,s){if(!s)throw new Error(cr(18));const{payloadCreator:o,fulfilled:i,pending:a,rejected:l,settled:c,options:d}=r,u=s(e,o,d);n.exposeAction(t,u),i&&n.addCase(u.fulfilled,i);a&&n.addCase(u.pending,a);l&&n.addCase(u.rejected,l);c&&n.addMatcher(u.settled,c);n.exposeCaseReducer(t,{fulfilled:i||lr,pending:a||lr,rejected:l||lr,settled:c||lr})}(i,o,a,r)});const c=e=>e,d=new Map,u=new WeakMap;let h;function f(e,t){return h||(h=l()),h(e,t)}function p(){return h||(h=l()),h.getInitialState()}function m(t,r=!1){function n(e){let s=e[t];return void 0===s&&r&&(s=Vt(u,n,p)),s}function s(t=c){const n=Vt(d,r,()=>new WeakMap);return Vt(n,t,()=>{var n;const s={};for(const[o,i]of Object.entries(null!=(n=e.selectors)?n:{}))s[o]=ir(i,t,()=>Vt(u,t,p),r);return s})}return{reducerPath:t,getSelectors:s,get selectors(){return s(n)},selectSlice:n}}const g=X(Y({name:t,reducer:f,actions:i.actionCreators,caseReducers:i.sliceCaseReducersByName,getInitialState:p},m(n)),{injectInto(e,t={}){var r=t,{reducerPath:s}=r,o=Z(r,["reducerPath"]);const i=null!=s?s:n;return e.inject({reducerPath:i,reducer:f},o),Y(Y({},g),m(i,!0))}});return g}}function ir(e,t,r,n){function s(s,...o){let i=t(s);return void 0===i&&n&&(i=r()),e(i,...o)}return s.unwrapped=e,s}var ar=or();function lr(){}function cr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const dr=[{id:"1",model:"Voyah Free",year:2024,color:"Pearl White",arrivalDate:"2024-03-15",soldDate:"2024-04-20",status:"sold",vinNumber:"VYH24FR87629A1",currentFloor:"Inventory",batteryPercentage:95,pdiCompleted:!0,pdiTechnician:"John Smith",pdiDate:"2024-03-16",pdiNotes:"All systems checked, minor paint touch-up completed",brand:"Voyah",category:"EV",customs:"paid",sellingPrice:52e3,clientName:"Ahmed Al-Rashid",clientPhone:"+971-50-123-4567",clientEmail:"ahmed.rashid@email.com",clientAddress:"Dubai Marina, UAE",lastUpdated:"2024-04-20T10:30:00Z",softwareVersion:"2.3.1",softwareLastUpdated:"2024-04-15T09:00:00Z",softwareUpdateBy:"IT-Ahmed",softwareUpdateNotes:"Latest infotainment system update"},{id:"2",model:"Voyah Dream",year:2025,color:"Midnight Blue",arrivalDate:"2024-04-05",status:"in_stock",vinNumber:"VYH25DR24971B3",currentFloor:"Showroom 1",batteryPercentage:87,pdiCompleted:!0,pdiTechnician:"Sarah Johnson",pdiDate:"2024-04-06",pdiNotes:"Perfect condition, ready for display",brand:"Voyah",category:"EV",customs:"paid",sellingPrice:62e3,inShowroom:!0,showroomEntryDate:"2024-04-07",lastUpdated:"2024-06-15T14:22:00Z",testDriveHistory:[{isOnTestDrive:!1,testDriveStartTime:"2024-06-10T10:00:00Z",testDriveEndTime:"2024-06-10T10:30:00Z",testDriveDuration:30,testDriverName:"Mohammed Hassan",testDriverPhone:"+971-55-987-6543",testDriverLicense:"DL123456789",notes:"Interested in features, checking acceleration",isClientTestDrive:!0}],softwareVersion:"2.4.0",softwareLastUpdated:"2024-06-10T14:00:00Z",softwareUpdateBy:"IT-Sarah",softwareUpdateNotes:"Updated to latest version with enhanced battery management"},{id:"3",model:"Voyah Passion",year:2024,color:"Silver Frost",arrivalDate:"2024-05-10",status:"reserved",vinNumber:"VYH24PS12345D7",currentFloor:"Showroom 2",batteryPercentage:78,pdiCompleted:!0,pdiTechnician:"Lisa Wang",pdiDate:"2024-05-11",pdiNotes:"Small paint scratch noted and repaired",brand:"Voyah",category:"REV",customs:"paid",sellingPrice:55e3,clientName:"Omar Al-Mansouri",clientPhone:"+971-56-777-8888",clientEmail:"omar.mansouri@email.com",clientAddress:"Sharjah, UAE",reservedDate:"2024-05-15",inShowroom:!0,showroomEntryDate:"2024-05-12",lastUpdated:"2024-05-15T11:15:00Z",damages:[{id:"damage_1",description:"Minor paint scratch on rear bumper",severity:"minor",location:"Rear bumper, left side",timestamp:"2024-05-10T14:30:00Z"}]},{id:"4",model:"Voyah Free",year:2025,color:"Obsidian Black",arrivalDate:"2024-05-12",status:"in_stock",vinNumber:"VYH25FR67890E2",currentFloor:"New Arrivals",batteryPercentage:82,pdiCompleted:!1,brand:"Voyah",category:"EV",customs:"not paid",sellingPrice:54e3,notes:"Recently arrived, awaiting PDI inspection",lastUpdated:"2024-05-12T08:30:00Z",softwareVersion:"1.8.5",softwareLastUpdated:"2024-03-20T10:00:00Z",softwareUpdateBy:"IT-Mohamed",softwareUpdateNotes:"Initial software installation"},{id:"5",model:"Voyah Dream",year:2024,color:"Ocean Teal",arrivalDate:"2024-03-22",soldDate:"2024-04-25",status:"sold",vinNumber:"VYH24DR13579H8",currentFloor:"Inventory",batteryPercentage:94,pdiCompleted:!0,pdiTechnician:"Robert Kim",pdiDate:"2024-03-23",pdiNotes:"Perfect condition, premium package confirmed",brand:"Voyah",category:"EV",customs:"paid",sellingPrice:63e3,clientName:"Aisha Al-Qahtani",clientPhone:"+971-54-222-3333",clientEmail:"aisha.qahtani@email.com",clientAddress:"Al Ain, UAE",lastUpdated:"2024-04-25T17:30:00Z"},{id:"6",model:"Tesla Model S",year:2024,color:"Deep Blue Metallic",arrivalDate:"2024-06-01",status:"in_stock",vinNumber:"5YJSA1E26LF123456",currentFloor:"Showroom 1",batteryPercentage:91,pdiCompleted:!0,pdiTechnician:"Anna Petrov",pdiDate:"2024-06-02",pdiNotes:"Autopilot system calibrated, all features verified",brand:"Tesla",category:"EV",customs:"paid",sellingPrice:105e3,inShowroom:!0,showroomEntryDate:"2024-06-03",lastUpdated:"2024-06-16T12:00:00Z",pdiSystemChecks:[{system:"Autopilot",status:"pass",notes:"All sensors calibrated and functioning"},{system:"Charging System",status:"pass",notes:"Supercharging and home charging tested"},{system:"Entertainment System",status:"pass",notes:"All streaming services and games working"}]},{id:"7",model:"Tesla Model 3",year:2024,color:"Pearl White",arrivalDate:"2024-05-28",status:"in_stock",vinNumber:"5YJ3E1EA0PF123789",currentFloor:"Showroom 2",batteryPercentage:88,pdiCompleted:!0,pdiTechnician:"David Chen",pdiDate:"2024-05-29",pdiNotes:"Performance model, acceleration tested",brand:"Tesla",category:"EV",customs:"paid",sellingPrice:85e3,inShowroom:!0,showroomEntryDate:"2024-05-30",lastUpdated:"2024-06-16T15:30:00Z"},{id:"8",model:"BYD Tang EV",year:2024,color:"Crystal White",arrivalDate:"2024-05-20",status:"in_stock",vinNumber:"BYD24TG789123456",currentFloor:"Showroom 2",batteryPercentage:88,pdiCompleted:!0,pdiTechnician:"Hassan Al-Farisi",pdiDate:"2024-05-21",pdiNotes:"All-wheel drive system tested, performance excellent",brand:"BYD",category:"EV",customs:"paid",sellingPrice:48e3,inShowroom:!0,showroomEntryDate:"2024-05-22",lastUpdated:"2024-06-16T10:15:00Z"},{id:"9",model:"BYD Han",year:2024,color:"Aurora Red",arrivalDate:"2024-06-05",status:"reserved",vinNumber:"BYD24HN456789123",currentFloor:"New Arrivals",batteryPercentage:92,pdiCompleted:!1,brand:"BYD",category:"EV",customs:"not paid",sellingPrice:52e3,clientName:"Fatima Al-Zahra",clientPhone:"+971-50-555-7777",clientEmail:"fatima.zahra@email.com",clientAddress:"Dubai Hills, UAE",reservedDate:"2024-06-08",notes:"Premium trim package, customer excited about delivery",lastUpdated:"2024-06-08T14:20:00Z"},{id:"10",model:"NIO ES8",year:2025,color:"Storm Blue",arrivalDate:"2024-06-10",status:"reserved",vinNumber:"NIO25ES8456789123",currentFloor:"New Arrivals",batteryPercentage:75,pdiCompleted:!1,brand:"NIO",category:"EV",customs:"not paid",sellingPrice:95e3,clientName:"Mariam Al-Bloushi",clientPhone:"+971-50-555-7777",clientEmail:"mariam.bloushi@email.com",clientAddress:"Dubai Hills, UAE",reservedDate:"2024-06-12",notes:"Customer reserved before PDI completion, premium trim package",lastUpdated:"2024-06-12T16:30:00Z"},{id:"11",model:"Mercedes-Benz EQS",year:2024,color:"Obsidian Black",arrivalDate:"2024-05-15",status:"in_stock",vinNumber:"W1K2M6C0XNB123456",currentFloor:"Showroom 1",batteryPercentage:89,pdiCompleted:!0,pdiTechnician:"Klaus Mueller",pdiDate:"2024-05-16",pdiNotes:"MBUX system fully configured, luxury features verified",brand:"Mercedes-Benz",category:"EV",customs:"paid",sellingPrice:125e3,inShowroom:!0,showroomEntryDate:"2024-05-17",lastUpdated:"2024-06-16T11:45:00Z"},{id:"12",model:"Mercedes-Benz S-Class",year:2024,color:"Selenite Grey",arrivalDate:"2024-04-20",soldDate:"2024-05-10",status:"sold",vinNumber:"W1K3M6C0XNB789012",currentFloor:"Inventory",batteryPercentage:85,pdiCompleted:!0,pdiTechnician:"Klaus Mueller",pdiDate:"2024-04-21",pdiNotes:"Executive package, all luxury features confirmed",brand:"Mercedes-Benz",category:"ICEV",customs:"paid",sellingPrice:18e4,clientName:"Sheikh Mohammed Al-Thani",clientPhone:"+971-50-999-8888",clientEmail:"mohammed.al-thani@email.com",clientAddress:"Palm Jumeirah, UAE",lastUpdated:"2024-05-10T16:00:00Z"},{id:"13",model:"BMW iX",year:2024,color:"Alpine White",arrivalDate:"2024-06-01",status:"in_stock",vinNumber:"WBY2Z4C0XNB345678",currentFloor:"Showroom 2",batteryPercentage:93,pdiCompleted:!0,pdiTechnician:"Hans Weber",pdiDate:"2024-06-02",pdiNotes:"iDrive 8 system updated, driving assistance verified",brand:"BMW",category:"EV",customs:"paid",sellingPrice:11e4,inShowroom:!0,showroomEntryDate:"2024-06-03",lastUpdated:"2024-06-16T13:20:00Z"},{id:"14",model:"BMW M3",year:2024,color:"Isle of Man Green",arrivalDate:"2024-05-25",status:"in_stock",vinNumber:"WBS8M9C0XNB567890",currentFloor:"Showroom 1",batteryPercentage:100,pdiCompleted:!0,pdiTechnician:"Hans Weber",pdiDate:"2024-05-26",pdiNotes:"M Performance package verified, track mode tested",brand:"BMW",category:"ICEV",customs:"paid",sellingPrice:95e3,inShowroom:!0,showroomEntryDate:"2024-05-27",lastUpdated:"2024-06-16T09:15:00Z"},{id:"15",model:"Audi e-tron GT",year:2024,color:"Daytona Grey",arrivalDate:"2024-06-08",status:"in_stock",vinNumber:"WAUZZZ8V0KN123456",currentFloor:"New Arrivals",batteryPercentage:87,pdiCompleted:!1,brand:"Audi",category:"EV",customs:"not paid",sellingPrice:115e3,notes:"RS e-tron GT variant, awaiting PDI completion",lastUpdated:"2024-06-08T12:00:00Z"},{id:"16",model:"Porsche Taycan",year:2024,color:"Frozen Blue Metallic",arrivalDate:"2024-05-30",status:"in_stock",vinNumber:"WP0AB2Y1XNS123456",currentFloor:"Showroom 1",batteryPercentage:90,pdiCompleted:!0,pdiTechnician:"Michael Schmidt",pdiDate:"2024-05-31",pdiNotes:"Turbo S variant, performance systems verified",brand:"Porsche",category:"EV",customs:"paid",sellingPrice:14e4,inShowroom:!0,showroomEntryDate:"2024-06-01",lastUpdated:"2024-06-16T14:30:00Z"},{id:"17",model:"Lucid Air",year:2024,color:"Cosmic Silver",arrivalDate:"2024-06-12",status:"in_stock",vinNumber:"LUCID123456789012",currentFloor:"New Arrivals",batteryPercentage:95,pdiCompleted:!1,brand:"Lucid",category:"EV",customs:"not paid",sellingPrice:13e4,notes:"Dream Edition, awaiting PDI and software setup",lastUpdated:"2024-06-12T10:00:00Z"},{id:"18",model:"Rivian R1S",year:2024,color:"Launch Green",arrivalDate:"2024-06-05",status:"reserved",vinNumber:"RIVIAN123456789012",currentFloor:"New Arrivals",batteryPercentage:88,pdiCompleted:!1,brand:"Rivian",category:"EV",customs:"not paid",sellingPrice:95e3,clientName:"Abdullah Al-Rashid",clientPhone:"+971-50-777-9999",clientEmail:"abdullah.rashid@email.com",clientAddress:"Abu Dhabi, UAE",reservedDate:"2024-06-07",notes:"Adventure package, customer interested in off-road capabilities",lastUpdated:"2024-06-07T15:45:00Z"},{id:"19",model:"Hyundai IONIQ 5",year:2024,color:"Digital Teal",arrivalDate:"2024-05-18",status:"in_stock",vinNumber:"KMHXX00XXXX123456",currentFloor:"Showroom 2",batteryPercentage:91,pdiCompleted:!0,pdiTechnician:"Park Ji-Sung",pdiDate:"2024-05-19",pdiNotes:"V2L feature tested, charging system verified",brand:"Hyundai",category:"EV",customs:"paid",sellingPrice:65e3,inShowroom:!0,showroomEntryDate:"2024-05-20",lastUpdated:"2024-06-16T16:00:00Z"},{id:"20",model:"Kia EV6",year:2024,color:"Aurora Black",arrivalDate:"2024-06-03",status:"in_stock",vinNumber:"KNDJX3XXXX123456",currentFloor:"Showroom 2",batteryPercentage:89,pdiCompleted:!0,pdiTechnician:"Kim Min-Jae",pdiDate:"2024-06-04",pdiNotes:"GT-Line variant, performance features verified",brand:"Kia",category:"EV",customs:"paid",sellingPrice:7e4,inShowroom:!0,showroomEntryDate:"2024-06-05",lastUpdated:"2024-06-16T17:30:00Z"},{id:"21",model:"Volkswagen ID.4",year:2024,color:"Moonstone Grey",arrivalDate:"2024-05-22",status:"in_stock",vinNumber:"WVWZZZ1KZDW123456",currentFloor:"Showroom 1",batteryPercentage:86,pdiCompleted:!0,pdiTechnician:"Wolfgang Mueller",pdiDate:"2024-05-23",pdiNotes:"ID.4 Pro variant, MEB platform verified",brand:"Volkswagen",category:"EV",customs:"paid",sellingPrice:55e3,inShowroom:!0,showroomEntryDate:"2024-05-24",lastUpdated:"2024-06-16T18:15:00Z"},{id:"22",model:"Ford Mustang Mach-E",year:2024,color:"Shadow Black",arrivalDate:"2024-06-10",status:"in_stock",vinNumber:"3FMTK3SU1NMA12345",currentFloor:"New Arrivals",batteryPercentage:92,pdiCompleted:!1,brand:"Ford",category:"EV",customs:"not paid",sellingPrice:75e3,notes:"GT Performance Edition, awaiting PDI completion",lastUpdated:"2024-06-10T11:30:00Z"},{id:"23",model:"Chevrolet Bolt EUV",year:2024,color:"Summit White",arrivalDate:"2024-05-28",status:"in_stock",vinNumber:"1G1FZ6S0XNB123456",currentFloor:"Showroom 2",batteryPercentage:94,pdiCompleted:!0,pdiTechnician:"Mike Johnson",pdiDate:"2024-05-29",pdiNotes:"Premier trim, Super Cruise system verified",brand:"Chevrolet",category:"EV",customs:"paid",sellingPrice:45e3,inShowroom:!0,showroomEntryDate:"2024-05-30",lastUpdated:"2024-06-16T19:00:00Z"},{id:"24",model:"Nissan Ariya",year:2024,color:"Platinum Quartz",arrivalDate:"2024-06-08",status:"reserved",vinNumber:"5N1AZ0CP0LC123456",currentFloor:"New Arrivals",batteryPercentage:88,pdiCompleted:!1,brand:"Nissan",category:"EV",customs:"not paid",sellingPrice:58e3,clientName:"Yuki Tanaka",clientPhone:"+971-50-888-7777",clientEmail:"yuki.tanaka@email.com",clientAddress:"Dubai Silicon Oasis, UAE",reservedDate:"2024-06-09",notes:"Premier trim, customer excited about Japanese EV technology",lastUpdated:"2024-06-09T13:20:00Z"},{id:"25",model:"Toyota bZ4X",year:2024,color:"Supersonic Red",arrivalDate:"2024-06-01",status:"in_stock",vinNumber:"JTDKARFU0N1234567",currentFloor:"Showroom 1",batteryPercentage:90,pdiCompleted:!0,pdiTechnician:"Takeshi Yamamoto",pdiDate:"2024-06-02",pdiNotes:"XLE trim, Toyota Safety Sense verified",brand:"Toyota",category:"EV",customs:"paid",sellingPrice:52e3,inShowroom:!0,showroomEntryDate:"2024-06-03",lastUpdated:"2024-06-16T20:30:00Z"},{id:"mock-001",model:"Test Vehicle",year:2024,color:"White",arrivalDate:"2024-12-21",status:"in_stock",vinNumber:"MOCKVIN000000001",currentFloor:"Inventory",batteryPercentage:85,pdiCompleted:!1,brand:"Mock",category:"EV",customs:"paid",sellingPrice:5e4,notes:"Mock vehicle for testing VIN scanner functionality",lastUpdated:"2024-12-21T10:00:00Z"}],ur=tr("carInventory/loadFromStorage",()=>ie(void 0,null,function*(){try{const e=localStorage.getItem("carInventory");return e?JSON.parse(e):dr}catch(e){return dr}})),hr=tr("carInventory/saveToStorage",e=>ie(void 0,null,function*(){try{return localStorage.setItem("carInventory",JSON.stringify(e)),e}catch(t){throw t}})),fr=ar({name:"carInventory",initialState:{cars:[],loading:!1,error:null,lastSynced:null,isDirty:!1},reducers:{updateCarStatus:(e,t)=>{const{carId:r,status:n}=t.payload,s=e.cars.find(e=>e.id===r);s&&(s.status=n,s.soldDate="sold"===n?(new Date).toISOString():s.soldDate,s.reservedDate="reserved"===n?(new Date).toISOString():s.reservedDate,s.lastUpdated=(new Date).toISOString(),e.isDirty=!0)},updateCar:(e,t)=>{const{carId:r,updates:n}=t.payload,s=e.cars.find(e=>e.id===r);s&&(Object.assign(s,n),s.lastUpdated=(new Date).toISOString(),e.isDirty=!0)},markSynced:e=>{e.isDirty=!1,e.lastSynced=(new Date).toISOString()}},extraReducers:e=>{e.addCase(ur.fulfilled,(e,t)=>{e.loading=!1,e.cars=t.payload,e.lastSynced=(new Date).toISOString(),e.isDirty=!1}).addCase(hr.fulfilled,e=>{e.loading=!1,e.isDirty=!1,e.lastSynced=(new Date).toISOString()})}}),{updateCarStatus:pr,updateCar:mr,markSynced:gr}=fr.actions,yr=fr.reducer,vr=ar({name:"appState",initialState:{currentUser:null,isLoading:!1,theme:"light",sidebarCollapsed:!1},reducers:{setCurrentUser:(e,t)=>{e.currentUser=t.payload},setLoading:(e,t)=>{e.isLoading=t.payload},toggleSidebar:e=>{e.sidebarCollapsed=!e.sidebarCollapsed}}}),{setCurrentUser:br,setLoading:xr,toggleSidebar:wr}=vr.actions,_r=vr.reducer,jr=ar({name:"garageSchedule",initialState:{scheduledCars:[],currentDate:(new Date).toISOString().split("T")[0],realTimeEnabled:!0},reducers:{addScheduledCar:(e,t)=>{e.scheduledCars.push(t.payload)},updateCarStatus:(e,t)=>{const r=e.scheduledCars.find(e=>e.id===t.payload.carId);r&&(r.status=t.payload.status)},setRealTimeEnabled:(e,t)=>{e.realTimeEnabled=t.payload}}}),{addScheduledCar:Sr,updateCarStatus:kr,setRealTimeEnabled:Er}=jr.actions,Nr=jr.reducer,Cr=ar({name:"notifications",initialState:{notifications:[],unreadCount:0},reducers:{addNotification:(e,t)=>{const r=X(Y({},t.payload),{id:`notification-${Date.now()}`,timestamp:(new Date).toISOString(),read:!1});e.notifications.unshift(r),e.unreadCount+=1},markAsRead:(e,t)=>{const r=e.notifications.find(e=>e.id===t.payload);r&&!r.read&&(r.read=!0,e.unreadCount-=1)},clearNotifications:e=>{e.notifications=[],e.unreadCount=0}}}),{addNotification:Tr,markAsRead:Pr,clearNotifications:Rr}=Cr.actions,Ar=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:s=!0}=null!=e?e:{};let o=new Wt;return t&&("boolean"==typeof t?o.push(Ut):o.push($t(t.extraArgument))),o},{reducer:r,middleware:n,devTools:s=!0,preloadedState:o,enhancers:i}=e||{};let a,l;if("function"==typeof r)a=r;else{if(!Ve(r))throw new Error(cr(1));a=Ke(r)}l="function"==typeof n?n(t):t();let c=Ge;s&&(c=zt(Y({trace:!1},"object"==typeof s&&s)));const d=function(...e){return t=>(r,n)=>{const s=t(r,n);let o=()=>{throw new Error(ze(15))};const i={getState:s.getState,dispatch:(e,...t)=>o(e,...t)},a=e.map(e=>e(i));return o=Ge(...a)(s.dispatch),X(Y({},s),{dispatch:o})}}(...l),u=Kt(d);return He(a,o,c(..."function"==typeof i?i(u):u()))}({reducer:{carInventory:yr,appState:_r,garageSchedule:Nr,notifications:Cr.reducer},middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}})}),Or={},Dr=function(e,t,r){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));n=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in Or)return;Or[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,r&&s.setAttribute("nonce",r),document.head.appendChild(s),t?new Promise((t,r)=>{s.addEventListener("load",t),s.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return n.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})};
/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function Mr(){return Mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mr.apply(this,arguments)}var Ir,Lr;(Lr=Ir||(Ir={})).Pop="POP",Lr.Push="PUSH",Lr.Replace="REPLACE";const Fr="popstate";function Ur(e){return void 0===e&&(e={}),function(e,t,r,n){void 0===n&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,a=Ir.Pop,l=null,c=d();null==c&&(c=0,i.replaceState(Mr({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function u(){a=Ir.Pop;let e=d(),t=null==e?null:e-c;c=e,l&&l({action:a,location:m.location,delta:t})}function h(e,t){a=Ir.Push;let r=Wr(m.location,e,t);c=d()+1;let n=qr(r,c),u=m.createHref(r);try{i.pushState(n,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(u)}o&&l&&l({action:a,location:m.location,delta:1})}function f(e,t){a=Ir.Replace;let r=Wr(m.location,e,t);c=d();let n=qr(r,c),s=m.createHref(r);i.replaceState(n,"",s),o&&l&&l({action:a,location:m.location,delta:0})}function p(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,r="string"==typeof e?e:Br(e);return r=r.replace(/ $/,"%20"),$r(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}let m={get action(){return a},get location(){return e(s,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Fr,u),l=e,()=>{s.removeEventListener(Fr,u),l=null}},createHref:e=>t(s,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:f,go:e=>i.go(e)};return m}(function(e,t){let{pathname:r,search:n,hash:s}=e.location;return Wr("",{pathname:r,search:n,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:Br(t)},0,e)}function $r(e,t){if(!1===e||null==e)throw new Error(t)}function zr(e,t){if(!e)try{throw new Error(t)}catch(r){}}function qr(e,t){return{usr:e.state,key:e.key,idx:t}}function Wr(e,t,r,n){return void 0===r&&(r=null),Mr({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?Vr(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function Br(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function Vr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var Hr,Kr;function Gr(e,t,r){return void 0===r&&(r="/"),function(e,t,r){let n="string"==typeof t?Vr(t):t,s=cn(n.pathname||"/",r);if(null==s)return null;let o=Jr(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let i=null;for(let a=0;null==i&&a<o.length;++a){let e=ln(s);i=on(o[a],e)}return i}(e,t,r)}function Jr(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let s=(e,s,o)=>{let i={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};i.relativePath.startsWith("/")&&($r(i.relativePath.startsWith(n),'Absolute route path "'+i.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(n.length));let a=fn([n,i.relativePath]),l=r.concat(i);e.children&&e.children.length>0&&($r(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),Jr(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:sn(a,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of Yr(e.path))s(e,t,n);else s(e,t)}),t}function Yr(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===n.length)return s?[o,""]:[o];let i=Yr(n.join("/")),a=[];return a.push(...i.map(e=>""===e?o:[o,e].join("/"))),s&&a.push(...i),a.map(t=>e.startsWith("/")&&""===t?"/":t)}(Kr=Hr||(Hr={})).data="data",Kr.deferred="deferred",Kr.redirect="redirect",Kr.error="error";const Xr=/^:[\w-]+$/,Zr=3,Qr=2,en=1,tn=10,rn=-2,nn=e=>"*"===e;function sn(e,t){let r=e.split("/"),n=r.length;return r.some(nn)&&(n+=rn),t&&(n+=Qr),r.filter(e=>!nn(e)).reduce((e,t)=>e+(Xr.test(t)?Zr:""===t?en:tn),n)}function on(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let a=0;a<n.length;++a){let e=n[a],r=a===n.length-1,l="/"===o?t:t.slice(o.length)||"/",c=an({path:e.relativePath,caseSensitive:e.caseSensitive,end:r},l),d=e.route;if(!c)return null;Object.assign(s,c.params),i.push({params:s,pathname:fn([o,c.pathname]),pathnameBase:pn(fn([o,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(o=fn([o,c.pathnameBase]))}return i}function an(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);zr("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let o=new RegExp(s,t?void 0:"i");return[o,n]}(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((e,t,r)=>{let{paramName:n,isOptional:s}=t;if("*"===n){let e=a[r]||"";i=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[r];return e[n]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:i,pattern:e}}function ln(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return zr(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function cn(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function dn(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function un(e,t){let r=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function hn(e,t,r,n){let s;void 0===n&&(n=!1),"string"==typeof e?s=Vr(e):(s=Mr({},e),$r(!s.pathname||!s.pathname.includes("?"),dn("?","pathname","search",s)),$r(!s.pathname||!s.pathname.includes("#"),dn("#","pathname","hash",s)),$r(!s.search||!s.search.includes("#"),dn("#","search","hash",s)));let o,i=""===e||""===s.pathname,a=i?"/":s.pathname;if(null==a)o=r;else{let e=t.length-1;if(!n&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:s=""}="string"==typeof e?Vr(e):e,o=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:o,search:mn(n),hash:gn(s)}}(s,o),c=a&&"/"!==a&&a.endsWith("/"),d=(i||"."===a)&&r.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const fn=e=>e.join("/").replace(/\/\/+/g,"/"),pn=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mn=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",gn=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const yn=["post","put","patch","delete"];new Set(yn);const vn=["get",...yn];
/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function bn(){return bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bn.apply(this,arguments)}new Set(vn);const xn=ae.createContext(null),wn=ae.createContext(null),_n=ae.createContext(null),jn=ae.createContext(null),Sn=ae.createContext({outlet:null,matches:[],isDataRoute:!1}),kn=ae.createContext(null);function En(){return null!=ae.useContext(jn)}function Nn(){return En()||$r(!1),ae.useContext(jn).location}function Cn(e){ae.useContext(_n).static||ae.useLayoutEffect(e)}function Tn(){let{isDataRoute:e}=ae.useContext(Sn);return e?function(){let{router:e}=function(){let e=ae.useContext(xn);return e||$r(!1),e}(Fn.UseNavigateStable),t=$n(Un.UseNavigateStable),r=ae.useRef(!1);Cn(()=>{r.current=!0});let n=ae.useCallback(function(n,s){void 0===s&&(s={}),r.current&&("number"==typeof n?e.navigate(n):e.navigate(n,bn({fromRouteId:t},s)))},[e,t]);return n}():function(){En()||$r(!1);let e=ae.useContext(xn),{basename:t,future:r,navigator:n}=ae.useContext(_n),{matches:s}=ae.useContext(Sn),{pathname:o}=Nn(),i=JSON.stringify(un(s,r.v7_relativeSplatPath)),a=ae.useRef(!1);Cn(()=>{a.current=!0});let l=ae.useCallback(function(r,s){if(void 0===s&&(s={}),!a.current)return;if("number"==typeof r)return void n.go(r);let l=hn(r,JSON.parse(i),o,"path"===s.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:fn([t,l.pathname])),(s.replace?n.replace:n.push)(l,s.state,s)},[t,n,i,o,e]);return l}()}const Pn=ae.createContext(null);function Rn(){let{matches:e}=ae.useContext(Sn),t=e[e.length-1];return t?t.params:{}}function An(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=ae.useContext(_n),{matches:s}=ae.useContext(Sn),{pathname:o}=Nn(),i=JSON.stringify(un(s,n.v7_relativeSplatPath));return ae.useMemo(()=>hn(e,JSON.parse(i),o,"path"===r),[e,i,o,r])}function On(e,t){return function(e,t,r,n){En()||$r(!1);let{navigator:s}=ae.useContext(_n),{matches:o}=ae.useContext(Sn),i=o[o.length-1],a=i?i.params:{};!i||i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c,d=Nn();if(t){var u;let e="string"==typeof t?Vr(t):t;"/"===l||(null==(u=e.pathname)?void 0:u.startsWith(l))||$r(!1),c=e}else c=d;let h=c.pathname||"/",f=h;if("/"!==l){let e=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let p=Gr(e,{pathname:f}),m=function(e,t,r,n){var s;void 0===t&&(t=[]);void 0===r&&(r=null);void 0===n&&(n=null);if(null==e){var o;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(o=n)&&o.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let i=e,a=null==(s=r)?void 0:s.errors;if(null!=a){let e=i.findIndex(e=>e.route.id&&void 0!==(null==a?void 0:a[e.route.id]));e>=0||$r(!1),i=i.slice(0,Math.min(i.length,e+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let e=i[d];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=d),e.route.id){let{loaderData:t,errors:n}=r,s=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){l=!0,i=c>=0?i.slice(0,c+1):[i[0]];break}}}return i.reduceRight((e,n,s)=>{let o,d=!1,u=null,h=null;var f;r&&(o=a&&n.route.id?a[n.route.id]:void 0,u=n.route.errorElement||Mn,l&&(c<0&&0===s?(zn[f="route-fallback"]||(zn[f]=!0),d=!0,h=null):c===s&&(d=!0,h=n.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,s+1)),m=()=>{let t;return t=o?u:d?h:n.route.Component?ae.createElement(n.route.Component,null):n.route.element?n.route.element:e,ae.createElement(Ln,{match:n,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===s)?ae.createElement(In,{location:r.location,revalidation:r.revalidation,component:u,error:o,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}(p&&p.map(e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:fn([l,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:fn([l,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,r,n);if(t&&m)return ae.createElement(jn.Provider,{value:{location:bn({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ir.Pop}},m);return m}(e,t)}function Dn(){let e=function(){var e;let t=ae.useContext(kn),r=function(){let e=ae.useContext(wn);return e||$r(!1),e}(),n=$n();if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[n]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ae.createElement(ae.Fragment,null,ae.createElement("h2",null,"Unexpected Application Error!"),ae.createElement("h3",{style:{fontStyle:"italic"}},t),r?ae.createElement("pre",{style:n},r):null,null)}const Mn=ae.createElement(Dn,null);class In extends ae.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){}render(){return void 0!==this.state.error?ae.createElement(Sn.Provider,{value:this.props.routeContext},ae.createElement(kn.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ln(e){let{routeContext:t,match:r,children:n}=e,s=ae.useContext(xn);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),ae.createElement(Sn.Provider,{value:t},n)}var Fn=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Fn||{}),Un=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Un||{});function $n(e){let t=function(){let e=ae.useContext(Sn);return e||$r(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||$r(!1),r.route.id}const zn={};function qn(e){let{to:t,replace:r,state:n,relative:s}=e;En()||$r(!1);let{future:o,static:i}=ae.useContext(_n),{matches:a}=ae.useContext(Sn),{pathname:l}=Nn(),c=Tn(),d=hn(t,un(a,o.v7_relativeSplatPath),l,"path"===s),u=JSON.stringify(d);return ae.useEffect(()=>c(JSON.parse(u),{replace:r,state:n,relative:s}),[c,u,s,r,n]),null}function Wn(e){return function(e){let t=ae.useContext(Sn).outlet;return t?ae.createElement(Pn.Provider,{value:e},t):t}(e.context)}function Bn(e){$r(!1)}function Vn(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ir.Pop,navigator:o,static:i=!1,future:a}=e;En()&&$r(!1);let l=t.replace(/^\/*/,"/"),c=ae.useMemo(()=>({basename:l,navigator:o,static:i,future:bn({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);"string"==typeof n&&(n=Vr(n));let{pathname:d="/",search:u="",hash:h="",state:f=null,key:p="default"}=n,m=ae.useMemo(()=>{let e=cn(d,l);return null==e?null:{location:{pathname:e,search:u,hash:h,state:f,key:p},navigationType:s}},[l,d,u,h,f,p,s]);return null==m?null:ae.createElement(_n.Provider,{value:c},ae.createElement(jn.Provider,{children:r,value:m}))}function Hn(e){let{children:t,location:r}=e;return On(Kn(t),r)}function Kn(e,t){void 0===t&&(t=[]);let r=[];return ae.Children.forEach(e,(e,n)=>{if(!ae.isValidElement(e))return;let s=[...t,n];if(e.type===ae.Fragment)return void r.push.apply(r,Kn(e.props.children,s));e.type!==Bn&&$r(!1),e.props.index&&e.props.children&&$r(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Kn(e.props.children,s)),r.push(o)}),r}
/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gn(){return Gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gn.apply(this,arguments)}function Jn(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(e=>[r,e]):[[r,n]])},[]))}new Promise(()=>{});const Yn=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Ck){}const Xn=ce.startTransition;function Zn(e){let{basename:t,children:r,future:n,window:s}=e,o=ae.useRef();null==o.current&&(o.current=Ur({window:s,v5Compat:!0}));let i=o.current,[a,l]=ae.useState({action:i.action,location:i.location}),{v7_startTransition:c}=n||{},d=ae.useCallback(e=>{c&&Xn?Xn(()=>l(e)):l(e)},[l,c]);return ae.useLayoutEffect(()=>i.listen(d),[i,d]),ae.useEffect(()=>{return null==(e=n)||e.v7_startTransition,void(null==e||e.v7_relativeSplatPath);var e},[n]),ae.createElement(Vn,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:i,future:n})}const Qn="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,es=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ts=ae.forwardRef(function(e,t){let r,{onClick:n,relative:s,reloadDocument:o,replace:i,state:a,target:l,to:c,preventScrollReset:d,viewTransition:u}=e,h=function(e,t){if(null==e)return{};var r,n,s={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,Yn),{basename:f}=ae.useContext(_n),p=!1;if("string"==typeof c&&es.test(c)&&(r=c,Qn))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),r=cn(t.pathname,f);t.origin===e.origin&&null!=r?c=r+t.search+t.hash:p=!0}catch(Ck){}let m=function(e,t){let{relative:r}=void 0===t?{}:t;En()||$r(!1);let{basename:n,navigator:s}=ae.useContext(_n),{hash:o,pathname:i,search:a}=An(e,{relative:r}),l=i;return"/"!==n&&(l="/"===i?n:fn([n,i])),s.createHref({pathname:l,search:a,hash:o})}(c,{relative:s}),g=function(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:a}=void 0===t?{}:t,l=Tn(),c=Nn(),d=An(e,{relative:i});return ae.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,r)){t.preventDefault();let r=void 0!==n?n:Br(c)===Br(d);l(e,{replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[c,l,d,n,s,r,e,o,i,a])}(c,{replace:i,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:u});return ae.createElement("a",Gn({},h,{href:r||m,onClick:p||o?n:function(e){n&&n(e),e.defaultPrevented||g(e)},ref:t,target:l}))});var rs,ns,ss,os;function is(e){let t=ae.useRef(Jn(e)),r=ae.useRef(!1),n=Nn(),s=ae.useMemo(()=>function(e,t){let r=Jn(e);return t&&t.forEach((e,n)=>{r.has(n)||t.getAll(n).forEach(e=>{r.append(n,e)})}),r}(n.search,r.current?null:t.current),[n.search]),o=Tn(),i=ae.useCallback((e,t)=>{const n=Jn("function"==typeof e?e(s):e);r.current=!0,o("?"+n,t)},[o,s]);return[s,i]}(ns=rs||(rs={})).UseScrollRestoration="useScrollRestoration",ns.UseSubmit="useSubmit",ns.UseSubmitFetcher="useSubmitFetcher",ns.UseFetcher="useFetcher",ns.useViewTransitionState="useViewTransitionState",(os=ss||(ss={})).UseFetcher="useFetcher",os.UseFetchers="useFetchers",os.UseScrollRestoration="useScrollRestoration";let as=0;const ls=new Map,cs=e=>{if(ls.has(e))return;const t=setTimeout(()=>{ls.delete(e),fs({type:"REMOVE_TOAST",toastId:e})},1e6);ls.set(e,t)},ds=(e,t)=>{switch(t.type){case"ADD_TOAST":return X(Y({},e),{toasts:[t.toast,...e.toasts].slice(0,1)});case"UPDATE_TOAST":return X(Y({},e),{toasts:e.toasts.map(e=>e.id===t.toast.id?Y(Y({},e),t.toast):e)});case"DISMISS_TOAST":{const{toastId:r}=t;return r?cs(r):e.toasts.forEach(e=>{cs(e.id)}),X(Y({},e),{toasts:e.toasts.map(e=>e.id===r||void 0===r?X(Y({},e),{open:!1}):e)})}case"REMOVE_TOAST":return void 0===t.toastId?X(Y({},e),{toasts:[]}):X(Y({},e),{toasts:e.toasts.filter(e=>e.id!==t.toastId)})}},us=[];let hs={toasts:[]};function fs(e){hs=ds(hs,e),us.forEach(e=>{e(hs)})}function ps(e){var t=Z(e,[]);const r=(as=(as+1)%Number.MAX_SAFE_INTEGER,as.toString()),n=()=>fs({type:"DISMISS_TOAST",toastId:r});return fs({type:"ADD_TOAST",toast:X(Y({},t),{id:r,open:!0,onOpenChange:e=>{e||n()}})}),{id:r,dismiss:n,update:e=>fs({type:"UPDATE_TOAST",toast:X(Y({},e),{id:r})})}}function ms(){const[e,t]=ae.useState(hs);return ae.useEffect(()=>(us.push(t),()=>{const e=us.indexOf(t);e>-1&&us.splice(e,1)}),[e]),X(Y({},e),{toast:ps,dismiss:e=>fs({type:"DISMISS_TOAST",toastId:e})})}function gs(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(null==e||e(n),!1===r||!n.defaultPrevented)return null==t?void 0:t(n)}}function ys(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function vs(...e){return t=>{let r=!1;const n=e.map(e=>{const n=ys(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){const r=n[t];"function"==typeof r?r():ys(e[t],null)}}}}function bs(...e){return ae.useCallback(vs(...e),e)}function xs(e,t=[]){let r=[];const n=()=>{const t=r.map(e=>ae.createContext(e));return function(r){const n=(null==r?void 0:r[e])||t;return ae.useMemo(()=>({[`__scope${e}`]:X(Y({},r),{[e]:n})}),[r,n])}};return n.scopeName=e,[function(t,n){const s=ae.createContext(n),o=r.length;r=[...r,n];const i=t=>{var r;const n=t,{scope:i,children:a}=n,l=Z(n,["scope","children"]),c=(null==(r=null==i?void 0:i[e])?void 0:r[o])||s,d=ae.useMemo(()=>l,Object.values(l));return Te.jsx(c.Provider,{value:d,children:a})};return i.displayName=t+"Provider",[i,function(r,i){var a;const l=(null==(a=null==i?void 0:i[e])?void 0:a[o])||s,c=ae.useContext(l);if(c)return c;if(void 0!==n)return n;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},ws(n,...t)]}function ws(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const n=r.reduce((t,{useScope:r,scopeName:n})=>{const s=r(e)[`__scope${n}`];return Y(Y({},t),s)},{});return ae.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}function _s(e){const t=Ss(e),r=ae.forwardRef((e,r)=>{const n=e,{children:s}=n,o=Z(n,["children"]),i=ae.Children.toArray(s),a=i.find(Ns);if(a){const e=a.props.children,n=i.map(t=>t===a?ae.Children.count(e)>1?ae.Children.only(null):ae.isValidElement(e)?e.props.children:null:t);return Te.jsx(t,X(Y({},o),{ref:r,children:ae.isValidElement(e)?ae.cloneElement(e,void 0,n):null}))}return Te.jsx(t,X(Y({},o),{ref:r,children:s}))});return r.displayName=`${e}.Slot`,r}var js=_s("Slot");function Ss(e){const t=ae.forwardRef((e,t)=>{const r=e,{children:n}=r,s=Z(r,["children"]);if(ae.isValidElement(n)){const e=function(e){var t,r;let n=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,s=n&&"isReactWarning"in n&&n.isReactWarning;if(s)return e.ref;if(n=null==(r=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:r.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s)return e.props.ref;return e.props.ref||e.ref}(n),r=function(e,t){const r=Y({},t);for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...e)=>{const t=o(...e);return s(...e),t}:s&&(r[n]=s):"style"===n?r[n]=Y(Y({},s),o):"className"===n&&(r[n]=[s,o].filter(Boolean).join(" "))}return Y(Y({},e),r)}(s,n.props);return n.type!==ae.Fragment&&(r.ref=t?vs(t,e):e),ae.cloneElement(n,r)}return ae.Children.count(n)>1?ae.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ks=Symbol("radix.slottable");function Es(e){const t=({children:e})=>Te.jsx(Te.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=ks,t}function Ns(e){return ae.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ks}function Cs(e){const t=e+"CollectionProvider",[r,n]=xs(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=e=>{const{scope:t,children:r}=e,n=de.useRef(null),o=de.useRef(new Map).current;return Te.jsx(s,{scope:t,itemMap:o,collectionRef:n,children:r})};i.displayName=t;const a=e+"CollectionSlot",l=_s(a),c=de.forwardRef((e,t)=>{const{scope:r,children:n}=e,s=bs(t,o(a,r).collectionRef);return Te.jsx(l,{ref:s,children:n})});c.displayName=a;const d=e+"CollectionItemSlot",u="data-radix-collection-item",h=_s(d),f=de.forwardRef((e,t)=>{const r=e,{scope:n,children:s}=r,i=Z(r,["scope","children"]),a=de.useRef(null),l=bs(t,a),c=o(d,n);return de.useEffect(()=>(c.itemMap.set(a,Y({ref:a},i)),()=>{c.itemMap.delete(a)})),Te.jsx(h,X(Y({},{[u]:""}),{ref:l,children:s}))});return f.displayName=d,[{Provider:i,Slot:c,ItemSlot:f},function(t){const r=o(e+"CollectionConsumer",t);return de.useCallback(()=>{const e=r.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${u}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},n]}var Ts=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const r=_s(`Primitive.${t}`),n=ae.forwardRef((e,n)=>{const s=e,{asChild:o}=s,i=Z(s,["asChild"]),a=o?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),Te.jsx(a,X(Y({},i),{ref:n}))});return n.displayName=`Primitive.${t}`,X(Y({},e),{[t]:n})},{});function Ps(e,t){e&&le.flushSync(()=>e.dispatchEvent(t))}function Rs(e){const t=ae.useRef(e);return ae.useEffect(()=>{t.current=e}),ae.useMemo(()=>(...e)=>{var r;return null==(r=t.current)?void 0:r.call(t,...e)},[])}var As,Os="dismissableLayer.update",Ds="dismissableLayer.pointerDownOutside",Ms="dismissableLayer.focusOutside",Is=ae.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ls=ae.forwardRef((e,t)=>{var r;const n=e,{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:c}=n,d=Z(n,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),u=ae.useContext(Is),[h,f]=ae.useState(null),p=null!=(r=null==h?void 0:h.ownerDocument)?r:null==globalThis?void 0:globalThis.document,[,m]=ae.useState({}),g=bs(t,e=>f(e)),y=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(v),x=h?y.indexOf(h):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=b,j=function(e,t=(null==globalThis?void 0:globalThis.document)){const r=Rs(e),n=ae.useRef(!1),s=ae.useRef(()=>{});return ae.useEffect(()=>{const e=e=>{if(e.target&&!n.current){let n=function(){$s(Ds,r,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",s.current),s.current=n,t.addEventListener("click",s.current,{once:!0})):n()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{const t=e.target,r=[...u.branches].some(e=>e.contains(t));_&&!r&&(null==i||i(e),null==l||l(e),e.defaultPrevented||null==c||c())},p),S=function(e,t=(null==globalThis?void 0:globalThis.document)){const r=Rs(e),n=ae.useRef(!1);return ae.useEffect(()=>{const e=e=>{if(e.target&&!n.current){$s(Ms,r,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{const t=e.target;[...u.branches].some(e=>e.contains(t))||(null==a||a(e),null==l||l(e),e.defaultPrevented||null==c||c())},p);return function(e,t=(null==globalThis?void 0:globalThis.document)){const r=Rs(e);ae.useEffect(()=>{const e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{x===u.layers.size-1&&(null==o||o(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))},p),ae.useEffect(()=>{if(h)return s&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(As=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Us(),()=>{s&&1===u.layersWithOutsidePointerEventsDisabled.size&&(p.body.style.pointerEvents=As)}},[h,p,s,u]),ae.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Us())},[h,u]),ae.useEffect(()=>{const e=()=>m({});return document.addEventListener(Os,e),()=>document.removeEventListener(Os,e)},[]),Te.jsx(Ts.div,X(Y({},d),{ref:g,style:Y({pointerEvents:w?_?"auto":"none":void 0},e.style),onFocusCapture:gs(e.onFocusCapture,S.onFocusCapture),onBlurCapture:gs(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:gs(e.onPointerDownCapture,j.onPointerDownCapture)}))});Ls.displayName="DismissableLayer";var Fs=ae.forwardRef((e,t)=>{const r=ae.useContext(Is),n=ae.useRef(null),s=bs(t,n);return ae.useEffect(()=>{const e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),Te.jsx(Ts.div,X(Y({},e),{ref:s}))});function Us(){const e=new CustomEvent(Os);document.dispatchEvent(e)}function $s(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Ps(s,o):s.dispatchEvent(o)}Fs.displayName="DismissableLayerBranch";var zs=Ls,qs=Fs,Ws=(null==globalThis?void 0:globalThis.document)?ae.useLayoutEffect:()=>{},Bs=ae.forwardRef((e,t)=>{var r;const n=e,{container:s}=n,o=Z(n,["container"]),[i,a]=ae.useState(!1);Ws(()=>a(!0),[]);const l=s||i&&(null==(r=null==globalThis?void 0:globalThis.document)?void 0:r.body);return l?ue.createPortal(Te.jsx(Ts.div,X(Y({},o),{ref:t})),l):null});Bs.displayName="Portal";var Vs=e=>{const{present:t,children:r}=e,n=function(e){const[t,r]=ae.useState(),n=ae.useRef(null),s=ae.useRef(e),o=ae.useRef("none"),i=e?"mounted":"unmounted",[a,l]=function(e,t){return ae.useReducer((e,r)=>{const n=t[e][r];return null!=n?n:e},e)}(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return ae.useEffect(()=>{const e=Hs(n.current);o.current="mounted"===a?e:"none"},[a]),Ws(()=>{const t=n.current,r=s.current;if(r!==e){const n=o.current,i=Hs(t);if(e)l("MOUNT");else if("none"===i||"none"===(null==t?void 0:t.display))l("UNMOUNT");else{l(r&&n!==i?"ANIMATION_OUT":"UNMOUNT")}s.current=e}},[e,l]),Ws(()=>{var e;if(t){let r;const i=null!=(e=t.ownerDocument.defaultView)?e:window,a=e=>{const o=Hs(n.current).includes(CSS.escape(e.animationName));if(e.target===t&&o&&(l("ANIMATION_END"),!s.current)){const e=t.style.animationFillMode;t.style.animationFillMode="forwards",r=i.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=e)})}},c=e=>{e.target===t&&(o.current=Hs(n.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",a),t.addEventListener("animationend",a),()=>{i.clearTimeout(r),t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",a),t.removeEventListener("animationend",a)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:ae.useCallback(e=>{n.current=e?getComputedStyle(e):null,r(e)},[])}}(t),s="function"==typeof r?r({present:n.isPresent}):ae.Children.only(r),o=bs(n.ref,function(e){var t,r;let n=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,s=n&&"isReactWarning"in n&&n.isReactWarning;if(s)return e.ref;if(n=null==(r=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:r.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s)return e.props.ref;return e.props.ref||e.ref}(s));return"function"==typeof r||n.isPresent?ae.cloneElement(s,{ref:o}):null};function Hs(e){return(null==e?void 0:e.animationName)||"none"}Vs.displayName="Presence";var Ks=ce[" useInsertionEffect ".trim().toString()]||Ws;function Gs({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,i]=function({defaultProp:e,onChange:t}){const[r,n]=ae.useState(e),s=ae.useRef(r),o=ae.useRef(t);return Ks(()=>{o.current=t},[t]),ae.useEffect(()=>{var e;s.current!==r&&(null==(e=o.current)||e.call(o,r),s.current=r)},[r,s]),[r,n,o]}({defaultProp:t,onChange:r}),a=void 0!==e,l=a?e:s;{const t=ae.useRef(void 0!==e);ae.useEffect(()=>{const e=t.current;if(e!==a){}t.current=a},[a,n])}const c=ae.useCallback(t=>{var r;if(a){const n=function(e){return"function"==typeof e}(t)?t(e):t;n!==e&&(null==(r=i.current)||r.call(i,n))}else o(t)},[a,e,o,i]);return[l,c]}var Js=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ys=ae.forwardRef((e,t)=>Te.jsx(Ts.span,X(Y({},e),{ref:t,style:Y(Y({},Js),e.style)})));Ys.displayName="VisuallyHidden";var Xs=Ys,Zs="ToastProvider",[Qs,eo,to]=Cs("Toast"),[ro,no]=xs("Toast",[to]),[so,oo]=ro(Zs),io=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,l]=ae.useState(null),[c,d]=ae.useState(0),u=ae.useRef(!1),h=ae.useRef(!1);return r.trim(),Te.jsx(Qs.Provider,{scope:t,children:Te.jsx(so,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:ae.useCallback(()=>d(e=>e+1),[]),onToastRemove:ae.useCallback(()=>d(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:h,children:i})})};io.displayName=Zs;var ao="ToastViewport",lo=["F8"],co="toast.viewportPause",uo="toast.viewportResume",ho=ae.forwardRef((e,t)=>{const r=e,{__scopeToast:n,hotkey:s=lo,label:o="Notifications ({hotkey})"}=r,i=Z(r,["__scopeToast","hotkey","label"]),a=oo(ao,n),l=eo(n),c=ae.useRef(null),d=ae.useRef(null),u=ae.useRef(null),h=ae.useRef(null),f=bs(t,h,a.onViewportChange),p=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=a.toastCount>0;ae.useEffect(()=>{const e=e=>{var t;0!==s.length&&s.every(t=>e[t]||e.code===t)&&(null==(t=h.current)||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[s]),ae.useEffect(()=>{const e=c.current,t=h.current;if(m&&e&&t){const r=()=>{if(!a.isClosePausedRef.current){const e=new CustomEvent(co);t.dispatchEvent(e),a.isClosePausedRef.current=!0}},n=()=>{if(a.isClosePausedRef.current){const e=new CustomEvent(uo);t.dispatchEvent(e),a.isClosePausedRef.current=!1}},s=t=>{!e.contains(t.relatedTarget)&&n()},o=()=>{e.contains(document.activeElement)||n()};return e.addEventListener("focusin",r),e.addEventListener("focusout",s),e.addEventListener("pointermove",r),e.addEventListener("pointerleave",o),window.addEventListener("blur",r),window.addEventListener("focus",n),()=>{e.removeEventListener("focusin",r),e.removeEventListener("focusout",s),e.removeEventListener("pointermove",r),e.removeEventListener("pointerleave",o),window.removeEventListener("blur",r),window.removeEventListener("focus",n)}}},[m,a.isClosePausedRef]);const g=ae.useCallback(({tabbingDirection:e})=>{const t=l().map(t=>{const r=t.ref.current,n=[r,...Po(r)];return"forwards"===e?n:n.reverse()});return("forwards"===e?t.reverse():t).flat()},[l]);return ae.useEffect(()=>{const e=h.current;if(e){const t=t=>{var r,n,s;const o=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!o){const o=document.activeElement,i=t.shiftKey;if(t.target===e&&i)return void(null==(r=d.current)||r.focus());const a=g({tabbingDirection:i?"backwards":"forwards"}),l=a.findIndex(e=>e===o);Ro(a.slice(l+1))?t.preventDefault():i?null==(n=d.current)||n.focus():null==(s=u.current)||s.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[l,g]),Te.jsxs(qs,{ref:c,role:"region","aria-label":o.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&Te.jsx(po,{ref:d,onFocusFromOutsideViewport:()=>{Ro(g({tabbingDirection:"forwards"}))}}),Te.jsx(Qs.Slot,{scope:n,children:Te.jsx(Ts.ol,X(Y({tabIndex:-1},i),{ref:f}))}),m&&Te.jsx(po,{ref:u,onFocusFromOutsideViewport:()=>{Ro(g({tabbingDirection:"backwards"}))}})]})});ho.displayName=ao;var fo="ToastFocusProxy",po=ae.forwardRef((e,t)=>{const r=e,{__scopeToast:n,onFocusFromOutsideViewport:s}=r,o=Z(r,["__scopeToast","onFocusFromOutsideViewport"]),i=oo(fo,n);return Te.jsx(Ys,X(Y({tabIndex:0},o),{ref:t,style:{position:"fixed"},onFocus:e=>{var t;const r=e.relatedTarget;!(null==(t=i.viewport)?void 0:t.contains(r))&&s()}}))});po.displayName=fo;var mo="Toast",go=ae.forwardRef((e,t)=>{const r=e,{forceMount:n,open:s,defaultOpen:o,onOpenChange:i}=r,a=Z(r,["forceMount","open","defaultOpen","onOpenChange"]),[l,c]=Gs({prop:s,defaultProp:null==o||o,onChange:i,caller:mo});return Te.jsx(Vs,{present:n||l,children:Te.jsx(bo,X(Y({open:l},a),{ref:t,onClose:()=>c(!1),onPause:Rs(e.onPause),onResume:Rs(e.onResume),onSwipeStart:gs(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:gs(e.onSwipeMove,e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${r}px`)}),onSwipeCancel:gs(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:gs(e.onSwipeEnd,e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${r}px`),c(!1)})}))})});go.displayName=mo;var[yo,vo]=ro(mo,{onClose(){}}),bo=ae.forwardRef((e,t)=>{const r=e,{__scopeToast:n,type:s="foreground",duration:o,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p}=r,m=Z(r,["__scopeToast","type","duration","open","onClose","onEscapeKeyDown","onPause","onResume","onSwipeStart","onSwipeMove","onSwipeCancel","onSwipeEnd"]),g=oo(mo,n),[y,v]=ae.useState(null),b=bs(t,e=>v(e)),x=ae.useRef(null),w=ae.useRef(null),_=o||g.duration,j=ae.useRef(0),S=ae.useRef(_),k=ae.useRef(0),{onToastAdd:E,onToastRemove:N}=g,C=Rs(()=>{var e;(null==y?void 0:y.contains(document.activeElement))&&(null==(e=g.viewport)||e.focus()),a()}),T=ae.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(k.current),j.current=(new Date).getTime(),k.current=window.setTimeout(C,e))},[C]);ae.useEffect(()=>{const e=g.viewport;if(e){const t=()=>{T(S.current),null==d||d()},r=()=>{const e=(new Date).getTime()-j.current;S.current=S.current-e,window.clearTimeout(k.current),null==c||c()};return e.addEventListener(co,r),e.addEventListener(uo,t),()=>{e.removeEventListener(co,r),e.removeEventListener(uo,t)}}},[g.viewport,_,c,d,T]),ae.useEffect(()=>{i&&!g.isClosePausedRef.current&&T(_)},[i,_,g.isClosePausedRef,T]),ae.useEffect(()=>(E(),()=>N()),[E,N]);const P=ae.useMemo(()=>y?No(y):null,[y]);return g.viewport?Te.jsxs(Te.Fragment,{children:[P&&Te.jsx(xo,{__scopeToast:n,role:"status","aria-live":"foreground"===s?"assertive":"polite",children:P}),Te.jsx(yo,{scope:n,onClose:C,children:le.createPortal(Te.jsx(Qs.ItemSlot,{scope:n,children:Te.jsx(zs,{asChild:!0,onEscapeKeyDown:gs(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||C(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:Te.jsx(Ts.li,X(Y({tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection},m),{ref:b,style:Y({userSelect:"none",touchAction:"none"},e.style),onKeyDown:gs(e.onKeyDown,e=>{"Escape"===e.key&&(null==l||l(e.nativeEvent),e.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:gs(e.onPointerDown,e=>{0===e.button&&(x.current={x:e.clientX,y:e.clientY})}),onPointerMove:gs(e.onPointerMove,e=>{if(!x.current)return;const t=e.clientX-x.current.x,r=e.clientY-x.current.y,n=Boolean(w.current),s=["left","right"].includes(g.swipeDirection),o=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,i=s?o(0,t):0,a=s?0:o(0,r),l="touch"===e.pointerType?10:2,c={x:i,y:a},d={originalEvent:e,delta:c};n?(w.current=c,Co("toast.swipeMove",h,d,{discrete:!1})):To(c,g.swipeDirection,l)?(w.current=c,Co("toast.swipeStart",u,d,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(r)>l)&&(x.current=null)}),onPointerUp:gs(e.onPointerUp,e=>{const t=w.current,r=e.target;if(r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),w.current=null,x.current=null,t){const r=e.currentTarget,n={originalEvent:e,delta:t};To(t,g.swipeDirection,g.swipeThreshold)?Co("toast.swipeEnd",p,n,{discrete:!0}):Co("toast.swipeCancel",f,n,{discrete:!0}),r.addEventListener("click",e=>e.preventDefault(),{once:!0})}})}))})}),g.viewport)})]}):null}),xo=e=>{const t=e,{__scopeToast:r,children:n}=t,s=Z(t,["__scopeToast","children"]),o=oo(mo,r),[i,a]=ae.useState(!1),[l,c]=ae.useState(!1);return function(e=()=>{}){const t=Rs(e);Ws(()=>{let e=0,r=0;return e=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(r)}},[t])}(()=>a(!0)),ae.useEffect(()=>{const e=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(e)},[]),l?null:Te.jsx(Bs,{asChild:!0,children:Te.jsx(Ys,X(Y({},s),{children:i&&Te.jsxs(Te.Fragment,{children:[o.label," ",n]})}))})},wo=ae.forwardRef((e,t)=>{const r=e,{__scopeToast:n}=r,s=Z(r,["__scopeToast"]);return Te.jsx(Ts.div,X(Y({},s),{ref:t}))});wo.displayName="ToastTitle";var _o=ae.forwardRef((e,t)=>{const r=e,{__scopeToast:n}=r,s=Z(r,["__scopeToast"]);return Te.jsx(Ts.div,X(Y({},s),{ref:t}))});_o.displayName="ToastDescription";var jo=ae.forwardRef((e,t)=>{const r=e,{altText:n}=r,s=Z(r,["altText"]);return n.trim()?Te.jsx(Eo,{altText:n,asChild:!0,children:Te.jsx(ko,X(Y({},s),{ref:t}))}):null});jo.displayName="ToastAction";var So="ToastClose",ko=ae.forwardRef((e,t)=>{const r=e,{__scopeToast:n}=r,s=Z(r,["__scopeToast"]),o=vo(So,n);return Te.jsx(Eo,{asChild:!0,children:Te.jsx(Ts.button,X(Y({type:"button"},s),{ref:t,onClick:gs(e.onClick,o.onClose)}))})});ko.displayName=So;var Eo=ae.forwardRef((e,t)=>{const r=e,{__scopeToast:n,altText:s}=r,o=Z(r,["__scopeToast","altText"]);return Te.jsx(Ts.div,X(Y({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0},o),{ref:t}))});function No(e){const t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const r=e.ariaHidden||e.hidden||"none"===e.style.display,n=""===e.dataset.radixToastAnnounceExclude;if(!r)if(n){const r=e.dataset.radixToastAnnounceAlt;r&&t.push(r)}else t.push(...No(e))}}),t}function Co(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Ps(s,o):s.dispatchEvent(o)}var To=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return"left"===t||"right"===t?o&&n>r:!o&&s>r};function Po(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ro(e){const t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var Ao=io,Oo=ho,Do=go,Mo=wo,Io=_o,Lo=jo,Fo=ko;const Uo=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,$o=pe,zo=(e,t)=>r=>{var n;if(null==(null==t?void 0:t.variants))return $o(e,null==r?void 0:r.class,null==r?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(e=>{const t=null==r?void 0:r[e],n=null==o?void 0:o[e];if(null===t)return null;const i=Uo(t)||Uo(n);return s[e][i]}),a=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{}),l=null==t||null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let r=t,{class:n,className:s}=r,i=Z(r,["class","className"]);return Object.entries(i).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes(Y(Y({},o),a)[t]):Y(Y({},o),a)[t]===r})?[...e,n,s]:e},[]);return $o(e,i,l,null==r?void 0:r.class,null==r?void 0:r.className)};
/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var qo={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=(e,t)=>{const r=ae.forwardRef((r,n)=>{var s,o=r,{color:i="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:u}=o,h=Z(o,["color","size","strokeWidth","absoluteStrokeWidth","className","children"]);return ae.createElement("svg",Y(X(Y({ref:n},qo),{width:a,height:a,stroke:i,strokeWidth:c?24*Number(l)/Number(a):l,className:["lucide",`lucide-${s=e,s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,d].join(" ")}),h),[...t.map(([e,t])=>ae.createElement(e,t)),...Array.isArray(u)?u:[u]])});return r.displayName=`${e}`,r},Bo=Wo("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Vo=Wo("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ho=Wo("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ko=Wo("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]),Go=Wo("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Jo=Wo("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]),Yo=Wo("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Xo=Wo("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Zo=Wo("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),Qo=Wo("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ei=Wo("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ti=Wo("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ri=Wo("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ni=Wo("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),si=Wo("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),oi=Wo("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ii=Wo("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),ai=Wo("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),li=Wo("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),ci=Wo("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),di=Wo("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),ui=Wo("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),hi=Wo("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),fi=Wo("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),pi=Wo("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),mi=Wo("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),gi=Wo("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),yi=Wo("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),vi=Wo("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),bi=Wo("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),xi=Wo("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),wi=Wo("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),_i=Wo("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),ji=Wo("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Si=Wo("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),ki=Wo("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Ei=Wo("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Ni=Wo("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ci=Wo("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),Ti=Wo("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Pi=Wo("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Ri=Wo("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Ai=Wo("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Oi=Wo("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Di=Wo("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Mi=Wo("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),Ii=Wo("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),Li=Wo("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Fi=Wo("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Ui=Wo("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),$i=Wo("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),zi=Wo("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),qi=Wo("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Wi=Wo("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Bi=Wo("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),Vi=Wo("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Hi=Wo("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ki=(e,t)=>{var r;if(0===e.length)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),o=s?Ki(e.slice(1),s):void 0;if(o)return o;if(0===t.validators.length)return;const i=e.join("-");return null==(r=t.validators.find(({validator:e})=>e(i)))?void 0:r.classGroupId},Gi=/^\[(.+)\]$/,Ji=e=>{if(Gi.test(e)){const t=Gi.exec(e)[1],r=null==t?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Yi=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return ea(Object.entries(e.classGroups),r).forEach(([e,r])=>{Xi(r,n,e,t)}),n},Xi=(e,t,r,n)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:Zi(t,e)).classGroupId=r)}if("function"==typeof e)return Qi(e)?void Xi(e(n),t,r,n):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach(([e,s])=>{Xi(s,Zi(t,e),r,n)})})},Zi=(e,t)=>{let r=e;return t.split("-").forEach(e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r},Qi=e=>e.isThemeGetter,ea=(e,t)=>t?e.map(([e,r])=>[e,r.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,r])=>[t+e,r])):e)]):e,ta=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(s(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):s(e,t)}}},ra=e=>{const{separator:t,experimentalParseClassName:r}=e,n=1===t.length,s=t[0],o=t.length,i=e=>{const r=[];let i,a=0,l=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===a){if(c===s&&(n||e.slice(u,u+o)===t)){r.push(e.slice(l,u)),l=u+o;continue}if("/"===c){i=u;continue}}"["===c?a++:"]"===c&&a--}const c=0===r.length?e:e.substring(l),d=c.startsWith("!");return{modifiers:r,hasImportantModifier:d,baseClassName:d?c.substring(1):c,maybePostfixModifierPosition:i&&i>l?i-l:void 0}};return r?e=>r({className:e,parseClassName:i}):i},na=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(e=>{"["===e[0]?(t.push(...r.sort(),e),r=[]):r.push(e)}),t.push(...r.sort()),t},sa=e=>Y({cache:ta(e.cacheSize),parseClassName:ra(e)},(e=>{const t=Yi(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{const r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),Ki(r,t)||Ji(e)},getConflictingClassGroupIds:(e,t)=>{const s=r[e]||[];return t&&n[e]?[...s,...n[e]]:s}}})(e)),oa=/\s+/;function ia(){let e,t,r=0,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=aa(e))&&(n&&(n+=" "),n+=t);return n}const aa=e=>{if("string"==typeof e)return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=aa(e[n]))&&(r&&(r+=" "),r+=t);return r};function la(e,...t){let r,n,s,o=function(a){const l=t.reduce((e,t)=>t(e),e());return r=sa(l),n=r.cache.get,s=r.cache.set,o=i,i(a)};function i(e){const t=n(e);if(t)return t;const o=((e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(oa);let a="";for(let l=i.length-1;l>=0;l-=1){const e=i[l],{modifiers:t,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:u}=r(e);let h=Boolean(u),f=n(h?d.substring(0,u):d);if(!f){if(!h){a=e+(a.length>0?" "+a:a);continue}if(f=n(d),!f){a=e+(a.length>0?" "+a:a);continue}h=!1}const p=na(t).join(":"),m=c?p+"!":p,g=m+f;if(o.includes(g))continue;o.push(g);const y=s(f,h);for(let r=0;r<y.length;++r){const e=y[r];o.push(m+e)}a=e+(a.length>0?" "+a:a)}return a})(e,r);return s(e,o),o}return function(){return o(ia.apply(null,arguments))}}const ca=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},da=/^\[(?:([a-z-]+):)?(.+)\]$/i,ua=/^\d+\/\d+$/,ha=new Set(["px","full","screen"]),fa=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pa=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ma=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ga=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ya=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,va=e=>xa(e)||ha.has(e)||ua.test(e),ba=e=>Oa(e,"length",Da),xa=e=>Boolean(e)&&!Number.isNaN(Number(e)),wa=e=>Oa(e,"number",xa),_a=e=>Boolean(e)&&Number.isInteger(Number(e)),ja=e=>e.endsWith("%")&&xa(e.slice(0,-1)),Sa=e=>da.test(e),ka=e=>fa.test(e),Ea=new Set(["length","size","percentage"]),Na=e=>Oa(e,Ea,Ma),Ca=e=>Oa(e,"position",Ma),Ta=new Set(["image","url"]),Pa=e=>Oa(e,Ta,La),Ra=e=>Oa(e,"",Ia),Aa=()=>!0,Oa=(e,t,r)=>{const n=da.exec(e);return!!n&&(n[1]?"string"==typeof t?n[1]===t:t.has(n[1]):r(n[2]))},Da=e=>pa.test(e)&&!ma.test(e),Ma=()=>!1,Ia=e=>ga.test(e),La=e=>ya.test(e),Fa=la(()=>{const e=ca("colors"),t=ca("spacing"),r=ca("blur"),n=ca("brightness"),s=ca("borderColor"),o=ca("borderRadius"),i=ca("borderSpacing"),a=ca("borderWidth"),l=ca("contrast"),c=ca("grayscale"),d=ca("hueRotate"),u=ca("invert"),h=ca("gap"),f=ca("gradientColorStops"),p=ca("gradientColorStopPositions"),m=ca("inset"),g=ca("margin"),y=ca("opacity"),v=ca("padding"),b=ca("saturate"),x=ca("scale"),w=ca("sepia"),_=ca("skew"),j=ca("space"),S=ca("translate"),k=()=>["auto",Sa,t],E=()=>[Sa,t],N=()=>["",va,ba],C=()=>["auto",xa,Sa],T=()=>["","0",Sa],P=()=>[xa,Sa];return{cacheSize:500,separator:":",theme:{colors:[Aa],spacing:[va,ba],blur:["none","",ka,Sa],brightness:P(),borderColor:[e],borderRadius:["none","","full",ka,Sa],borderSpacing:E(),borderWidth:N(),contrast:P(),grayscale:T(),hueRotate:P(),invert:T(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[ja,ba],inset:k(),margin:k(),opacity:P(),padding:E(),saturate:P(),scale:P(),sepia:T(),skew:P(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",Sa]}],container:["container"],columns:[{columns:[ka]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Sa]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_a,Sa]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Sa]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",_a,Sa]}],"grid-cols":[{"grid-cols":[Aa]}],"col-start-end":[{col:["auto",{span:["full",_a,Sa]},Sa]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[Aa]}],"row-start-end":[{row:["auto",{span:[_a,Sa]},Sa]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Sa]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Sa]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Sa,t]}],"min-w":[{"min-w":[Sa,t,"min","max","fit"]}],"max-w":[{"max-w":[Sa,t,"none","full","min","max","fit","prose",{screen:[ka]},ka]}],h:[{h:[Sa,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Sa,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Sa,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Sa,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ka,ba]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wa]}],"font-family":[{font:[Aa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Sa]}],"line-clamp":[{"line-clamp":["none",xa,wa]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",va,Sa]}],"list-image":[{"list-image":["none",Sa]}],"list-style-type":[{list:["none","disc","decimal",Sa]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",va,ba]}],"underline-offset":[{"underline-offset":["auto",va,Sa]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Sa]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Sa]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Ca]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Na]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Pa]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[va,Sa]}],"outline-w":[{outline:[va,ba]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[va,ba]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ka,Ra]}],"shadow-color":[{shadow:[Aa]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ka,Sa]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Sa]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",Sa]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",Sa]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[_a,Sa]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Sa]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Sa]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Sa]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[va,ba,wa]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function Ua(...e){return Fa(pe(e))}const $a={formatDate:(e,t="PPP")=>{if(!e)return"N/A";const r="string"==typeof e?me(e):e;return ge(r)?ye(r,t):"Invalid Date"},formatDateTime:e=>{if(!e)return"N/A";const t="string"==typeof e?me(e):e;return ge(t)?ye(t,"PPP p"):"Invalid Date"},isToday:e=>{const t=new Date,r="string"==typeof e?me(e):e;return r.getDate()===t.getDate()&&r.getMonth()===t.getMonth()&&r.getFullYear()===t.getFullYear()},getDaysDifference:(e,t)=>{const r="string"==typeof e?me(e):e,n="string"==typeof t?me(t):t,s=Math.abs(n.getTime()-r.getTime());return Math.ceil(s/864e5)}},za={formatCurrency:(e,t="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e),formatPercentage:(e,t=2)=>`${(100*e).toFixed(t)}%`,clamp:(e,t,r)=>Math.min(Math.max(e,t),r),isValidNumber:e=>!isNaN(e)&&isFinite(e)},qa=Ao,Wa=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx(Oo,Y({ref:t,className:Ua("fixed top-0 z-[99999] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n)},s))});Wa.displayName=Oo.displayName;const Ba=zo("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Va=ae.forwardRef((e,t)=>{var r=e,{className:n,variant:s}=r,o=Z(r,["className","variant"]);return Te.jsx(Do,Y({ref:t,className:Ua(Ba({variant:s}),n)},o))});Va.displayName=Do.displayName;ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx(Lo,Y({ref:t,className:Ua("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n)},s))}).displayName=Lo.displayName;const Ha=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx(Fo,X(Y({ref:t,className:Ua("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":""},s),{children:Te.jsx(Vi,{className:"h-4 w-4"})}))});Ha.displayName=Fo.displayName;const Ka=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx(Mo,Y({ref:t,className:Ua("text-sm font-semibold",n)},s))});Ka.displayName=Mo.displayName;const Ga=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx(Io,Y({ref:t,className:Ua("text-sm opacity-90",n)},s))});function Ja(){const{toasts:e}=ms();return Te.jsxs(qa,{children:[e.map(function(e){var t=e,{id:r,title:n,description:s,action:o}=t,i=Z(t,["id","title","description","action"]);return Te.jsxs(Va,X(Y({},i),{children:[Te.jsxs("div",{className:"grid gap-1",children:[n&&Te.jsx(Ka,{children:n}),s&&Te.jsx(Ga,{children:s})]}),o,Te.jsx(Ha,{})]}),r)}),Te.jsx(Wa,{className:"bg-white shadow-lg"})]})}Ga.displayName=Io.displayName;const Ya=zo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 touch-manipulation",{variants:{variant:{default:"bg-monza-yellow text-monza-black hover:bg-monza-yellow/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-monza-yellow/10 hover:text-monza-black hover:border-monza-yellow",secondary:"bg-monza-grey text-white hover:bg-monza-grey/80",ghost:"hover:bg-monza-yellow/10 hover:text-monza-black",link:"text-monza-grey underline-offset-4 hover:underline",success:"bg-green-500 text-white hover:bg-green-600"},size:{default:"h-10 px-4 py-2 md:h-10 md:px-4 md:py-2",sm:"h-9 px-3 text-xs md:h-9 md:px-3 md:text-sm",lg:"h-12 px-6 text-base md:h-11 md:px-8 md:text-sm",icon:"h-10 w-10 md:h-10 md:w-10","mobile-friendly":"h-12 px-6 py-3 text-base min-w-[120px]"}},defaultVariants:{variant:"default",size:"default"}}),Xa=ae.forwardRef((e,t)=>{var r=e,{className:n,variant:s,size:o,asChild:i=!1}=r,a=Z(r,["className","variant","size","asChild"]);const l=i?js:"button";return Te.jsx(l,Y({className:Ua(Ya({variant:s,size:o,className:n})),ref:t},a))});Xa.displayName="Button";const Za=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx("div",Y({ref:t,className:Ua("rounded-lg border bg-card text-card-foreground shadow-sm p-6",n)},s))});Za.displayName="Card";const Qa=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx("div",Y({ref:t,className:Ua("flex flex-col space-y-1.5 p-6",n)},s))});Qa.displayName="CardHeader";const el=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx("h3",Y({ref:t,className:Ua("text-2xl font-semibold leading-none tracking-tight",n)},s))});el.displayName="CardTitle";const tl=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx("p",Y({ref:t,className:Ua("text-sm text-muted-foreground",n)},s))});tl.displayName="CardDescription";const rl=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx("div",Y({ref:t,className:Ua("p-6 pt-0",n)},s))});rl.displayName="CardContent";ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx("div",Y({ref:t,className:Ua("flex items-center p-6 pt-0",n)},s))}).displayName="CardFooter";class nl extends ae.Component{constructor(e){super(e),Q(this,"handleRetry",()=>{this.setState({hasError:!1})}),Q(this,"handleReload",()=>{window.location.reload()}),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:Te.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:Te.jsxs(Za,{className:"w-full max-w-lg",children:[Te.jsxs(Qa,{className:"text-center",children:[Te.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:Te.jsx(Ho,{className:"h-6 w-6 text-red-600"})}),Te.jsx(el,{className:"text-xl",children:"Something went wrong"})]}),Te.jsxs(rl,{className:"space-y-4",children:[Te.jsx("p",{className:"text-center text-gray-600",children:"We're sorry, but something unexpected happened. Please try refreshing the page or contact support if the problem persists."}),!1,Te.jsxs("div",{className:"flex gap-2 justify-center",children:[Te.jsx(Xa,{variant:"outline",onClick:this.handleRetry,children:"Try Again"}),Te.jsx(Xa,{onClick:this.handleReload,children:"Reload Page"})]})]})]})}):this.props.children}}class sl extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class ol extends sl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class il extends sl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class al extends sl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ll,cl;(cl=ll||(ll={})).Any="any",cl.ApNortheast1="ap-northeast-1",cl.ApNortheast2="ap-northeast-2",cl.ApSouth1="ap-south-1",cl.ApSoutheast1="ap-southeast-1",cl.ApSoutheast2="ap-southeast-2",cl.CaCentral1="ca-central-1",cl.EuCentral1="eu-central-1",cl.EuWest1="eu-west-1",cl.EuWest2="eu-west-2",cl.EuWest3="eu-west-3",cl.SaEast1="sa-east-1",cl.UsEast1="us-east-1",cl.UsWest1="us-west-1",cl.UsWest2="us-west-2";var dl=function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{l(n.next(e))}catch(Ck){o(Ck)}}function a(e){try{l(n.throw(e))}catch(Ck){o(Ck)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}l((n=n.apply(e,t||[])).next())})};class ul{constructor(e,{headers:t={},customFetch:r,region:n=ll.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Dr(()=>ie(void 0,null,function*(){const{default:e}=yield Promise.resolve().then(()=>Sl);return{default:e}}),void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return dl(this,void 0,void 0,function*(){try{const{headers:n,method:s,body:o}=t;let i={},{region:a}=t;a||(a=this.region);const l=new URL(`${this.url}/${e}`);let c;a&&"any"!==a&&(i["x-region"]=a,l.searchParams.set("forceFunctionRegion",a)),o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&("undefined"!=typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer?(i["Content-Type"]="application/octet-stream",c=o):"string"==typeof o?(i["Content-Type"]="text/plain",c=o):"undefined"!=typeof FormData&&o instanceof FormData?c=o:(i["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(l.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},i),this.headers),n),body:c}).catch(e=>{throw new ol(e)}),u=d.headers.get("x-relay-error");if(u&&"true"===u)throw new il(d);if(!d.ok)throw new al(d);let h,f=(null!==(r=d.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return h="application/json"===f?yield d.json():"application/octet-stream"===f?yield d.blob():"text/event-stream"===f?d:"multipart/form-data"===f?yield d.formData():yield d.text(),{data:h,error:null,response:d}}catch(n){return{data:null,error:n,response:n instanceof al||n instanceof il?n.context:void 0}}})}}var hl={},fl={},pl={},ml={},gl={},yl={},vl=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();const bl=vl.fetch,xl=vl.fetch.bind(vl),wl=vl.Headers,_l=vl.Request,jl=vl.Response,Sl=Object.freeze(Object.defineProperty({__proto__:null,Headers:wl,Request:_l,Response:jl,default:xl,fetch:bl},Symbol.toStringTag,{value:"Module"})),kl=he(Sl);var El={};Object.defineProperty(El,"__esModule",{value:!0});let Nl=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};El.default=Nl;var Cl=fe&&fe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yl,"__esModule",{value:!0});const Tl=Cl(kl),Pl=Cl(El);yl.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=Tl.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(e=>ie(this,null,function*(){var t,r,n;let s=null,o=null,i=null,a=e.status,l=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=yield e.text();""===t||(o="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const n=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),c=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");n&&c&&c.length>1&&(i=parseInt(c[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(s={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,i=null,a=406,l="Not Acceptable"):o=1===o.length?o[0]:null)}else{const t=yield e.text();try{s=JSON.parse(t),Array.isArray(s)&&404===e.status&&(o=[],s=null,a=200,l="OK")}catch(c){404===e.status&&""===t?(a=204,l="No Content"):s={message:t}}if(s&&this.isMaybeSingle&&(null===(n=null==s?void 0:s.details)||void 0===n?void 0:n.includes("0 rows"))&&(s=null,a=200,l="OK"),s&&this.shouldThrowOnError)throw new Pl.default(s)}return{error:s,data:o,count:i,status:a,statusText:l}}));return this.shouldThrowOnError||(r=r.catch(e=>{var t,r,n;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(r=null==e?void 0:e.stack)&&void 0!==r?r:""}`,hint:"",code:`${null!==(n=null==e?void 0:e.code)&&void 0!==n?n:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}};var Rl=fe&&fe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gl,"__esModule",{value:!0});const Al=Rl(yl);let Ol=class extends Al.default{select(e){let t=!1;const r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const o=s?`${s}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=void 0===n?"offset":`${n}.offset`,o=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){var i;const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.Accept)&&void 0!==i?i:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${a};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};gl.default=Ol;var Dl=fe&&fe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ml,"__esModule",{value:!0});const Ml=Dl(gl);let Il=class extends Ml.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";"plain"===n?s="pl":"phrase"===n?s="ph":"websearch"===n&&(s="w");const o=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};ml.default=Il;var Ll=fe&&fe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pl,"__esModule",{value:!0});const Fl=Ll(ml);pl.default=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=t,this.schema=r,this.fetch=n}select(e,{head:t=!1,count:r}={}){const n=t?"HEAD":"GET";let s=!1;const o=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Fl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new Fl.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){const o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new Fl.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new Fl.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new Fl.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};var Ul={},$l={};Object.defineProperty($l,"__esModule",{value:!0}),$l.version=void 0,$l.version="0.0.0-automated",Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.DEFAULT_HEADERS=void 0;const zl=$l;Ul.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${zl.version}`};var ql=fe&&fe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fl,"__esModule",{value:!0});const Wl=ql(pl),Bl=ql(ml),Vl=Ul;fl.default=class e{constructor(e,{headers:t={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},Vl.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new Wl.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:n=!1,count:s}={}){let o;const i=new URL(`${this.url}/rpc/${e}`);let a;r||n?(o=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{i.searchParams.append(e,t)})):(o="POST",a=t);const l=Object.assign({},this.headers);return s&&(l.Prefer=`count=${s}`),new Bl.default({method:o,url:i,headers:l,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};var Hl=fe&&fe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hl,"__esModule",{value:!0}),hl.PostgrestError=hl.PostgrestBuilder=hl.PostgrestTransformBuilder=hl.PostgrestFilterBuilder=hl.PostgrestQueryBuilder=hl.PostgrestClient=void 0;const Kl=Hl(fl);hl.PostgrestClient=Kl.default;const Gl=Hl(pl);hl.PostgrestQueryBuilder=Gl.default;const Jl=Hl(ml);hl.PostgrestFilterBuilder=Jl.default;const Yl=Hl(gl);hl.PostgrestTransformBuilder=Yl.default;const Xl=Hl(yl);hl.PostgrestBuilder=Xl.default;const Zl=Hl(El);hl.PostgrestError=Zl.default;var Ql=hl.default={PostgrestClient:Kl.default,PostgrestQueryBuilder:Gl.default,PostgrestFilterBuilder:Jl.default,PostgrestTransformBuilder:Yl.default,PostgrestBuilder:Xl.default,PostgrestError:Zl.default};const{PostgrestClient:ec,PostgrestQueryBuilder:tc,PostgrestFilterBuilder:rc,PostgrestTransformBuilder:nc,PostgrestBuilder:sc,PostgrestError:oc}=Ql;class ic{static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!=typeof process&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);return e>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${e} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${e} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}}const ac=1e4;var lc,cc,dc,uc,hc,fc,pc,mc,gc,yc,vc;(cc=lc||(lc={}))[cc.connecting=0]="connecting",cc[cc.open=1]="open",cc[cc.closing=2]="closing",cc[cc.closed=3]="closed",(uc=dc||(dc={})).closed="closed",uc.errored="errored",uc.joined="joined",uc.joining="joining",uc.leaving="leaving",(fc=hc||(hc={})).close="phx_close",fc.error="phx_error",fc.join="phx_join",fc.reply="phx_reply",fc.leave="phx_leave",fc.access_token="access_token",(pc||(pc={})).websocket="websocket",(gc=mc||(mc={})).Connecting="connecting",gc.Open="open",gc.Closing="closing",gc.Closed="closed";class bc{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),s=t.getUint8(2);let o=this.HEADER_LENGTH+2;const i=r.decode(e.slice(o,o+n));o+=n;const a=r.decode(e.slice(o,o+s));o+=s;return{ref:null,topic:i,event:a,payload:JSON.parse(r.decode(e.slice(o,e.byteLength)))}}}class xc{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(vc=yc||(yc={})).abstime="abstime",vc.bool="bool",vc.date="date",vc.daterange="daterange",vc.float4="float4",vc.float8="float8",vc.int2="int2",vc.int4="int4",vc.int4range="int4range",vc.int8="int8",vc.int8range="int8range",vc.json="json",vc.jsonb="jsonb",vc.money="money",vc.numeric="numeric",vc.oid="oid",vc.reltime="reltime",vc.text="text",vc.time="time",vc.timestamp="timestamp",vc.timestamptz="timestamptz",vc.timetz="timetz",vc.tsrange="tsrange",vc.tstzrange="tstzrange";const wc=(e,t,r={})=>{var n;const s=null!==(n=r.skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((r,n)=>(r[n]=_c(n,e,t,s),r),{})},_c=(e,t,r,n)=>{const s=t.find(t=>t.name===e),o=null==s?void 0:s.type,i=r[e];return o&&!n.includes(o)?jc(o,i):Sc(i)},jc=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return Cc(t,r)}switch(e){case yc.bool:return kc(t);case yc.float4:case yc.float8:case yc.int2:case yc.int4:case yc.int8:case yc.numeric:case yc.oid:return Ec(t);case yc.json:case yc.jsonb:return Nc(t);case yc.timestamp:return Tc(t);case yc.abstime:case yc.date:case yc.daterange:case yc.int4range:case yc.int8range:case yc.money:case yc.reltime:case yc.text:case yc.time:case yc.timestamptz:case yc.timetz:case yc.tsrange:case yc.tstzrange:default:return Sc(t)}},Sc=e=>e,kc=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ec=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Nc=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},Cc=(e,t)=>{if("string"!=typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const o=e.slice(1,r);try{n=JSON.parse("["+o+"]")}catch(s){n=o?o.split(","):[]}return n.map(e=>jc(t,e))}return e},Tc=e=>"string"==typeof e?e.replace(" ","T"):e,Pc=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Rc{constructor(e,t,r={},n=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ac,Oc,Dc,Mc,Ic,Lc,Fc,Uc;(Oc=Ac||(Ac={})).SYNC="sync",Oc.JOIN="join",Oc.LEAVE="leave";class $c{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$c.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=$c.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=$c.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){const s=this.cloneDeep(e),o=this.transformState(t),i={},a={};return this.map(s,(e,t)=>{o[e]||(a[e]=t)}),this.map(o,(e,t)=>{const r=s[e];if(r){const n=t.map(e=>e.presence_ref),s=r.map(e=>e.presence_ref),o=t.filter(e=>s.indexOf(e.presence_ref)<0),l=r.filter(e=>n.indexOf(e.presence_ref)<0);o.length>0&&(i[e]=o),l.length>0&&(a[e]=l)}else i[e]=t}),this.syncDiff(s,{joins:i,leaves:a},r,n)}static syncDiff(e,t,r,n){const{joins:s,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(s,(t,n)=>{var s;const o=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(n),o.length>0){const r=e[t].map(e=>e.presence_ref),n=o.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...n)}r(t,o,n)}),this.map(o,(t,r)=>{let s=e[t];if(!s)return;const o=r.map(e=>e.presence_ref);s=s.filter(e=>o.indexOf(e.presence_ref)<0),e[t]=s,n(t,s,r),0===s.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(Mc=Dc||(Dc={})).ALL="*",Mc.INSERT="INSERT",Mc.UPDATE="UPDATE",Mc.DELETE="DELETE",(Lc=Ic||(Ic={})).BROADCAST="broadcast",Lc.PRESENCE="presence",Lc.POSTGRES_CHANGES="postgres_changes",Lc.SYSTEM="system",(Uc=Fc||(Fc={})).SUBSCRIBED="SUBSCRIBED",Uc.TIMED_OUT="TIMED_OUT",Uc.CLOSED="CLOSED",Uc.CHANNEL_ERROR="CHANNEL_ERROR";class zc{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=dc.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Rc(this,hc.join,this.params,this.timeout),this.rejoinTimer=new xc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dc.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dc.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=dc.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dc.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=dc.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hc.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new $c(this),this.broadcastEndpointURL=Pc(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==dc.closed){const{config:{broadcast:s,presence:o,private:i}}=this.params,a=null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==n?n:[],l=!!this.bindings[Ic.PRESENCE]&&this.bindings[Ic.PRESENCE].length>0,c={},d={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:l}),postgres_changes:a,private:i};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(Fc.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(Fc.CLOSED)),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",t=>ie(this,[t],function*({postgres_changes:t}){var r;if(this.socket.setAuth(),void 0!==t){const n=this.bindings.postgres_changes,s=null!==(r=null==n?void 0:n.length)&&void 0!==r?r:0,o=[];for(let r=0;r<s;r++){const s=n[r],{filter:{event:i,schema:a,table:l,filter:c}}=s,d=t&&t[r];if(!d||d.event!==i||d.schema!==a||d.table!==l||d.filter!==c)return this.unsubscribe(),this.state=dc.errored,void(null==e||e(Fc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));o.push(Object.assign(Object.assign({},s),{id:d.id}))}return this.bindings.postgres_changes=o,void(e&&e(Fc.SUBSCRIBED))}null==e||e(Fc.SUBSCRIBED)})).receive("error",t=>{this.state=dc.errored,null==e||e(Fc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(Fc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(e){return ie(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return ie(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this.state===dc.joined&&e===Ic.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}send(e){return ie(this,arguments,function*(e,t={}){var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var n,s,o;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(o=null===(s=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===s?void 0:s.broadcast)||void 0===o?void 0:o.ack)||r("ok"),i.receive("ok",()=>r("ok")),i.receive("error",()=>r("error")),i.receive("timeout",()=>r("timed out"))});{const{event:o,payload:i}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const e=yield this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return yield null===(n=e.body)||void 0===n?void 0:n.cancel(),e.ok?"ok":"error"}catch(s){return"AbortError"===s.name?"timed out":"error"}}})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=dc.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hc.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new Rc(this,hc.leave,{},e),r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null==r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dc.closed,this.bindings={}}_fetchWithTimeout(e,t,r){return ie(this,null,function*(){const n=new AbortController,s=setTimeout(()=>n.abort(),r),o=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(s),o})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Rc(this,e,t,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,s;const o=e.toLocaleLowerCase(),{close:i,error:a,leave:l,join:c}=hc;if(r&&[i,a,l,c].indexOf(o)>=0&&r!==this._joinRef())return;let d=this._onMessage(o,t,r);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter(e=>{var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===o}).map(e=>e.callback(d,r)):null===(s=this.bindings[o])||void 0===s||s.filter(e=>{var r,n,s,i,a,l;if(["broadcast","presence","postgres_changes"].includes(o)){if("id"in e){const o=e.id,i=null===(r=e.filter)||void 0===r?void 0:r.event;return o&&(null===(n=t.ids)||void 0===n?void 0:n.includes(o))&&("*"===i||(null==i?void 0:i.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{const r=null===(a=null===(i=null==e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===r||r===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===o}).map(e=>{if("object"==typeof d&&"ids"in d){const e=d.data,{schema:t,table:r,commit_timestamp:n,type:s,errors:o}=e,i={schema:t,table:r,commit_timestamp:n,eventType:s,new:{},old:{},errors:o};d=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(d,r)})}_isClosed(){return this.state===dc.closed}_isJoined(){return this.state===dc.joined}_isJoining(){return this.state===dc.joining}_isLeaving(){return this.state===dc.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const n=e.toLocaleLowerCase(),s={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(s):this.bindings[n]=[s],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&zc.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(hc.close,{},e)}_onError(e){this._on(hc.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dc.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=wc(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=wc(e.columns,e.old_record)),t}}const qc=()=>{},Wc=25e3,Bc=10,Vc=100,Hc=[1e3,2e3,5e3,1e4];class Kc{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ac,this.transport=null,this.heartbeatIntervalMs=Wc,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qc,this.ref=0,this.reconnectTimer=null,this.logger=qc,this.conn=null,this.sendBuffer=[],this.serializer=new bc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Dr(()=>ie(this,null,function*(){const{default:e}=yield Promise.resolve().then(()=>Sl);return{default:e}}),void 0).then(({default:t})=>t(...e)).catch(e=>{throw new Error(`Failed to load @supabase/node-fetch: ${e.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):fetch),(...e)=>t(...e)},!(null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${pc.websocket}`,this.httpEndpoint=Pc(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ic.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`);throw new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return ie(this,null,function*(){const t=yield e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t})}removeAllChannels(){return ie(this,null,function*(){const e=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case lc.connecting:return mc.Connecting;case lc.open:return mc.Open;case lc.closing:return mc.Closing;default:return mc.Closed}}isConnected(){return this.connectionState()===mc.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(e=>e.topic===r);if(n)return n;{const r=new zc(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:n,ref:s}=e,o=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${r} (${s})`,n),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e=null){return ie(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return ie(this,null,function*(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},Vc);this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}else this.heartbeatCallback("disconnected")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{"phoenix"===e.topic&&"phx_reply"===e.event&&this.heartbeatCallback("ok"===e.payload.status?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:r,payload:n,ref:s}=e,o=s?`(${s})`:"",i=n.status||"";this.log("receive",`${i} ${t} ${r} ${o}`.trim(),n),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(hc.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}_performAuth(e=null){return ie(this,null,function*(){let t;t=e||(this.accessToken?yield this.accessToken():this.accessTokenValue),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{const r={access_token:t,version:"realtime-js/2.15.1"};t&&e.updateJoinPayload(r),e.joinedOnce&&e._isJoined()&&e._push(hc.access_token,{access_token:t})}))})}_waitForAuthIfNeeded(){return ie(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(Ck){this.log("error",`error in ${e} callback`,Ck)}})}catch(Ck){this.log("error",`error triggering ${e} callbacks`,Ck)}}_setupReconnectionTimer(){this.reconnectTimer=new xc(()=>ie(this,null,function*(){setTimeout(()=>ie(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Bc)}),this.reconnectAfterMs)}_initializeOptions(e){var t,r,n,s,o,i,a,l;if(this.transport=null!==(t=null==e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(r=null==e?void 0:e.timeout)&&void 0!==r?r:ac,this.heartbeatIntervalMs=null!==(n=null==e?void 0:e.heartbeatIntervalMs)&&void 0!==n?n:Wc,this.worker=null!==(s=null==e?void 0:e.worker)&&void 0!==s&&s,this.accessToken=null!==(o=null==e?void 0:e.accessToken)&&void 0!==o?o:null,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(i=null==e?void 0:e.reconnectAfterMs)&&void 0!==i?i:e=>Hc[e-1]||1e4,this.encode=null!==(a=null==e?void 0:e.encode)&&void 0!==a?a:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(l=null==e?void 0:e.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}class Gc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Jc(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class Yc extends Gc{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Xc extends Gc{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Zc=function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{l(n.next(e))}catch(Ck){o(Ck)}}function a(e){try{l(n.throw(e))}catch(Ck){o(Ck)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}l((n=n.apply(e,t||[])).next())})};const Qc=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Dr(()=>ie(void 0,null,function*(){const{default:e}=yield Promise.resolve().then(()=>Sl);return{default:e}}),void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},ed=e=>{if(Array.isArray(e))return e.map(e=>ed(e));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([e,r])=>{const n=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[n]=ed(r)}),t};var td=function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{l(n.next(e))}catch(Ck){o(Ck)}}function a(e){try{l(n.throw(e))}catch(Ck){o(Ck)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}l((n=n.apply(e,t||[])).next())})};const rd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nd=(e,t,r)=>td(void 0,void 0,void 0,function*(){const n=yield Zc(void 0,void 0,void 0,function*(){return"undefined"==typeof Response?(yield Dr(()=>Promise.resolve().then(()=>Sl),void 0)).Response:Response});e instanceof n&&!(null==r?void 0:r.noResolveJson)?e.json().then(r=>{const n=e.status||500,s=(null==r?void 0:r.statusCode)||n+"";t(new Yc(rd(r),n,s))}).catch(e=>{t(new Xc(rd(e),e))}):t(new Xc(rd(e),e))}),sd=(e,t,r,n)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&n?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(n)?(s.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,(null==t?void 0:t.duplex)&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r)):s};function od(e,t,r,n,s,o){return td(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(r,sd(t,n,s,o)).then(e=>{if(!e.ok)throw e;return(null==n?void 0:n.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>nd(e,a,n))})})}function id(e,t,r,n){return td(this,void 0,void 0,function*(){return od(e,"GET",t,r,n)})}function ad(e,t,r,n,s){return td(this,void 0,void 0,function*(){return od(e,"POST",t,n,s,r)})}function ld(e,t,r,n,s){return td(this,void 0,void 0,function*(){return od(e,"PUT",t,n,s,r)})}function cd(e,t,r,n,s){return td(this,void 0,void 0,function*(){return od(e,"DELETE",t,n,s,r)})}var dd=function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{l(n.next(e))}catch(Ck){o(Ck)}}function a(e){try{l(n.throw(e))}catch(Ck){o(Ck)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}l((n=n.apply(e,t||[])).next())})};const ud={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fd{constructor(e,t={},r,n){this.url=e,this.headers=t,this.bucketId=r,this.fetch=Qc(n)}uploadOrUpdate(e,t,r,n){return dd(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},hd),n);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(o.upsert)});const a=o.metadata;"undefined"!=typeof Blob&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a)),s.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a))):(s=r,i["cache-control"]=`max-age=${o.cacheControl}`,i["content-type"]=o.contentType,a&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),(null==n?void 0:n.headers)&&(i=Object.assign(Object.assign({},i),n.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),d=yield("PUT"==e?ld:ad)(this.fetch,`${this.url}/object/${c}`,s,Object.assign({headers:i},(null==o?void 0:o.duplex)?{duplex:o.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(Jc(s))return{data:null,error:s};throw s}})}upload(e,t,r){return dd(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,n){return dd(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),i=new URL(this.url+`/object/upload/sign/${o}`);i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:hd.upsert},n),o=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,o["cache-control"]=`max-age=${t.cacheControl}`,o["content-type"]=t.contentType);return{data:{path:s,fullPath:(yield ld(this.fetch,i.toString(),e,{headers:o})).Key},error:null}}catch(a){if(Jc(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,t){return dd(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(n["x-upsert"]="true");const s=yield ad(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+s.url),i=o.searchParams.get("token");if(!i)throw new Gc("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:i},error:null}}catch(r){if(Jc(r))return{data:null,error:r};throw r}})}update(e,t,r){return dd(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return dd(this,void 0,void 0,function*(){try{return{data:yield ad(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(Jc(n))return{data:null,error:n};throw n}})}copy(e,t,r){return dd(this,void 0,void 0,function*(){try{return{data:{path:(yield ad(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(Jc(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,r){return dd(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),s=yield ad(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const o=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(n){if(Jc(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,r){return dd(this,void 0,void 0,function*(){try{const n=yield ad(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:n.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${s}`):null})),error:null}}catch(n){if(Jc(n))return{data:null,error:n};throw n}})}download(e,t){return dd(this,void 0,void 0,function*(){const r=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),s=n?`?${n}`:"";try{const t=this._getFinalPath(e),n=yield id(this.fetch,`${this.url}/${r}/${t}${s}`,{headers:this.headers,noResolveJson:!0});return{data:yield n.blob(),error:null}}catch(o){if(Jc(o))return{data:null,error:o};throw o}})}info(e){return dd(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield id(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:ed(e),error:null}}catch(r){if(Jc(r))return{data:null,error:r};throw r}})}exists(e){return dd(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,n){return td(this,void 0,void 0,function*(){return od(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Jc(r)&&r instanceof Xc){const e=r.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==s&&n.push(s);const o=void 0!==(null==t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==i&&n.push(i);let a=n.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${a}`)}}}remove(e){return dd(this,void 0,void 0,function*(){try{return{data:yield cd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Jc(t))return{data:null,error:t};throw t}})}list(e,t,r){return dd(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},ud),t),{prefix:e||""});return{data:yield ad(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Jc(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const pd={"X-Client-Info":"storage-js/2.10.5"};var md=function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{l(n.next(e))}catch(Ck){o(Ck)}}function a(e){try{l(n.throw(e))}catch(Ck){o(Ck)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}l((n=n.apply(e,t||[])).next())})};class gd{constructor(e,t={},r,n){const s=new URL(e);if(null==n?void 0:n.useNewHostname){/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."))}this.url=s.href,this.headers=Object.assign(Object.assign({},pd),t),this.fetch=Qc(r)}listBuckets(){return md(this,void 0,void 0,function*(){try{return{data:yield id(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Jc(e))return{data:null,error:e};throw e}})}getBucket(e){return md(this,void 0,void 0,function*(){try{return{data:yield id(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Jc(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return md(this,void 0,void 0,function*(){try{return{data:yield ad(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Jc(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return md(this,void 0,void 0,function*(){try{return{data:yield ld(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Jc(r))return{data:null,error:r};throw r}})}emptyBucket(e){return md(this,void 0,void 0,function*(){try{return{data:yield ad(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Jc(t))return{data:null,error:t};throw t}})}deleteBucket(e){return md(this,void 0,void 0,function*(){try{return{data:yield cd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Jc(t))return{data:null,error:t};throw t}})}}class yd extends gd{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new fd(this.url,this.headers,e,this.fetch)}}let vd="";vd="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const bd={headers:{"X-Client-Info":`supabase-js-${vd}/2.55.0`}},xd={schema:"public"},wd={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_d={};var jd=function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{l(n.next(e))}catch(Ck){o(Ck)}}function a(e){try{l(n.throw(e))}catch(Ck){o(Ck)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}l((n=n.apply(e,t||[])).next())})};const Sd=(e,t,r)=>{const n=(e=>{let t;return t=e||("undefined"==typeof fetch?xl:fetch),(...e)=>t(...e)})(r),s="undefined"==typeof Headers?wl:Headers;return(r,o)=>jd(void 0,void 0,void 0,function*(){var i;const a=null!==(i=yield t())&&void 0!==i?i:e;let l=new s(null==o?void 0:o.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${a}`),n(r,Object.assign(Object.assign({},o),{headers:l}))})};var kd=function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{l(n.next(e))}catch(Ck){o(Ck)}}function a(e){try{l(n.throw(e))}catch(Ck){o(Ck)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}l((n=n.apply(e,t||[])).next())})};const Ed="2.71.1",Nd=3e4,Cd=9e4,Td={"X-Client-Info":`gotrue-js/${Ed}`},Pd="X-Supabase-Api-Version",Rd={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Ad=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Od extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Dd(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class Md extends Od{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class Id extends Od{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ld extends Od{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class Fd extends Ld{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Ud extends Ld{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $d extends Ld{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class zd extends Ld{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qd extends Ld{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wd extends Ld{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Bd(e){return Dd(e)&&"AuthRetryableFetchError"===e.name}class Vd extends Ld{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Hd extends Ld{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Kd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gd=" \t\n\r=".split(""),Jd=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Gd.length;t+=1)e[Gd[t].charCodeAt(0)]=-2;for(let t=0;t<Kd.length;t+=1)e[Kd[t].charCodeAt(0)]=t;return e})();function Yd(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Kd[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Kd[e]),t.queuedBits-=6}}function Xd(e,t,r){const n=Jd[e];if(!(n>-1)){if(-2===n)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Zd(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let i=0;i<e.length;i+=1)Xd(e.charCodeAt(i),s,o);return t.join("")}function Qd(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function eu(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let s=0;s<e.length;s+=1)Xd(e.charCodeAt(s),r,n);return new Uint8Array(t)}function tu(e){const t=[];return function(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const t=1024*(n-55296)&65535;n=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}Qd(n,t)}}(e,e=>t.push(e)),new Uint8Array(t)}function ru(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};return e.forEach(e=>Yd(e,r,n)),Yd(null,r,n),t.join("")}const nu=()=>"undefined"!=typeof window&&"undefined"!=typeof document,su={tested:!1,writable:!1},ou=()=>{if(!nu())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(Ck){return!1}if(su.tested)return su.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),su.tested=!0,su.writable=!0}catch(Ck){su.tested=!0,su.writable=!1}return su.writable};const iu=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Dr(()=>ie(void 0,null,function*(){const{default:e}=yield Promise.resolve().then(()=>Sl);return{default:e}}),void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},au=(e,t,r)=>ie(void 0,null,function*(){yield e.setItem(t,JSON.stringify(r))}),lu=(e,t)=>ie(void 0,null,function*(){const r=yield e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}}),cu=(e,t)=>ie(void 0,null,function*(){yield e.removeItem(t)});class du{constructor(){this.promise=new du.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function uu(e){const t=e.split(".");if(3!==t.length)throw new Hd("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Ad.test(t[r]))throw new Hd("JWT not in base64url format");return{header:JSON.parse(Zd(t[0])),payload:JSON.parse(Zd(t[1])),signature:eu(t[2]),raw:{header:t[0],payload:t[1]}}}function hu(e){return("0"+e.toString(16)).substr(-2)}function fu(e){return ie(this,null,function*(){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return e;const t=yield function(e){return ie(this,null,function*(){const t=(new TextEncoder).encode(e),r=yield crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(e=>String.fromCharCode(e)).join("")})}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function pu(e,t,r=!1){return ie(this,null,function*(){const n=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,hu).join("")}();let s=n;r&&(s+="/PASSWORD_RECOVERY"),yield au(e,`${t}-code-verifier`,s);const o=yield fu(n);return[o,n===o?"plain":"s256"]})}du.promiseConstructor=Promise;const mu=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const gu=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yu(e){if(!gu.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vu(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bu(e){return JSON.parse(JSON.stringify(e))}const xu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wu=[502,503,504];function _u(e){return ie(this,null,function*(){var t,r;if(!("object"==typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"==typeof r.json))throw new Wd(xu(e),0);if(wu.includes(e.status))throw new Wd(xu(e),e.status);let n,s;try{n=yield e.json()}catch(Ck){throw new Id(xu(Ck),Ck)}const o=function(e){const t=e.headers.get(Pd);if(!t)return null;if(!t.match(mu))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(Ck){return null}}(e);if(o&&o.getTime()>=Rd.timestamp&&"object"==typeof n&&n&&"string"==typeof n.code?s=n.code:"object"==typeof n&&n&&"string"==typeof n.error_code&&(s=n.error_code),s){if("weak_password"===s)throw new Vd(xu(n),e.status,(null===(t=n.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===s)throw new Fd}else if("object"==typeof n&&n&&"object"==typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new Vd(xu(n),e.status,n.weak_password.reasons);throw new Md(xu(n),e.status||500,s)})}function ju(e,t,r,n){return ie(this,null,function*(){var s;const o=Object.assign({},null==n?void 0:n.headers);o[Pd]||(o[Pd]=Rd.name),(null==n?void 0:n.jwt)&&(o.Authorization=`Bearer ${n.jwt}`);const i=null!==(s=null==n?void 0:n.query)&&void 0!==s?s:{};(null==n?void 0:n.redirectTo)&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=yield function(e,t,r,n,s,o){return ie(this,null,function*(){const i=((e,t,r,n)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))})(t,n,s,o);let a;try{a=yield e(r,Object.assign({},i))}catch(Ck){throw new Wd(xu(Ck),0)}if(a.ok||(yield _u(a)),null==n?void 0:n.noResolveJson)return a;try{return yield a.json()}catch(Ck){yield _u(Ck)}})}(e,t,r+a,{headers:o,noResolveJson:null==n?void 0:n.noResolveJson},{},null==n?void 0:n.body);return(null==n?void 0:n.xform)?null==n?void 0:n.xform(l):{data:Object.assign({},l),error:null}})}function Su(e){var t;let r=null;var n;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ku(e){const t=Su(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Eu(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Nu(e){return{data:e,error:null}}function Cu(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r}(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},user:Object.assign({},i)},error:null}}function Tu(e){return e}const Pu=["global","local","others"];class Ru{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=iu(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e){return ie(this,arguments,function*(e,t=Pu[0]){if(Pu.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pu.join(", ")}`);try{return yield ju(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Dd(r))return{data:null,error:r};throw r}})}inviteUserByEmail(e){return ie(this,arguments,function*(e,t={}){try{return yield ju(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Eu})}catch(r){if(Dd(r))return{data:{user:null},error:r};throw r}})}generateLink(e){return ie(this,null,function*(){try{const{options:t}=e,r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r}(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null==r?void 0:r.newEmail,delete n.newEmail),yield ju(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Cu,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(Dd(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return ie(this,null,function*(){try{return yield ju(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Eu})}catch(t){if(Dd(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return ie(this,null,function*(){var t,r,n,s,o,i,a;try{const l={nextPage:null,lastPage:0,total:0},c=yield ju(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(s=null===(n=null==e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==s?s:""},xform:Tu});if(c.error)throw c.error;const d=yield c.json(),u=null!==(o=c.headers.get("x-total-count"))&&void 0!==o?o:0,h=null!==(a=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==a?a:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Dd(l))return{data:{users:[]},error:l};throw l}})}getUserById(e){return ie(this,null,function*(){yu(e);try{return yield ju(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Eu})}catch(t){if(Dd(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return ie(this,null,function*(){yu(e);try{return yield ju(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Eu})}catch(r){if(Dd(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,t=!1){return ie(this,null,function*(){yu(e);try{return yield ju(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Eu})}catch(r){if(Dd(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return ie(this,null,function*(){yu(e.userId);try{const{data:t,error:r}=yield ju(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(Dd(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return ie(this,null,function*(){yu(e.userId),yu(e.id);try{return{data:yield ju(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Dd(t))return{data:null,error:t};throw t}})}}function Au(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ou=!!(globalThis&&ou()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Du extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Mu extends Du{}function Iu(e,t,r){return ie(this,null,function*(){const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort()},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},n=>ie(this,null,function*(){if(!n){if(0===t)throw new Mu(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ou)try{yield globalThis.navigator.locks.query()}catch(Ck){}return yield r()}try{return yield r()}finally{}})))})}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Ck){"undefined"!=typeof self&&(self.globalThis=self)}}();const Lu={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Td,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function Fu(e,t,r){return ie(this,null,function*(){return yield r()})}const Uu={};class $u{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$u.nextInstanceID,$u.nextInstanceID+=1,this.instanceID>0&&nu();const n=Object.assign(Object.assign({},Lu),e);if(this.logDebugMessages=!!n.debug,"function"==typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Ru({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=iu(n.fetch),this.lock=n.lock||Fu,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:nu()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Iu:this.lock=Fu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:ou()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Au(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=Au(this.memoryStorage)),nu()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Ck){}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",e=>ie(this,null,function*(){this._debug("received broadcast notification from other tab or client",e),yield this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=Uu[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Uu[this.storageKey]=Object.assign(Object.assign({},Uu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Uu[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Uu[this.storageKey]=Object.assign(Object.assign({},Uu[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ed}) ${(new Date).toISOString()}`,...e),this}initialize(){return ie(this,null,function*(){return this.initializePromise||(this.initializePromise=(()=>ie(this,null,function*(){return yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._initialize()}))}))()),yield this.initializePromise})}_initialize(){return ie(this,null,function*(){var e;try{const t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(Ck){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":(yield this._isPKCECallback(t))&&(r="pkce"),nu()&&this.detectSessionInUrl&&"none"!==r){const{data:n,error:s}=yield this._getSessionFromURL(t,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),function(e){return Dd(e)&&"AuthImplicitGrantRedirectError"===e.name}(s)){const t=null===(e=s.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:s}}return yield this._removeSession(),{error:s}}const{session:o,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",i),yield this._saveSession(o),setTimeout(()=>ie(this,null,function*(){"recovery"===i?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",o):yield this._notifyAllSubscribers("SIGNED_IN",o)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return Dd(t)?{error:t}:{error:new Id("Unexpected error during initialization",t)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return ie(this,null,function*(){var t,r,n;try{const s=yield ju(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:Su}),{data:o,error:i}=s;if(i||!o)return{data:{user:null,session:null},error:i};const a=o.session,l=o.user;return o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(s){if(Dd(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(e){return ie(this,null,function*(){var t,r,n;try{let s;if("email"in e){const{email:r,password:n,options:o}=e;let i=null,a=null;"pkce"===this.flowType&&([i,a]=yield pu(this.storage,this.storageKey)),s=yield ju(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==o?void 0:o.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null==o?void 0:o.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken},code_challenge:i,code_challenge_method:a},xform:Su})}else{if(!("phone"in e))throw new $d("You must provide either an email or phone number and a password");{const{phone:t,password:o,options:i}=e;s=yield ju(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:o,data:null!==(r=null==i?void 0:i.data)&&void 0!==r?r:{},channel:null!==(n=null==i?void 0:i.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:Su})}}const{data:o,error:i}=s;if(i||!o)return{data:{user:null,session:null},error:i};const a=o.session,l=o.user;return o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(s){if(Dd(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(e){return ie(this,null,function*(){try{let t;if("email"in e){const{email:r,password:n,options:s}=e;t=yield ju(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:ku})}else{if(!("phone"in e))throw new $d("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:s}=e;t=yield ju(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:ku})}}const{data:r,error:n}=t;return n?{data:{user:null,session:null},error:n}:r&&r.session&&r.user?(r.session&&(yield this._saveSession(r.session),yield this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n}):{data:{user:null,session:null},error:new Ud}}catch(t){if(Dd(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOAuth(e){return ie(this,null,function*(){var t,r,n,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return ie(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>ie(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return ie(this,null,function*(){const{chain:t}=e;if("solana"===t)return yield this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)})}signInWithSolana(e){return ie(this,null,function*(){var t,r,n,s,o,i,a,l,c,d,u,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:u,wallet:h,statement:m,options:g}=e;let y;if(nu())if("object"==typeof h)y=h;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");y=e.solana}else{if("object"!=typeof h||!(null==g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=h}const v=new URL(null!==(t=null==g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in y&&y.signIn){const e=yield y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==g?void 0:g.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in y&&"function"==typeof y.signMessage&&"publicKey"in y&&"object"==typeof y&&y.publicKey&&"toBase58"in y.publicKey&&"function"==typeof y.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${v.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${v.href}`,`Issued At: ${null!==(n=null===(r=null==g?void 0:g.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==n?n:(new Date).toISOString()}`,...(null===(s=null==g?void 0:g.signInWithSolana)||void 0===s?void 0:s.notBefore)?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...(null===(o=null==g?void 0:g.signInWithSolana)||void 0===o?void 0:o.expirationTime)?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...(null===(i=null==g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...(null===(a=null==g?void 0:g.signInWithSolana)||void 0===a?void 0:a.nonce)?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...(null===(l=null==g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...(null===(d=null===(c=null==g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===d?void 0:d.length)?["Resources",...g.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=yield y.signMessage((new TextEncoder).encode(f),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:r}=yield ju(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:ru(p)},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Su});if(r)throw r;return t&&t.session&&t.user?(t.session&&(yield this._saveSession(t.session),yield this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:r}):{data:{user:null,session:null},error:new Ud}}catch(m){if(Dd(m))return{data:{user:null,session:null},error:m};throw m}})}_exchangeCodeForSession(e){return ie(this,null,function*(){const t=yield lu(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(null!=t?t:"").split("/");try{const{data:t,error:s}=yield ju(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Su});if(yield cu(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return t&&t.session&&t.user?(t.session&&(yield this._saveSession(t.session),yield this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=n?n:null}),error:s}):{data:{user:null,session:null,redirectType:null},error:new Ud}}catch(s){if(Dd(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(e){return ie(this,null,function*(){try{const{options:t,provider:r,token:n,access_token:s,nonce:o}=e,i=yield ju(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:Su}),{data:a,error:l}=i;return l?{data:{user:null,session:null},error:l}:a&&a.session&&a.user?(a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:l}):{data:{user:null,session:null},error:new Ud}}catch(t){if(Dd(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOtp(e){return ie(this,null,function*(){var t,r,n,s,o;try{if("email"in e){const{email:n,options:s}=e;let o=null,i=null;"pkce"===this.flowType&&([o,i]=yield pu(this.storage,this.storageKey));const{error:a}=yield ju(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:n,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(r=null==s?void 0:s.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:o,code_challenge_method:i},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:t,options:r}=e,{data:i,error:a}=yield ju(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(n=null==r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(s=null==r?void 0:r.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(o=null==r?void 0:r.channel)&&void 0!==o?o:"sms"}});return{data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:a}}throw new $d("You must provide either an email or phone number.")}catch(i){if(Dd(i))return{data:{user:null,session:null},error:i};throw i}})}verifyOtp(e){return ie(this,null,function*(){var t,r;try{let n,s;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:o,error:i}=yield ju(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:n,xform:Su});if(i)throw i;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,l=o.user;return(null==a?void 0:a.access_token)&&(yield this._saveSession(a),yield this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(n){if(Dd(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithSSO(e){return ie(this,null,function*(){var t,r,n;try{let s=null,o=null;return"pkce"===this.flowType&&([s,o]=yield pu(this.storage,this.storageKey)),yield ju(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Nu})}catch(s){if(Dd(s))return{data:null,error:s};throw s}})}reauthenticate(){return ie(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return ie(this,null,function*(){try{return yield this._useSession(e=>ie(this,null,function*(){const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Fd;const{error:n}=yield ju(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}}))}catch(e){if(Dd(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return ie(this,null,function*(){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:s}=e,{error:o}=yield ju(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:r,type:n,options:s}=e,{data:o,error:i}=yield ju(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:i}}throw new $d("You must provide either an email or phone number and a type")}catch(t){if(Dd(t))return{data:{user:null,session:null},error:t};throw t}})}getSession(){return ie(this,null,function*(){yield this.initializePromise;return yield this._acquireLock(-1,()=>ie(this,null,function*(){return this._useSession(e=>ie(this,null,function*(){return e}))}))})}_acquireLock(e,t){return ie(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(()=>ie(this,null,function*(){return yield e,yield t()}))();return this.pendingInLock.push((()=>ie(this,null,function*(){try{yield r}catch(Ck){}}))()),r}return yield this.lock(`lock:${this.storageKey}`,e,()=>ie(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((()=>ie(this,null,function*(){try{yield e}catch(Ck){}}))()),yield e;this.pendingInLock.length;){const e=[...this.pendingInLock];yield Promise.all(e),this.pendingInLock.splice(0,e.length)}return yield e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return ie(this,null,function*(){this._debug("#_useSession","begin");try{const t=yield this.__loadSession();return yield e(t)}finally{this._debug("#_useSession","end")}})}__loadSession(){return ie(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=yield lu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<Cd;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const t=yield lu(this.userStorage,this.storageKey+"-user");(null==t?void 0:t.user)?e.user=t.user:e.user=vu()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,n)=>(t||"user"!==r||(t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,n))})}return{data:{session:e},error:null}}const{session:n,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return ie(this,null,function*(){if(e)return yield this._getUser(e);yield this.initializePromise;return yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._getUser()}))})}_getUser(e){return ie(this,null,function*(){try{return e?yield ju(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Eu}):yield this._useSession(e=>ie(this,null,function*(){var t,r,n;const{data:s,error:o}=e;if(o)throw o;return(null===(t=s.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?yield ju(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(n=null===(r=s.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:Eu}):{data:{user:null},error:new Fd}}))}catch(t){if(Dd(t))return function(e){return Dd(e)&&"AuthSessionMissingError"===e.name}(t)&&(yield this._removeSession(),yield cu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}})}updateUser(e){return ie(this,arguments,function*(e,t={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._updateUser(e,t)}))})}_updateUser(e){return ie(this,arguments,function*(e,t={}){try{return yield this._useSession(r=>ie(this,null,function*(){const{data:n,error:s}=r;if(s)throw s;if(!n.session)throw new Fd;const o=n.session;let i=null,a=null;"pkce"===this.flowType&&null!=e.email&&([i,a]=yield pu(this.storage,this.storageKey));const{data:l,error:c}=yield ju(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:a}),jwt:o.access_token,xform:Eu});if(c)throw c;return o.user=l.user,yield this._saveSession(o),yield this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}}))}catch(r){if(Dd(r))return{data:{user:null},error:r};throw r}})}setSession(e){return ie(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return ie(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new Fd;const t=Date.now()/1e3;let r=t,n=!0,s=null;const{payload:o}=uu(e.access_token);if(o.exp&&(r=o.exp,n=r<=t),n){const{session:t,error:r}=yield this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};s=t}else{const{data:n,error:o}=yield this._getUser(e.access_token);if(o)throw o;s={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(Dd(t))return{data:{session:null,user:null},error:t};throw t}})}refreshSession(e){return ie(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return ie(this,null,function*(){try{return yield this._useSession(t=>ie(this,null,function*(){var r;if(!e){const{data:n,error:s}=t;if(s)throw s;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new Fd;const{session:n,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(Dd(t))return{data:{user:null,session:null},error:t};throw t}})}_getSessionFromURL(e,t){return ie(this,null,function*(){try{if(!nu())throw new zd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new zd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new qd("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new zd("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new qd("No code detected.");const{data:t,error:r}=yield this._exchangeCodeForSession(e.code);if(r)throw r;const n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:s,refresh_token:o,expires_in:i,expires_at:a,token_type:l}=e;if(!(s&&i&&o&&l))throw new zd("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(i);let u=c+d;a&&(u=parseInt(a));const{data:h,error:f}=yield this._getUser(s);if(f)throw f;const p={provider_token:r,provider_refresh_token:n,access_token:s,expires_in:d,expires_at:u,refresh_token:o,token_type:l,user:h.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(r){if(Dd(r))return{data:{session:null,redirectType:null},error:r};throw r}})}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}_isPKCECallback(e){return ie(this,null,function*(){const t=yield lu(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)})}signOut(){return ie(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return ie(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(t=>ie(this,null,function*(){var r;const{data:n,error:s}=t;if(s)return{error:s};const o=null===(r=n.session)||void 0===r?void 0:r.access_token;if(o){const{error:t}=yield this.admin.signOut(o,e);if(t&&(!function(e){return Dd(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(yield this._removeSession(),yield cu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(()=>{ie(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){this._emitInitialSession(t)}))})})(),{data:{subscription:r}}}_emitInitialSession(e){return ie(this,null,function*(){return yield this._useSession(t=>ie(this,null,function*(){var r,n;try{const{data:{session:n},error:s}=t;if(s)throw s;yield null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(s){yield null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s)}}))})}resetPasswordForEmail(e){return ie(this,arguments,function*(e,t={}){let r=null,n=null;"pkce"===this.flowType&&([r,n]=yield pu(this.storage,this.storageKey,!0));try{return yield ju(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(Dd(s))return{data:null,error:s};throw s}})}getUserIdentities(){return ie(this,null,function*(){var e;try{const{data:t,error:r}=yield this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(Dd(t))return{data:null,error:t};throw t}})}linkIdentity(e){return ie(this,null,function*(){var t;try{const{data:r,error:n}=yield this._useSession(t=>ie(this,null,function*(){var r,n,s,o,i;const{data:a,error:l}=t;if(l)throw l;const c=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:!0});return yield ju(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(o=a.session)||void 0===o?void 0:o.access_token)&&void 0!==i?i:void 0})}));if(n)throw n;return nu()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==r?void 0:r.url),{data:{provider:e.provider,url:null==r?void 0:r.url},error:null}}catch(r){if(Dd(r))return{data:{provider:e.provider,url:null},error:r};throw r}})}unlinkIdentity(e){return ie(this,null,function*(){try{return yield this._useSession(t=>ie(this,null,function*(){var r,n;const{data:s,error:o}=t;if(o)throw o;return yield ju(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(n=null===(r=s.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})}))}catch(t){if(Dd(t))return{data:null,error:t};throw t}})}_refreshAccessToken(e){return ie(this,null,function*(){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return yield function(e,t){return new Promise((r,n)=>{(()=>{ie(this,null,function*(){for(let s=0;s<1/0;s++)try{const n=yield e(s);if(!t(s,null,n))return void r(n)}catch(Ck){if(!t(s,Ck))return void n(Ck)}})})()})}(r=>ie(this,null,function*(){return r>0&&(yield function(e){return ie(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})}(200*Math.pow(2,r-1))),this._debug(t,"refreshing attempt",r),yield ju(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Su})}),(e,t)=>{const n=200*Math.pow(2,e);return t&&Bd(t)&&Date.now()+n-r<Nd})}catch(r){if(this._debug(t,"error",r),Dd(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}})}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t){return ie(this,null,function*(){const r=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),nu()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}})}_recoverAndRefresh(){return ie(this,null,function*(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=yield lu(this.storage,this.storageKey);if(s&&this.userStorage){let t=yield lu(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:s.user},yield au(this.userStorage,this.storageKey+"-user",t)),s.user=null!==(e=null==t?void 0:t.user)&&void 0!==e?e:vu()}else if(s&&!s.user&&!s.user){const e=yield lu(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(s.user=e.user,yield cu(this.storage,this.storageKey+"-user"),yield au(this.storage,this.storageKey,s)):s.user=vu()}if(this._debug(r,"session from storage",s),!this._isValidSession(s))return this._debug(r,"session is not valid"),void(null!==s&&(yield this._removeSession()));const o=1e3*(null!==(t=s.expires_at)&&void 0!==t?t:1/0)-Date.now()<Cd;if(this._debug(r,`session has${o?"":" not"} expired with margin of 90000s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:e}=yield this._callRefreshToken(s.refresh_token);e&&(Bd(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),yield this._removeSession()))}}else if(s.user&&!0===s.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=yield this._getUser(s.access_token);!t&&(null==e?void 0:e.user)?(s.user=e.user,yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(n){this._debug(r,"error getting user data, skipping SIGNED_IN notification",n)}else yield this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return void this._debug(r,"error",s)}finally{this._debug(r,"end")}})}_callRefreshToken(e){return ie(this,null,function*(){var t,r;if(!e)throw new Fd;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new du;const{data:t,error:r}=yield this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new Fd;yield this._saveSession(t.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const n={session:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(s){if(this._debug(n,"error",s),Dd(s)){const e={session:null,error:s};return Bd(s)||(yield this._removeSession()),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(n,"end")}})}_notifyAllSubscribers(e,t,r=!0){return ie(this,null,function*(){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],s=Array.from(this.stateChangeEmitters.values()).map(r=>ie(this,null,function*(){try{yield r.callback(e,t)}catch(Ck){n.push(Ck)}}));if(yield Promise.all(s),n.length>0){for(let e=0;e<n.length;e+=1);throw n[0]}}finally{this._debug(n,"end")}})}_saveSession(e){return ie(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&(yield au(this.userStorage,this.storageKey+"-user",{user:t.user}));const e=Object.assign({},t);delete e.user;const n=bu(e);yield au(this.storage,this.storageKey,n)}else{const e=bu(t);yield au(this.storage,this.storageKey,e)}})}_removeSession(){return ie(this,null,function*(){this._debug("#_removeSession()"),yield cu(this.storage,this.storageKey),yield cu(this.storage,this.storageKey+"-code-verifier"),yield cu(this.storage,this.storageKey+"-user"),this.userStorage&&(yield cu(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&nu()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Ck){}}_startAutoRefresh(){return ie(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Nd);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(()=>ie(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return ie(this,null,function*(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return ie(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return ie(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return ie(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>ie(this,null,function*(){try{const e=Date.now();try{return yield this._useSession(t=>ie(this,null,function*(){const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-e)/Nd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),n<=3&&(yield this._callRefreshToken(r.refresh_token))}))}catch(Ck){}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(Ck){if(!(Ck.isAcquireTimeout||Ck instanceof Du))throw Ck;this._debug("auto refresh token tick lock not available")}})}_handleVisibilityChange(){return ie(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!nu()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>ie(this,null,function*(){return yield this._onVisibilityChanged(!1)}),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){}})}_onVisibilityChanged(e){return ie(this,null,function*(){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){"visible"===document.visibilityState?yield this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,t,r){return ie(this,null,function*(){const n=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const[e,t]=yield pu(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});n.push(r.toString())}if(null==r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`})}_unenroll(e){return ie(this,null,function*(){try{return yield this._useSession(t=>ie(this,null,function*(){var r;const{data:n,error:s}=t;return s?{data:null,error:s}:yield ju(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})}))}catch(t){if(Dd(t))return{data:null,error:t};throw t}})}_enroll(e){return ie(this,null,function*(){try{return yield this._useSession(t=>ie(this,null,function*(){var r,n;const{data:s,error:o}=t;if(o)return{data:null,error:o};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:l}=yield ju(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(n=null==a?void 0:a.totp)||void 0===n?void 0:n.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})}))}catch(t){if(Dd(t))return{data:null,error:t};throw t}})}_verify(e){return ie(this,null,function*(){return this._acquireLock(-1,()=>ie(this,null,function*(){try{return yield this._useSession(t=>ie(this,null,function*(){var r;const{data:n,error:s}=t;if(s)return{data:null,error:s};const{data:o,error:i}=yield ju(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token});return i?{data:null,error:i}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:i})}))}catch(t){if(Dd(t))return{data:null,error:t};throw t}}))})}_challenge(e){return ie(this,null,function*(){return this._acquireLock(-1,()=>ie(this,null,function*(){try{return yield this._useSession(t=>ie(this,null,function*(){var r;const{data:n,error:s}=t;return s?{data:null,error:s}:yield ju(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})}))}catch(t){if(Dd(t))return{data:null,error:t};throw t}}))})}_challengeAndVerify(e){return ie(this,null,function*(){const{data:t,error:r}=yield this._challenge({factorId:e.factorId});return r?{data:null,error:r}:yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return ie(this,null,function*(){const{data:{user:e},error:t}=yield this.getUser();if(t)return{data:null,error:t};const r=(null==e?void 0:e.factors)||[],n=r.filter(e=>"totp"===e.factor_type&&"verified"===e.status),s=r.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:r,totp:n,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return ie(this,null,function*(){return this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._useSession(e=>ie(this,null,function*(){var t,r;const{data:{session:n},error:s}=e;if(s)return{data:null,error:s};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=uu(n.access_token);let i=null;o.aal&&(i=o.aal);let a=i;(null!==(r=null===(t=n.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==r?r:[]).length>0&&(a="aal2");return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:o.amr||[]},error:null}}))}))})}fetchJwk(e){return ie(this,arguments,function*(e,t={keys:[]}){let r=t.keys.find(t=>t.kid===e);if(r)return r;const n=Date.now();if(r=this.jwks.keys.find(t=>t.kid===e),r&&this.jwks_cached_at+6e5>n)return r;const{data:s,error:o}=yield ju(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return s.keys&&0!==s.keys.length?(this.jwks=s,this.jwks_cached_at=n,r=s.keys.find(t=>t.kid===e),r||null):null})}getClaims(e){return ie(this,arguments,function*(e,t={}){try{let r=e;if(!r){const{data:e,error:t}=yield this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}const{header:n,payload:s,signature:o,raw:{header:i,payload:a}}=uu(r);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(s.exp);const l=n.alg&&!n.alg.startsWith("HS")&&n.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield this.fetchJwk(n.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks):null;if(!l){const{error:e}=yield this.getUser(r);if(e)throw e;return{data:{claims:s,header:n,signature:o},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(n.alg),d=yield crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!(yield crypto.subtle.verify(c,d,o,tu(`${i}.${a}`))))throw new Hd("Invalid JWT signature");return{data:{claims:s,header:n,signature:o},error:null}}catch(r){if(Dd(r))return{data:null,error:r};throw r}})}}$u.nextInstanceID=0;const zu=$u;class qu extends zu{constructor(e){super(e)}}var Wu=function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{l(n.next(e))}catch(Ck){o(Ck)}}function a(e){try{l(n.throw(e))}catch(Ck){o(Ck)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}l((n=n.apply(e,t||[])).next())})};class Bu{constructor(e,t,r){var n,s,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=(a=e).endsWith("/")?a:a+"/";var a;const l=new URL(i);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d=function(e,t){var r,n;const{db:s,auth:o,realtime:i,global:a}=e,{db:l,auth:c,realtime:d,global:u}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},u),a),{headers:Object.assign(Object.assign({},null!==(r=null==u?void 0:u.headers)&&void 0!==r?r:{}),null!==(n=null==a?void 0:a.headers)&&void 0!==n?n:{})}),accessToken:()=>kd(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!=r?r:{},{db:xd,realtime:_d,auth:Object.assign(Object.assign({},wd),{storageKey:c}),global:bd});this.storageKey=null!==(n=d.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(s=d.global.headers)&&void 0!==s?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(o=d.auth)&&void 0!==o?o:{},this.headers,d.global.fetch),this.fetch=Sd(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new ec(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new yd(this.storageUrl.href,this.headers,this.fetch,null==r?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new ul(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Wu(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,storageKey:s,flowType:o,lock:i,debug:a},l,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qu({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),l),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,flowType:o,lock:i,debug:a,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Kc(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}const Vu=(e,t,r)=>new Bu(e,t,r);!function(){if("undefined"!=typeof window)return!1;if("undefined"==typeof process)return!1;const e=process.version;if(null==e)return!1;const t=e.match(/^v(\d+)\./);!!t&&parseInt(t[1],10)}();const Hu=Vu("https://wunqntfreyezylvbzvxc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1bnFudGZyZXllenlsdmJ6dnhjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc3NDE4MDIsImV4cCI6MjA2MzMxNzgwMn0.FxcZ536nAZ4oxDD8RWHcGeAqwQtbvECxtYGElqd9tYOL0hW3rH6Wbj3hb7qZNHC5ep1RZ2TTwAjCUY70khk5uA",{db:{schema:"public"},auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"x-monza-app":"monza-tech-ui"}}}),Ku=Object.freeze(Object.defineProperty({__proto__:null,supabase:Hu},Symbol.toStringTag,{value:"Module"})),Gu=class e{constructor(){Q(this,"ipApiCache",new Map),Q(this,"ipApiKey")}static getInstance(){return e.instance||(e.instance=new e),e.instance}getCurrentIP(){return ie(this,null,function*(){try{const t=["https://api.ipify.org?format=json","https://ipapi.co/json/","https://ip-api.com/json/"];for(const r of t)try{const e=yield fetch(r),t=yield e.json(),n=t.ip||t.query||t.ipAddress;if(n&&this.isValidIP(n))return n}catch(e){continue}throw new Error("All IP detection services failed")}catch(e){return"unknown"}})}getLocationFromIP(e){return ie(this,null,function*(){if("unknown"===e||!this.isValidIP(e))return{};if(this.ipApiCache.has(e))return this.ipApiCache.get(e);try{const t=`http://ip-api.com/json/${e}?fields=status,message,country,regionName,city,lat,lon,timezone,isp,query`,r=yield fetch(t),n=yield r.json();if("success"===n.status){const t={country:n.country,region:n.regionName,city:n.city,latitude:n.lat,longitude:n.lon,timezone:n.timezone,isp:n.isp};return this.ipApiCache.set(e,t),setTimeout(()=>this.ipApiCache.delete(e),36e5),t}return{}}catch(t){return{}}})}getDeviceInfo(e){const t=e||navigator.userAgent;let r="desktop";/Mobile|Android|iPhone|iPod/.test(t)?r="mobile":/Tablet|iPad/.test(t)&&(r="tablet");let n="Unknown";t.includes("Chrome")?n="Chrome":t.includes("Firefox")?n="Firefox":t.includes("Safari")&&!t.includes("Chrome")?n="Safari":t.includes("Edge")?n="Edge":t.includes("Opera")&&(n="Opera");let s="Unknown";return t.includes("Windows")?s="Windows":t.includes("Mac OS")?s="macOS":t.includes("Linux")?s="Linux":t.includes("Android")?s="Android":(t.includes("iOS")||t.includes("iPhone")||t.includes("iPad"))&&(s="iOS"),{type:r,browser:n,os:s}}recordLoginAttempt(e){return ie(this,null,function*(){try{const t=e.ipAddress||(yield this.getCurrentIP()),r=e.locationData||(yield this.getLocationFromIP(t)),n=e.deviceInfo||this.getDeviceInfo(e.userAgent),s=e.sessionId||this.generateSessionId(),{data:o,error:i}=yield Hu.rpc("record_login_attempt",{p_user_id:e.userId||null,p_email:e.email,p_ip_address:t,p_user_agent:e.userAgent||navigator.userAgent,p_session_id:s,p_success:e.success,p_failure_reason:e.failureReason||null,p_location_data:r,p_device_info:n});if(i)throw i;e.success&&s&&localStorage.setItem("monza_session_id",s)}catch(t){}})}recordSuccessfulLogin(e,t,r){return ie(this,null,function*(){yield this.recordLoginAttempt(Y({userId:e,email:t,success:!0,ipAddress:""},r))})}recordFailedLogin(e,t,r){return ie(this,null,function*(){yield this.recordLoginAttempt(Y({email:e,success:!1,failureReason:t,ipAddress:""},r))})}getMyLoginHistory(e=50){return ie(this,null,function*(){try{const{data:t,error:r}=yield Hu.from("login_tracking").select("\n          id,\n          login_time,\n          ip_address,\n          country,\n          region,\n          city,\n          device_type,\n          browser,\n          os,\n          is_new_location,\n          success\n        ").order("login_time",{ascending:!1}).limit(e);if(r)throw r;return t||[]}catch(t){return[]}})}getSuspiciousLogins(){return ie(this,null,function*(){try{const{data:e,error:t}=yield Hu.from("recent_suspicious_logins").select("*").order("login_time",{ascending:!1});if(t)throw t;return e||[]}catch(e){return[]}})}getLoginNotifications(e=!1){return ie(this,null,function*(){try{let e=Hu.from("login_notifications").select("\n          *,\n          login_tracking:login_tracking_id (\n            email,\n            login_time,\n            ip_address,\n            country,\n            city\n          )\n        ").order("created_at",{ascending:!1});const{data:t,error:r}=yield e;if(r)throw r;return t||[]}catch(e){return[]}})}isValidIP(e){return/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)||/^(?:[0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$/.test(e)}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}};Q(Gu,"instance");const Ju=Gu.getInstance(),Yu=ae.createContext(null);function Xu(){const e=ae.useContext(Yu);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function Zu({children:e}){const[t,r]=ae.useState({id:"samer-owner",email:"samer@monza.com",name:"Samer",role:"OWNER",department:"Management"}),n=[{id:"houssam-owner",email:"houssam@monza.com",name:"Houssam",role:"OWNER",department:"Management"},{id:"samer-owner",email:"samer@monza.com",name:"Samer",role:"OWNER",department:"Management"},{id:"kareem-owner",email:"kareem@monza.com",name:"Kareem",role:"OWNER",department:"Management"},{id:"mark-garage-manager",email:"mark@monza.com",name:"Mark",role:"GARAGE_MANAGER",department:"Garage"},{id:"lara-assistant",email:"lara@monza.com",name:"Lara",role:"ASSISTANT",department:"Admin"},{id:"samaya-assistant",email:"samaya@monza.com",name:"Samaya",role:"ASSISTANT",department:"Admin"},{id:"khalil-hybrid",email:"khalil@monza.com",name:"Khalil",role:"SALES_MANAGER",department:"Sales"},{id:"tamara-hybrid",email:"tamara@monza.com",name:"Tamara",role:"MARKETING_MANAGER",department:"Marketing"},{id:"elie-hybrid",email:"elie@monza.com",name:"Elie",role:"TECHNICIAN",department:"Garage"}],s={user:t,isLoading:!1,login:(e,t)=>ie(this,null,function*(){const t=n.find(t=>t.email===e);if(!t)throw new Error("User not found");r(t)}),logout:()=>ie(this,null,function*(){r(null)}),signup:(e,t,r)=>ie(this,null,function*(){}),switchUser:e=>{const t=n.find(t=>t.id===e);t&&r(t)},availableUsers:n};return Te.jsx(Yu.Provider,{value:s,children:e})}const Qu=({size:e="md",className:t=""})=>Te.jsx("div",{className:`${t} ${{sm:"h-8",md:"h-12",lg:"h-16"}[e]} flex items-center justify-center`,children:Te.jsx("div",{className:"bg-monza-yellow rounded-lg px-3 py-1 flex items-center justify-center min-w-fit whitespace-nowrap",children:Te.jsx("span",{className:`text-monza-black font-bold ${{sm:"text-xs",md:"text-sm",lg:"text-base"}[e]}`,children:"MONZA S.A.L."})})});function eh({count:e}){return e?Te.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center rounded-full text-[10px] h-4 min-w-4 px-1 bg-red-600 text-white font-medium",children:e>99?"99+":e}):null}function th({type:e,icon:t,title:r,route:n}){const[s,o]=ae.useState(!1),[i,a]=ae.useState([]),[l,c]=ae.useState(!1),d=function(){const[e,t]=ae.useState({message:0,request:0,car_activity:0});return ae.useEffect(()=>{let e=!0;const r=()=>ie(this,null,function*(){const{data:r,error:n}=yield Hu.from("notifications_unread_counts").select("*");if(!e)return;if(n&&"PGRST116"===n.code)return;if(n)return;const s={message:0,request:0,car_activity:0};(r||[]).forEach(e=>{var t;s[e.type]=null!=(t=e.unread_count)?t:0}),t(s)});r();const n=Hu.channel("notif-counts").on("postgres_changes",{event:"*",schema:"public",table:"notifications"},r).subscribe();return()=>{e=!1,Hu.removeChannel(n)}},[]),e}()[e]||0;return Te.jsxs("div",{className:"relative",children:[Te.jsxs("button",{onClick:()=>o(!s),className:Ua("relative h-10 w-10 inline-flex items-center justify-center","rounded-xl border border-gray-200 hover:bg-gray-50 transition-colors bg-white","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",s&&"ring-2 ring-blue-500 ring-offset-2 bg-blue-50 border-blue-200"),"aria-label":`${r} notifications`,type:"button",children:[t,Te.jsx(eh,{count:d})]}),s&&Te.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white border border-gray-200 rounded-md shadow-lg z-50",onClick:e=>e.stopPropagation(),children:[Te.jsxs("div",{className:"px-4 py-2 font-semibold text-gray-900 border-b bg-gray-50 flex items-center justify-between",children:[Te.jsxs("span",{className:"flex items-center gap-2",children:[t,r]}),Te.jsx("button",{onClick:()=>o(!1),className:"hover:bg-gray-100 rounded-full p-1 transition-colors",children:Te.jsx(Vi,{className:"h-4 w-4 text-gray-500"})})]}),Te.jsx("div",{className:"max-h-64 overflow-y-auto divide-y",children:l?Te.jsxs("div",{className:"p-4 text-center",children:[Te.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600 mx-auto"}),Te.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading..."})]}):0===i.length?Te.jsx("div",{className:"px-4 py-6 text-center text-gray-500",children:Te.jsx("p",{className:"text-sm",children:"No new notifications"})}):i.map(e=>{var t;return Te.jsx("div",{className:"px-4 py-3 text-sm text-gray-800 hover:bg-gray-50 cursor-pointer transition-colors",children:Te.jsxs("div",{className:"flex items-start justify-between gap-2",children:[Te.jsxs("div",{className:"flex-1 min-w-0",children:[Te.jsx("div",{className:"font-medium text-gray-900 truncate",children:e.title}),e.body&&Te.jsx("div",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:e.body}),(null==(t=e.payload)?void 0:t.vin)&&Te.jsxs("div",{className:"text-xs text-gray-500 mt-1 font-mono bg-gray-100 px-2 py-1 rounded",children:["VIN: ",e.payload.vin]}),Te.jsx("div",{className:"text-xs text-gray-400 mt-2",children:new Date(e.created_at).toLocaleString()})]}),!e.is_read&&Te.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-1"})]})},e.id)})}),i.length>0&&Te.jsx("div",{className:"p-3 border-t bg-gray-50",children:Te.jsxs("a",{href:n,className:"text-xs text-blue-600 hover:text-blue-800 hover:underline font-medium transition-colors",onClick:e=>{e.stopPropagation(),o(!1)},children:["View all ",r.toLowerCase()]})})]}),s&&Te.jsx("div",{className:"fixed inset-0 z-40",onClick:e=>{s&&o(!1)}})]})}function rh(){return Te.jsxs("div",{className:"flex items-center gap-2",children:[Te.jsx(Xa,{className:"h-10 px-4",children:"Install App"}),Te.jsx(th,{type:"message",title:"Messages",route:"/messages",icon:Te.jsx(_i,{className:"h-5 w-5 text-gray-700"})}),Te.jsx(th,{type:"request",title:"Requests",route:"/requests",icon:Te.jsx(Jo,{className:"h-5 w-5 text-gray-700"})}),Te.jsx(th,{type:"car_activity",title:"Car Activity",route:"/garage/activity",icon:Te.jsx(Zo,{className:"h-5 w-5 text-gray-700"})})]})}const nh=({onMenuClick:e})=>{const{user:t,logout:r}=Xu();Tn();return Te.jsx("header",{className:"sticky top-0 z-30 w-full border-b border-monza-grey/10 bg-white shadow-sm",children:Te.jsxs("div",{className:"container flex h-16 md:h-16 items-center justify-between px-3 md:px-4",children:[Te.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[t&&e&&Te.jsx(Xa,{variant:"ghost",size:"icon",onClick:t=>{t.preventDefault(),t.stopPropagation(),e()},className:"lg:hidden p-2 h-10 w-10 hover:bg-gray-100 active:bg-gray-200 z-50 relative",style:{pointerEvents:"auto"},children:Te.jsx(xi,{className:"h-6 w-6 text-gray-700"})}),Te.jsx(Qu,{size:"sm",className:"py-1"})]}),t&&Te.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[Te.jsx(rh,{}),Te.jsxs(Xa,{variant:"outline",onClick:()=>ie(void 0,null,function*(){try{r&&(yield r())}catch(e){}}),size:"sm",className:"border-monza-yellow hover:bg-monza-yellow/10 text-monza-black text-xs md:text-sm px-3 md:px-4 py-2 h-10 flex items-center gap-2",children:[Te.jsx(yi,{className:"h-4 w-4"}),Te.jsx("span",{className:"hidden sm:inline",children:"Logout"}),Te.jsx("span",{className:"sm:hidden",children:"Exit"})]})]})]})})},sh=({title:e,items:t,icon:r,isExpanded:n,onToggle:s,isMobile:o,onClose:i,headerRight:a})=>{const l=Nn(),{user:c}=Xu(),d=t;return 0===d.length?null:Te.jsxs("div",{className:"space-y-1",children:[Te.jsxs("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),s()},onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:e=>{e.preventDefault(),e.stopPropagation(),s()},className:"flex items-center w-full px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900 rounded-md transition-colors",style:{pointerEvents:"auto",cursor:"pointer",userSelect:"none"},children:[Te.jsx(r,{className:"mr-3 h-4 w-4"}),Te.jsxs("span",{className:"flex-1 text-left flex items-center gap-2",children:[e,a]}),n?Te.jsx(ti,{className:"h-4 w-4"}):Te.jsx(ri,{className:"h-4 w-4"})]}),n&&Te.jsx("div",{className:"ml-6 space-y-1",children:d.map(e=>{return Te.jsxs(ts,{to:e.href,onClick:()=>o&&i(),className:Ua("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",(t=e.href,l.pathname===t?"bg-monza-yellow text-monza-black":"text-gray-600 hover:bg-gray-50 hover:text-gray-900")),children:[Te.jsx(e.icon,{className:"mr-3 h-4 w-4"}),e.label]},e.href);var t})})]})},oh=({title:e,items:t,isMobile:r,onClose:n})=>{const s=Nn(),{user:o}=Xu();return Te.jsxs("div",{className:"space-y-1",children:[Te.jsx("h3",{className:"px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:e}),t.map(e=>{return Te.jsxs(ts,{to:e.href,onClick:()=>r&&n(),className:Ua("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",(t=e.href,s.pathname===t?"bg-monza-yellow text-monza-black":"text-gray-700 hover:bg-gray-100 hover:text-gray-900")),children:[Te.jsx(e.icon,{className:"mr-3 h-4 w-4"}),e.label]},e.href);var t})]})},ih=({className:e="h-4 w-4",size:t=24})=>Te.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[Te.jsx("circle",{cx:"12",cy:"12",r:"10"}),Te.jsx("polyline",{points:"12,6 12,12 16,14"})]}),ah=[{title:"Dashboard",label:"Dashboard",href:"/",icon:gi},{title:"Message Center",label:"Messages & Requests",href:"/message-center",icon:_i}],lh=[{title:"Floor 1",label:"Floor 1",href:"/showroom-floor-1",icon:Xo},{title:"Floor 2",label:"Floor 2",href:"/showroom-floor-2",icon:Yo}],ch=[{title:"Schedule",label:"Schedule",href:"/garage-schedule",icon:ih},{title:"Repair History",label:"Repair History",href:"/repair-history",icon:mi},{title:"Garage Inventory",label:"Garage Inventory",href:"/inventory-garage",icon:ki},{title:"Parts Inventory",label:"Parts Inventory",href:"/part-management",icon:ki}],dh=[{title:"Car Inventory",label:"Car Inventory",href:"/car-inventory",icon:Zo},{title:"Car Scanner",label:"Car Scanner",href:"/scan-vin",icon:Ci},{title:"Test Drive",label:"Test Drive",href:"/test-drive-logs",icon:Ii},{title:"Test Drive Scanner",label:"Test Drive Scanner",href:"/test-drive-scanner",icon:Ii}],uh=[{title:"Part Scanner",label:"Part Scanner",href:"/scan-part",icon:Ci},{title:"Floor 2 Inventory",label:"Floor 2 Inventory",href:"/inventory-floor-2",icon:ki},{title:"Inventory History",label:"Inventory History",href:"/inventory-history",icon:mi}],hh=[{title:"Ordered Cars",label:"Ordered Cars",href:"/ordered-cars",icon:Zo},{title:"Ordered Parts",label:"Ordered Parts",href:"/ordered-parts",icon:ki}],fh=[{title:"User Activity Monitor",label:"User Activity Monitor",href:"/user-activity-dashboard",icon:Go},{title:"Employee Management",label:"Employee Management",href:"/employee-management",icon:qi},{title:"Employee Profile",label:"Employee Profile",href:"/employee-profile",icon:si},{title:"Employee Management",label:"Employee Management",href:"/wstacy-employee-management",icon:qi}],ph=[{title:"Marketing CRM",label:"Marketing CRM",href:"/marketing-crm",icon:qi},{title:"Calendar",label:"Calendar",href:"/business-calendar",icon:ih}],mh=[{title:"Data Upload",label:"Upload to Supabase",href:"/data-upload",icon:$i},{title:"API Documentation",label:"API Documentation",href:"/api-documentation",icon:ii},{title:"Key Management",label:"Key Management",href:"/api-key-management",icon:Oi}],gh=[{title:"Financial Dashboard",label:"Financial Dashboard",href:"/financial-dashboard",icon:ui}],yh=[{title:"User Management",label:"Manage Users & Roles",href:"/admin/users",icon:Di},{title:"System Audit Log",label:"Database Change Tracking",href:"/system-audit-log",icon:mi},{title:"Employee Audit",label:"Employee Activity Logs",href:"/audit-log",icon:qi},{title:"Login Tracking",label:"Location & Security Monitoring",href:"/login-tracking",icon:vi},{title:"Developer Overview",label:"Complete System Tracking",href:"/developer-overview",icon:ci},{title:"System Settings",label:"System Configuration",href:"/system-settings",icon:Oi}],vh=({isOpen:e,onClose:t,isMobile:r})=>{const{toggleSection:n,isExpanded:s}=(()=>{const[e,t]=ae.useState([]);return{toggleSection:e=>{t(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},isExpanded:t=>e.includes(t)}})();return Te.jsxs(Te.Fragment,{children:[Te.jsx("div",{"data-testid":"sidebar",className:Ua("fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 shadow-lg"),style:{backgroundColor:"#ffffff",transform:e?"translateX(0)":"translateX(-100%)",transition:"transform 200ms ease-in-out",visibility:e?"visible":"hidden",opacity:e?1:0},children:Te.jsxs("div",{className:"flex flex-col h-full sidebar-content",style:{backgroundColor:"#ffffff"},children:[r&&Te.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b bg-white",children:[Te.jsx("h2",{className:"font-bold text-lg",children:"Menu"}),Te.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation();try{t();const e=document.querySelector('[data-testid="sidebar"]');e&&(e.style.transform="translateX(-100%)",e.style.visibility="hidden",e.style.opacity="0")}catch(r){}},onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:e=>{e.preventDefault(),e.stopPropagation();try{t();const e=document.querySelector('[data-testid="sidebar"]');e&&(e.style.transform="translateX(-100%)",e.style.visibility="hidden",e.style.opacity="0")}catch(r){}},className:"p-2 rounded-md hover:bg-gray-100 transition-colors text-gray-500 hover:text-gray-700 sidebar-close-btn",style:{pointerEvents:"auto !important",cursor:"pointer",userSelect:"none",zIndex:9999,position:"relative"},title:"Close menu","data-testid":"sidebar-close-button",children:Te.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Te.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),Te.jsx("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:Te.jsxs("div",{className:"flex-1 px-3 space-y-6",children:[Te.jsx(oh,{title:"Main",items:ah,isMobile:r,onClose:t}),Te.jsx(sh,{title:"Showroom",items:lh,icon:Xo,isExpanded:s("Showroom"),onToggle:()=>n("Showroom"),isMobile:r,onClose:t}),Te.jsx(sh,{title:"Vehicles",items:dh,icon:Zo,isExpanded:s("Vehicles"),onToggle:()=>n("Vehicles"),isMobile:r,onClose:t}),Te.jsx(sh,{title:"Garage",items:ch,icon:Bi,isExpanded:s("Garage"),onToggle:()=>n("Garage"),isMobile:r,onClose:t}),Te.jsx(sh,{title:"Financial",items:gh,icon:ui,isExpanded:s("Financial"),onToggle:()=>n("Financial"),isMobile:r,onClose:t}),Te.jsx(sh,{title:"Inventory",items:uh,icon:ki,isExpanded:s("Inventory"),onToggle:()=>n("Inventory"),isMobile:r,onClose:t}),Te.jsx(sh,{title:"Orders",items:hh,icon:ki,isExpanded:s("Orders"),onToggle:()=>n("Orders"),isMobile:r,onClose:t}),Te.jsx(sh,{title:"Employee Management",items:fh,icon:qi,isExpanded:s("Employee Management"),onToggle:()=>n("Employee Management"),isMobile:r,onClose:t}),Te.jsx(sh,{title:"CRM & Scheduling",items:ph,icon:bi,isExpanded:s("CRM & Scheduling"),onToggle:()=>n("CRM & Scheduling"),isMobile:r,onClose:t}),Te.jsx(sh,{title:"API",items:mh,icon:li,isExpanded:s("API"),onToggle:()=>n("API"),isMobile:r,onClose:t}),Te.jsx(sh,{title:"Admin & Security",items:yh,icon:Di,isExpanded:s("Admin & Security"),onToggle:()=>n("Admin & Security"),isMobile:r,onClose:t})]})})]})}),r&&e&&Te.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 sidebar-overlay",onClick:e=>{e.preventDefault(),e.stopPropagation(),t()},onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:e=>{e.preventDefault(),e.stopPropagation(),t()},style:{pointerEvents:"auto !important",cursor:"pointer",userSelect:"none",zIndex:40},"data-testid":"sidebar-overlay"})]})};const bh=()=>{const{user:e,isLoading:t}=Xu(),r=function(){const[e,t]=ae.useState(void 0);return ae.useEffect(()=>{const e=window.matchMedia("(max-width: 767px)"),r=()=>{t(window.innerWidth<768)};return e.addEventListener("change",r),t(window.innerWidth<768),()=>e.removeEventListener("change",r)},[]),!!e}();Tn();const[n,s]=ae.useState(!r),o=Nn(),[i,a]=ae.useState(!1),[l,c]=ae.useState("");return ae.useEffect(()=>{r&&s(!1)},[o.pathname,r]),ae.useEffect(()=>{s(!r)},[r]),ae.useEffect(()=>{const e=setTimeout(()=>{try{const e=Array.from(document.querySelectorAll("[data-radix-dialog-overlay], .fixed.inset-0.bg-black, .fixed.inset-0.bg-black\\/50, .fixed.inset-0.bg-black\\/70"));!!document.querySelector('[role="dialog"]')||e.forEach(e=>e.style.display="none")}catch(Ck){}},100);return()=>clearTimeout(e)},[o.pathname]),ae.useEffect(()=>{try{const e=Array.from(document.querySelectorAll("[data-radix-dialog-overlay], .fixed.inset-0.bg-black, .fixed.inset-0.bg-black\\/50, .fixed.inset-0.bg-black\\/70"));!!document.querySelector('[role="dialog"]')||e.forEach(e=>e.style.display="none")}catch(Ck){}},[o.pathname]),t?Te.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:Te.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-sm border border-gray-200",children:[Te.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto mb-4"}),Te.jsx("p",{className:"text-amber-800 text-sm md:text-base",children:"Loading..."})]})}):e?Te.jsx(nl,{children:Te.jsxs("div",{className:"flex h-screen bg-gray-50",children:[Te.jsx(vh,{isOpen:n,onClose:()=>{s(!0),setTimeout(()=>s(!1),10)},isMobile:r}),Te.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[Te.jsx(nh,{onMenuClick:()=>{s(!0)}}),Te.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 transition-all duration-300",children:Te.jsx("div",{className:"container mx-auto px-2 sm:px-4 py-3 sm:py-6 max-w-7xl",children:Te.jsx(nl,{children:Te.jsx(Wn,{})})})})]})]})}):Te.jsx(qn,{to:"/login",replace:!0})},xh=zo("animate-spin rounded-full border-solid border-gray-300 border-t-primary",{variants:{size:{sm:"h-4 w-4 border-2",md:"h-6 w-6 border-2",lg:"h-8 w-8 border-2",xl:"h-12 w-12 border-3"}},defaultVariants:{size:"md"}}),wh=de.forwardRef((e,t)=>{var r=e,{className:n,size:s,text:o}=r,i=Z(r,["className","size","text"]);return Te.jsxs("div",X(Y({ref:t,className:Ua("flex flex-col items-center gap-2",n)},i),{children:[Te.jsx("div",{className:Ua(xh({size:s}))}),o&&Te.jsx("p",{className:"text-sm text-muted-foreground",children:o})]}))});wh.displayName="LoadingSpinner";const _h=ae.createContext(void 0),jh=()=>{const e=ae.useContext(_h);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e},Sh=({children:e})=>{const[t,r]=ae.useState([{id:"1",title:"New vehicle arrival",description:"A new Voyah Dream has arrived at the dealership",timestamp:"2 hours ago",read:!1,link:"/new-car-arrivals",assignedTo:"all",eventId:"VY-2024-001",carCode:"VY-2024-001",inputBy:"John Smith",inputTime:new Date(Date.now()-72e5).toLocaleString(),priority:"medium",type:"info"},{id:"2",title:"Repair completed",description:"Voyah #VY-2023-0892 repair has been completed and is ready for pickup",timestamp:"Yesterday",read:!1,link:"/repairs",assignedTo:"all",eventId:"VY-2023-0892",carCode:"VY-2023-0892",inputBy:"Mike Johnson",inputTime:new Date(Date.now()-864e5).toLocaleString(),priority:"high",type:"success"},{id:"3",title:"MonzaBot form pending review",description:"New car arrival form extracted by MonzaBot requires approval",timestamp:"30 minutes ago",read:!1,link:"/new-car-arrivals",assignedTo:"all",inputBy:"MonzaBot AI",inputTime:new Date(Date.now()-18e5).toLocaleString(),priority:"medium",type:"warning"}]);return Te.jsx(_h.Provider,{value:{notifications:t,addNotification:e=>{const t=X(Y({},e),{id:Date.now().toString(),timestamp:"Just now",read:!1});r(e=>[t,...e])},markAsRead:e=>{r(t=>t.map(t=>t.id===e?X(Y({},t),{read:!0}):t))},markAllAsRead:()=>{r(e=>e.map(e=>X(Y({},e),{read:!0})))},getUnreadCount:e=>t.filter(t=>!(t.read||e&&t.assignedTo!==e&&"all"!==t.assignedTo)).length},children:e})},kh=ae.createContext(void 0),Eh=({children:e})=>{const[t,r]=ae.useState([]),n=()=>{try{const e=localStorage.getItem("carInventory"),t=localStorage.getItem("garageCars"),n=localStorage.getItem("garageSchedule"),s=localStorage.getItem("repairHistory");if(!(e||t||n||s))return void r([]);const o=e?JSON.parse(e):[],i=t?JSON.parse(t):[],a=n?JSON.parse(n):[],l=s?JSON.parse(s):[],c=new Map;Array.isArray(o)&&o.forEach(e=>{const t=e.vinNumber||e.id;c.set(t,{id:e.id,carCode:t,model:e.model,year:e.year,brand:e.brand,color:e.color,inventoryData:e,currentLocation:"sold"===e.status?"sold":"inventory",clientName:e.clientName,clientPhone:e.clientPhone,clientEmail:e.clientEmail,repairHistory:l.filter(e=>e.carCode===t),financialRecords:[]})}),Array.isArray(i)&&i.forEach(e=>{const t=e.carCode,r=c.get(t);r?(r.garageData=e,r.currentLocation="delivered"===e.status?"delivered":"garage",r.clientName=r.clientName||e.customerName):c.set(t,{id:e.id,carCode:t,model:e.carModel,year:(new Date).getFullYear(),color:"Unknown",garageData:e,currentLocation:"delivered"===e.status?"delivered":"garage",clientName:e.customerName,repairHistory:l.filter(e=>e.carCode===t),financialRecords:[]})}),Array.isArray(a)&&a.forEach(e=>{e&&e.scheduledCars&&Array.isArray(e.scheduledCars)&&e.scheduledCars.forEach(t=>{const r=t.carCode,n=c.get(r),s=X(Y({},t),{scheduleDate:e.date,scheduleTime:`${e.startTime} - ${e.endTime}`});n?(n.scheduleData=s,"inventory"===n.currentLocation&&(n.currentLocation="scheduled")):c.set(r,{id:t.id,carCode:r,model:t.carModel,year:(new Date).getFullYear(),color:"Unknown",scheduleData:s,currentLocation:"scheduled",clientName:t.customerName,repairHistory:l.filter(e=>e.carCode===r),financialRecords:[]})})}),Array.isArray(l)&&l.forEach(e=>{const t=c.get(e.carCode);if(t&&e.totalCost){const r={carCode:e.carCode,carModel:e.carModel,customerName:e.customerName,repairType:e.repairType,startDate:e.startDate,completionDate:e.completionDate,laborHours:e.laborHours,laborCost:.6*e.totalCost,partsCost:.3*e.totalCost,electricityCost:.05*e.totalCost,equipmentCost:0,overheadCost:.05*e.totalCost,totalCost:e.totalCost,profit:.2*e.totalCost,profitMargin:20,currency:"USD",exchangeRate:89500,partsUsed:e.partsUsed.map(e=>({name:e,quantity:1,unitCost:50,isImported:Math.random()>.5,supplier:"Auto Parts Supply"})),employeesWorked:[{name:e.technician,role:"Technician",hours:e.laborHours,hourlyRate:28}]};t.financialRecords||(t.financialRecords=[]),t.financialRecords.push(r)}}),r(Array.from(c.values()))}catch(e){}};ae.useEffect(()=>{n()},[]),ae.useEffect(()=>{const e=e=>{["carInventory","garageCars","garageSchedules","repairHistory"].includes(e.key||"")&&n()};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]);const s=e=>t.find(t=>t.carCode===e);return Te.jsx(kh.Provider,{value:{unifiedCars:t,getCarByCode:s,getCarRepairHistory:e=>{const t=s(e);return(null==t?void 0:t.repairHistory)||[]},getCarFinancialData:e=>{const t=s(e);return(null==t?void 0:t.financialRecords)||[]},updateCarData:(e,t)=>{r(r=>r.map(r=>r.carCode===e?Y(Y({},r),t):r))},refreshData:()=>{n()},linkCarAcrossSystems:e=>s(e)?(n(),s(e)||null):null},children:e})},Nh=()=>{const e=ae.useContext(kh);if(void 0===e)throw new Error("useCarData must be used within a CarDataProvider");return e};var Ch=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Th="undefined"==typeof window||"Deno"in globalThis;function Ph(){}function Rh(e){return"number"==typeof e&&e>=0&&e!==1/0}function Ah(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Oh(e,t){return"function"==typeof e?e(t):e}function Dh(e,t){return"function"==typeof e?e(t):e}function Mh(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i)if(n){if(t.queryHash!==Lh(i,t.options))return!1}else if(!Uh(t.queryKey,i))return!1;if("all"!==r){const e=t.isActive();if("active"===r&&!e)return!1;if("inactive"===r&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&((!s||s===t.state.fetchStatus)&&!(o&&!o(t)))}function Ih(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Fh(t.options.mutationKey)!==Fh(o))return!1}else if(!Uh(t.options.mutationKey,o))return!1}return(!n||t.state.status===n)&&!(s&&!s(t))}function Lh(e,t){return((null==t?void 0:t.queryKeyHashFn)||Fh)(e)}function Fh(e){return JSON.stringify(e,(e,t)=>Wh(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function Uh(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every(r=>Uh(e[r],t[r])))}function $h(e,t){if(e===t)return e;const r=qh(e)&&qh(t);if(r||Wh(e)&&Wh(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,a=r?[]:{},l=new Set(n);let c=0;for(let d=0;d<i;d++){const n=r?d:o[d];(!r&&l.has(n)||r)&&void 0===e[n]&&void 0===t[n]?(a[n]=void 0,c++):(a[n]=$h(e[n],t[n]),a[n]===e[n]&&void 0!==e[n]&&c++)}return s===i&&c===s?e:a}return t}function zh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function qh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Wh(e){if(!Bh(e))return!1;const t=e.constructor;if(void 0===t)return!0;const r=t.prototype;return!!Bh(r)&&(!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function Bh(e){return"[object Object]"===Object.prototype.toString.call(e)}function Vh(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?$h(e,t):t}function Hh(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Kh(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Gh=Symbol();function Jh(e,t){return!e.queryFn&&(null==t?void 0:t.initialPromise)?()=>t.initialPromise:e.queryFn&&e.queryFn!==Gh?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}function Yh(e,t){return"function"==typeof e?e(...t):!!e}var Xh=new(n=class extends Ch{constructor(){super(),re(this,e),re(this,t),re(this,r),ne(this,r,e=>{if(!Th&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){te(this,t)||this.setEventListener(te(this,r))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=te(this,t))||e.call(this),ne(this,t,void 0))}setEventListener(e){var n;ne(this,r,e),null==(n=te(this,t))||n.call(this),ne(this,t,e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(t){te(this,e)!==t&&(ne(this,e,t),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var t;return"boolean"==typeof te(this,e)?te(this,e):"hidden"!==(null==(t=globalThis.document)?void 0:t.visibilityState)}},e=new WeakMap,t=new WeakMap,r=new WeakMap,n),Zh=new(a=class extends Ch{constructor(){super(),re(this,s,!0),re(this,o),re(this,i),ne(this,i,e=>{if(!Th&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){te(this,o)||this.setEventListener(te(this,i))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=te(this,o))||e.call(this),ne(this,o,void 0))}setEventListener(e){var t;ne(this,i,e),null==(t=te(this,o))||t.call(this),ne(this,o,e(this.setOnline.bind(this)))}setOnline(e){te(this,s)!==e&&(ne(this,s,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return te(this,s)}},s=new WeakMap,o=new WeakMap,i=new WeakMap,a);function Qh(){let e,t;const r=new Promise((r,n)=>{e=r,t=n});function n(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=t=>{n({status:"fulfilled",value:t}),e(t)},r.reject=e=>{n({status:"rejected",reason:e}),t(e)},r}function ef(e){return Math.min(1e3*G(2,e),3e4)}function tf(e){return"online"!==(null!=e?e:"online")||Zh.isOnline()}var rf=class extends Error{constructor(e){super("CancelledError"),this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function nf(e){let t,r=!1,n=0;const s=Qh(),o=()=>"pending"!==s.status,i=()=>Xh.isFocused()&&("always"===e.networkMode||Zh.isOnline())&&e.canRun(),a=()=>tf(e.networkMode)&&e.canRun(),l=e=>{o()||(null==t||t(),s.resolve(e))},c=e=>{o()||(null==t||t(),s.reject(e))},d=()=>new Promise(r=>{var n;t=e=>{(o()||i())&&r(e)},null==(n=e.onPause)||n.call(e)}).then(()=>{var r;t=void 0,o()||null==(r=e.onContinue)||r.call(e)}),u=()=>{if(o())return;let t;const s=0===n?e.initialPromise:void 0;try{t=null!=s?s:e.fn()}catch(a){t=Promise.reject(a)}Promise.resolve(t).then(l).catch(t=>{var s,a,l;if(o())return;const h=null!=(s=e.retry)?s:Th?0:3,f=null!=(a=e.retryDelay)?a:ef,p="function"==typeof f?f(n,t):f,m=!0===h||"number"==typeof h&&n<h||"function"==typeof h&&h(n,t);var g;!r&&m?(n++,null==(l=e.onFail)||l.call(e,n,t),(g=p,new Promise(e=>{setTimeout(e,g)})).then(()=>i()?void 0:d()).then(()=>{r?c(t):u()})):c(t)})};return{promise:s,status:()=>s.status,cancel:t=>{var r;o()||(c(new rf(t)),null==(r=e.abort)||r.call(e))},continue:()=>(null==t||t(),s),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:a,start:()=>(a()?u():d().then(u),s)}}var sf=e=>setTimeout(e,0);var of=function(){let e=[],t=0,r=e=>{e()},n=e=>{e()},s=sf;const o=n=>{t?e.push(n):s(()=>{r(n)})};return{batch:o=>{let i;t++;try{i=o()}finally{t--,t||(()=>{const t=e;e=[],t.length&&s(()=>{n(()=>{t.forEach(e=>{r(e)})})})})()}return i},batchCalls:e=>(...t)=>{o(()=>{e(...t)})},schedule:o,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{n=e},setScheduler:e=>{s=e}}}(),af=(c=class{constructor(){re(this,l)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Rh(this.gcTime)&&ne(this,l,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,null!=e?e:Th?1/0:3e5)}clearGcTimeout(){te(this,l)&&(clearTimeout(te(this,l)),ne(this,l,void 0))}},l=new WeakMap,c),lf=(b=class extends af{constructor(e){var t;super(),re(this,y),re(this,d),re(this,u),re(this,h),re(this,f),re(this,p),re(this,m),re(this,g),ne(this,g,!1),ne(this,m,e.defaultOptions),this.setOptions(e.options),this.observers=[],ne(this,f,e.client),ne(this,h,te(this,f).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ne(this,d,function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=null!=(t=e.state)?t:te(this,d),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null==(e=te(this,p))?void 0:e.promise}setOptions(e){this.options=Y(Y({},te(this,m)),e),this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||te(this,h).remove(this)}setData(e,t){const r=Vh(this.state.data,e,this.options);return se(this,y,v).call(this,{data:r,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),r}setState(e,t){se(this,y,v).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,r;const n=null==(t=te(this,p))?void 0:t.promise;return null==(r=te(this,p))||r.cancel(e),n?n.then(Ph).catch(Ph):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,d))}isActive(){return this.observers.some(e=>!1!==Dh(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===Oh(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!Ah(this.state.dataUpdatedAt,e))}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());null==t||t.refetch({cancelRefetch:!1}),null==(e=te(this,p))||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());null==t||t.refetch({cancelRefetch:!1}),null==(e=te(this,p))||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),te(this,h).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(te(this,p)&&(te(this,g)?te(this,p).cancel({revert:!0}):te(this,p).cancelRetry()),this.scheduleGc()),te(this,h).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||se(this,y,v).call(this,{type:"invalidate"})}fetch(e,t){return ie(this,null,function*(){var r,n,s,o,i,a,l,c,d,m,b,x;if("idle"!==this.state.fetchStatus&&"rejected"!==(null==(r=te(this,p))?void 0:r.status()))if(void 0!==this.state.data&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(te(this,p))return te(this,p).continueRetry(),te(this,p).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const w=new AbortController,_=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(ne(this,g,!0),w.signal)})},j=()=>{const e=Jh(this.options,t),r=(()=>{const e={client:te(this,f),queryKey:this.queryKey,meta:this.meta};return _(e),e})();return ne(this,g,!1),this.options.persister?this.options.persister(e,r,this):e(r)},S=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:te(this,f),state:this.state,fetchFn:j};return _(e),e})();null==(n=this.options.behavior)||n.onFetch(S,this),ne(this,u,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===(null==(s=S.fetchOptions)?void 0:s.meta)||se(this,y,v).call(this,{type:"fetch",meta:null==(o=S.fetchOptions)?void 0:o.meta}),ne(this,p,nf({initialPromise:null==t?void 0:t.initialPromise,fn:S.fetchFn,abort:w.abort.bind(w),onFail:(e,t)=>{se(this,y,v).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{se(this,y,v).call(this,{type:"pause"})},onContinue:()=>{se(this,y,v).call(this,{type:"continue"})},retry:S.options.retry,retryDelay:S.options.retryDelay,networkMode:S.options.networkMode,canRun:()=>!0}));try{const e=yield te(this,p).start();if(void 0===e)throw new Error(`${this.queryHash} data is undefined`);return this.setData(e),null==(a=(i=te(this,h).config).onSuccess)||a.call(i,e,this),null==(c=(l=te(this,h).config).onSettled)||c.call(l,e,this.state.error,this),e}catch(k){if(k instanceof rf){if(k.silent)return te(this,p).promise;if(k.revert)return this.setState(X(Y({},te(this,u)),{fetchStatus:"idle"})),this.state.data}throw se(this,y,v).call(this,{type:"error",error:k}),null==(m=(d=te(this,h).config).onError)||m.call(d,k,this),null==(x=(b=te(this,h).config).onSettled)||x.call(b,this.state.data,k,this),k}finally{this.scheduleGc()}})}},d=new WeakMap,u=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakSet,v=function(e){this.state=(t=>{var r,n;switch(e.type){case"failed":return X(Y({},t),{fetchFailureCount:e.failureCount,fetchFailureReason:e.error});case"pause":return X(Y({},t),{fetchStatus:"paused"});case"continue":return X(Y({},t),{fetchStatus:"fetching"});case"fetch":return X(Y(Y({},t),cf(t.data,this.options)),{fetchMeta:null!=(r=e.meta)?r:null});case"success":const s=Y(X(Y({},t),{data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!=(n=e.dataUpdatedAt)?n:Date.now(),error:null,isInvalidated:!1,status:"success"}),!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});return ne(this,u,e.manual?s:void 0),s;case"error":const o=e.error;return X(Y({},t),{error:o,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"});case"invalidate":return X(Y({},t),{isInvalidated:!0});case"setState":return Y(Y({},t),e.state)}})(this.state),of.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),te(this,h).notify({query:this,type:"updated",action:e})})},b);function cf(e,t){return Y({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tf(t.networkMode)?"fetching":"paused"},void 0===e&&{error:null,status:"pending"})}var df=(w=class extends Ch{constructor(e={}){super(),re(this,x),this.config=e,ne(this,x,new Map)}build(e,t,r){var n;const s=t.queryKey,o=null!=(n=t.queryHash)?n:Lh(s,t);let i=this.get(o);return i||(i=new lf({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){te(this,x).has(e.queryHash)||(te(this,x).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=te(this,x).get(e.queryHash);t&&(e.destroy(),t===e&&te(this,x).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){of.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return te(this,x).get(e)}getAll(){return[...te(this,x).values()]}find(e){const t=Y({exact:!0},e);return this.getAll().find(e=>Mh(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>Mh(e,t)):t}notify(e){of.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){of.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){of.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},x=new WeakMap,w),uf=(N=class extends af{constructor(e){super(),re(this,k),re(this,_),re(this,j),re(this,S),this.mutationId=e.mutationId,ne(this,j,e.mutationCache),ne(this,_,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){te(this,_).includes(e)||(te(this,_).push(e),this.clearGcTimeout(),te(this,j).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ne(this,_,te(this,_).filter(t=>t!==e)),this.scheduleGc(),te(this,j).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){te(this,_).length||("pending"===this.state.status?this.scheduleGc():te(this,j).remove(this))}continue(){var e,t;return null!=(t=null==(e=te(this,S))?void 0:e.continue())?t:this.execute(this.state.variables)}execute(e){return ie(this,null,function*(){var t,r,n,s,o,i,a,l,c,d,u,h,f,p,m,g,y,v,b,x,w;const _=()=>{se(this,k,E).call(this,{type:"continue"})};ne(this,S,nf({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{se(this,k,E).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{se(this,k,E).call(this,{type:"pause"})},onContinue:_,retry:null!=(t=this.options.retry)?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,j).canRun(this)}));const N="pending"===this.state.status,C=!te(this,S).canStart();try{if(N)_();else{se(this,k,E).call(this,{type:"pending",variables:e,isPaused:C}),yield null==(n=(r=te(this,j).config).onMutate)?void 0:n.call(r,e,this);const t=yield null==(o=(s=this.options).onMutate)?void 0:o.call(s,e);t!==this.state.context&&se(this,k,E).call(this,{type:"pending",context:t,variables:e,isPaused:C})}const t=yield te(this,S).start();return yield null==(a=(i=te(this,j).config).onSuccess)?void 0:a.call(i,t,e,this.state.context,this),yield null==(c=(l=this.options).onSuccess)?void 0:c.call(l,t,e,this.state.context),yield null==(u=(d=te(this,j).config).onSettled)?void 0:u.call(d,t,null,this.state.variables,this.state.context,this),yield null==(f=(h=this.options).onSettled)?void 0:f.call(h,t,null,e,this.state.context),se(this,k,E).call(this,{type:"success",data:t}),t}catch(T){try{throw yield null==(m=(p=te(this,j).config).onError)?void 0:m.call(p,T,e,this.state.context,this),yield null==(y=(g=this.options).onError)?void 0:y.call(g,T,e,this.state.context),yield null==(b=(v=te(this,j).config).onSettled)?void 0:b.call(v,void 0,T,this.state.variables,this.state.context,this),yield null==(w=(x=this.options).onSettled)?void 0:w.call(x,void 0,T,e,this.state.context),T}finally{se(this,k,E).call(this,{type:"error",error:T})}}finally{te(this,j).runNext(this)}})}},_=new WeakMap,j=new WeakMap,S=new WeakMap,k=new WeakSet,E=function(e){this.state=(t=>{switch(e.type){case"failed":return X(Y({},t),{failureCount:e.failureCount,failureReason:e.error});case"pause":return X(Y({},t),{isPaused:!0});case"continue":return X(Y({},t),{isPaused:!1});case"pending":return X(Y({},t),{context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()});case"success":return X(Y({},t),{data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return X(Y({},t),{data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"})}})(this.state),of.batch(()=>{te(this,_).forEach(t=>{t.onMutationUpdate(e)}),te(this,j).notify({mutation:this,type:"updated",action:e})})},N);function hf(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ff=(R=class extends Ch{constructor(e={}){super(),re(this,C),re(this,T),re(this,P),this.config=e,ne(this,C,new Set),ne(this,T,new Map),ne(this,P,0)}build(e,t,r){const n=new uf({mutationCache:this,mutationId:++oe(this,P)._,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){te(this,C).add(e);const t=pf(e);if("string"==typeof t){const r=te(this,T).get(t);r?r.push(e):te(this,T).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(te(this,C).delete(e)){const t=pf(e);if("string"==typeof t){const r=te(this,T).get(t);if(r)if(r.length>1){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&te(this,T).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=pf(e);if("string"==typeof t){const r=te(this,T).get(t),n=null==r?void 0:r.find(e=>"pending"===e.state.status);return!n||n===e}return!0}runNext(e){var t,r;const n=pf(e);if("string"==typeof n){const s=null==(t=te(this,T).get(n))?void 0:t.find(t=>t!==e&&t.state.isPaused);return null!=(r=null==s?void 0:s.continue())?r:Promise.resolve()}return Promise.resolve()}clear(){of.batch(()=>{te(this,C).forEach(e=>{this.notify({type:"removed",mutation:e})}),te(this,C).clear(),te(this,T).clear()})}getAll(){return Array.from(te(this,C))}find(e){const t=Y({exact:!0},e);return this.getAll().find(e=>Ih(t,e))}findAll(e={}){return this.getAll().filter(t=>Ih(e,t))}notify(e){of.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return of.batch(()=>Promise.all(e.map(e=>e.continue().catch(Ph))))}},C=new WeakMap,T=new WeakMap,P=new WeakMap,R);function pf(e){var t;return null==(t=e.options.scope)?void 0:t.id}function mf(e){return{onFetch:(t,r)=>{var n,s,o,i,a;const l=t.options,c=null==(o=null==(s=null==(n=t.fetchOptions)?void 0:n.meta)?void 0:s.fetchMore)?void 0:o.direction,d=(null==(i=t.state.data)?void 0:i.pages)||[],u=(null==(a=t.state.data)?void 0:a.pageParams)||[];let h={pages:[],pageParams:[]},f=0;const p=()=>ie(this,null,function*(){var r;let n=!1;const s=Jh(t.options,t.fetchOptions),o=(e,r,o)=>ie(this,null,function*(){if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const i=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:r,direction:o?"backward":"forward",meta:t.options.meta};var s;return s=e,Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",()=>{n=!0}),t.signal)}),e})(),a=yield s(i),{maxPages:l}=t.options,c=o?Kh:Hh;return{pages:c(e.pages,a,l),pageParams:c(e.pageParams,r,l)}});if(c&&d.length){const e="backward"===c,t={pages:d,pageParams:u},r=(e?yf:gf)(l,t);h=yield o(t,r,e)}else{const t=null!=e?e:d.length;do{const e=0===f?null!=(r=u[0])?r:l.initialPageParam:gf(l,h);if(f>0&&null==e)break;h=yield o(h,e),f++}while(f<t)}return h});t.options.persister?t.fetchFn=()=>{var e,n;return null==(n=(e=t.options).persister)?void 0:n.call(e,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=p}}}function gf(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function yf(e,{pages:t,pageParams:r}){var n;return t.length>0?null==(n=e.getPreviousPageParam)?void 0:n.call(e,t[0],t,r[0],r):void 0}var vf=($=class{constructor(e={}){re(this,A),re(this,O),re(this,D),re(this,M),re(this,I),re(this,L),re(this,F),re(this,U),ne(this,A,e.queryCache||new df),ne(this,O,e.mutationCache||new ff),ne(this,D,e.defaultOptions||{}),ne(this,M,new Map),ne(this,I,new Map),ne(this,L,0)}mount(){oe(this,L)._++,1===te(this,L)&&(ne(this,F,Xh.subscribe(e=>ie(this,null,function*(){e&&(yield this.resumePausedMutations(),te(this,A).onFocus())}))),ne(this,U,Zh.subscribe(e=>ie(this,null,function*(){e&&(yield this.resumePausedMutations(),te(this,A).onOnline())}))))}unmount(){var e,t;oe(this,L)._--,0===te(this,L)&&(null==(e=te(this,F))||e.call(this),ne(this,F,void 0),null==(t=te(this,U))||t.call(this),ne(this,U,void 0))}isFetching(e){return te(this,A).findAll(X(Y({},e),{fetchStatus:"fetching"})).length}isMutating(e){return te(this,O).findAll(X(Y({},e),{status:"pending"})).length}getQueryData(e){var t;const r=this.defaultQueryOptions({queryKey:e});return null==(t=te(this,A).get(r.queryHash))?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=te(this,A).build(this,t),n=r.state.data;return void 0===n?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Oh(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return te(this,A).findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=te(this,A).get(n.queryHash),o=function(e,t){return"function"==typeof e?e(t):e}(t,null==s?void 0:s.state.data);if(void 0!==o)return te(this,A).build(this,n).setData(o,X(Y({},r),{manual:!0}))}setQueriesData(e,t,r){return of.batch(()=>te(this,A).findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){var t;const r=this.defaultQueryOptions({queryKey:e});return null==(t=te(this,A).get(r.queryHash))?void 0:t.state}removeQueries(e){const t=te(this,A);of.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const r=te(this,A);return of.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries(Y({type:"active"},e),t)))}cancelQueries(e,t={}){const r=Y({revert:!0},t),n=of.batch(()=>te(this,A).findAll(e).map(e=>e.cancel(r)));return Promise.all(n).then(Ph).catch(Ph)}invalidateQueries(e,t={}){return of.batch(()=>{var r,n;return te(this,A).findAll(e).forEach(e=>{e.invalidate()}),"none"===(null==e?void 0:e.refetchType)?Promise.resolve():this.refetchQueries(X(Y({},e),{type:null!=(n=null!=(r=null==e?void 0:e.refetchType)?r:null==e?void 0:e.type)?n:"active"}),t)})}refetchQueries(e,t={}){var r;const n=X(Y({},t),{cancelRefetch:null==(r=t.cancelRefetch)||r}),s=of.batch(()=>te(this,A).findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(Ph)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(s).then(Ph)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const r=te(this,A).build(this,t);return r.isStaleByTime(Oh(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ph).catch(Ph)}fetchInfiniteQuery(e){return e.behavior=mf(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ph).catch(Ph)}ensureInfiniteQueryData(e){return e.behavior=mf(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Zh.isOnline()?te(this,O).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,A)}getMutationCache(){return te(this,O)}getDefaultOptions(){return te(this,D)}setDefaultOptions(e){ne(this,D,e)}setQueryDefaults(e,t){te(this,M).set(Fh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...te(this,M).values()],r={};return t.forEach(t=>{Uh(e,t.queryKey)&&Object.assign(r,t.defaultOptions)}),r}setMutationDefaults(e,t){te(this,I).set(Fh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...te(this,I).values()],r={};return t.forEach(t=>{Uh(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t=X(Y(Y(Y({},te(this,D).queries),this.getQueryDefaults(e.queryKey)),e),{_defaulted:!0});return t.queryHash||(t.queryHash=Lh(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Gh&&(t.enabled=!1),t}defaultMutationOptions(e){return(null==e?void 0:e._defaulted)?e:X(Y(Y(Y({},te(this,D).mutations),(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{_defaulted:!0})}clear(){te(this,A).clear(),te(this,O).clear()}},A=new WeakMap,O=new WeakMap,D=new WeakMap,M=new WeakMap,I=new WeakMap,L=new WeakMap,F=new WeakMap,U=new WeakMap,$),bf=ae.createContext(void 0),xf=e=>{const t=ae.useContext(bf);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},wf=({client:e,children:t})=>(ae.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Te.jsx(bf.Provider,{value:e,children:t}));const _f=new vf({defaultOptions:{queries:{staleTime:3e5,retry:1}}}),jf=({children:e})=>Te.jsx(wf,{client:_f,children:e}),Sf=ae.createContext({touch:()=>{}});function kf({children:e}){return ae.useEffect(()=>{const e=Hu.channel("cars-root").on("postgres_changes",{event:"*",schema:"public",table:"car_inventory"},e=>{window.dispatchEvent(new CustomEvent("carsChanged",{detail:{eventType:e.eventType,table:e.table,record:e.new||e.old}}))}).subscribe();return()=>{Hu.removeChannel(e)}},[]),Te.jsx(Sf.Provider,{value:{touch:()=>{}},children:e})}const Ef=new Map;function Nf(e,t,r){let n=`Supabase ${e} failed`;r&&(n+=`, ${r}`),function(e,t,r,n={}){var s;const{throttle:o=!0,level:i="error"}=n;if(o){const t=Date.now(),r=Ef.get(e);if(r&&t-r<5e3)return;Ef.set(e,t)}const a=console[i];if(r){if("42P01"===(null==r?void 0:r.code)&&(null==(s=null==r?void 0:r.message)?void 0:s.includes("does not exist")))return;if("42703"===(null==r?void 0:r.code)||"PGRST200"===(null==r?void 0:r.code))return;a(t,r)}else a(t)}(`supabase_${e}`,n,t,{throttle:!0})}const Cf=zo("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-monza-yellow text-monza-black hover:bg-monza-yellow/80",secondary:"border-transparent bg-monza-grey text-white hover:bg-monza-grey/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-monza-grey border-monza-grey/30"}},defaultVariants:{variant:"default"}});function Tf(e){var t=e,{className:r,variant:n}=t,s=Z(t,["className","variant"]);return Te.jsx("div",Y({className:Ua(Cf({variant:n}),r)},s))}var Pf=ce[" useId ".trim().toString()]||(()=>{}),Rf=0;function Af(e){const[t,r]=ae.useState(Pf());return Ws(()=>{r(e=>null!=e?e:String(Rf++))},[e]),t?`radix-${t}`:""}var Of=ae.createContext(void 0);function Df(e){const t=ae.useContext(Of);return e||t||"ltr"}var Mf="rovingFocusGroup.onEntryFocus",If={bubbles:!1,cancelable:!0},Lf="RovingFocusGroup",[Ff,Uf,$f]=Cs(Lf),[zf,qf]=xs(Lf,[$f]),[Wf,Bf]=zf(Lf),Vf=ae.forwardRef((e,t)=>Te.jsx(Ff.Provider,{scope:e.__scopeRovingFocusGroup,children:Te.jsx(Ff.Slot,{scope:e.__scopeRovingFocusGroup,children:Te.jsx(Hf,X(Y({},e),{ref:t}))})}));Vf.displayName=Lf;var Hf=ae.forwardRef((e,t)=>{const r=e,{__scopeRovingFocusGroup:n,orientation:s,loop:o=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1}=r,h=Z(r,["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"]),f=ae.useRef(null),p=bs(t,f),m=Df(i),[g,y]=Gs({prop:a,defaultProp:null!=l?l:null,onChange:c,caller:Lf}),[v,b]=ae.useState(!1),x=Rs(d),w=Uf(n),_=ae.useRef(!1),[j,S]=ae.useState(0);return ae.useEffect(()=>{const e=f.current;if(e)return e.addEventListener(Mf,x),()=>e.removeEventListener(Mf,x)},[x]),Te.jsx(Wf,{scope:n,orientation:s,dir:m,loop:o,currentTabStopId:g,onItemFocus:ae.useCallback(e=>y(e),[y]),onItemShiftTab:ae.useCallback(()=>b(!0),[]),onFocusableItemAdd:ae.useCallback(()=>S(e=>e+1),[]),onFocusableItemRemove:ae.useCallback(()=>S(e=>e-1),[]),children:Te.jsx(Ts.div,X(Y({tabIndex:v||0===j?-1:0,"data-orientation":s},h),{ref:p,style:Y({outline:"none"},e.style),onMouseDown:gs(e.onMouseDown,()=>{_.current=!0}),onFocus:gs(e.onFocus,e=>{const t=!_.current;if(e.target===e.currentTarget&&t&&!v){const t=new CustomEvent(Mf,If);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=w().filter(e=>e.focusable);Yf([e.find(e=>e.active),e.find(e=>e.id===g),...e].filter(Boolean).map(e=>e.ref.current),u)}}_.current=!1}),onBlur:gs(e.onBlur,()=>b(!1))}))})}),Kf="RovingFocusGroupItem",Gf=ae.forwardRef((e,t)=>{const r=e,{__scopeRovingFocusGroup:n,focusable:s=!0,active:o=!1,tabStopId:i,children:a}=r,l=Z(r,["__scopeRovingFocusGroup","focusable","active","tabStopId","children"]),c=Af(),d=i||c,u=Bf(Kf,n),h=u.currentTabStopId===d,f=Uf(n),{onFocusableItemAdd:p,onFocusableItemRemove:m,currentTabStopId:g}=u;return ae.useEffect(()=>{if(s)return p(),()=>m()},[s,p,m]),Te.jsx(Ff.ItemSlot,{scope:n,id:d,focusable:s,active:o,children:Te.jsx(Ts.span,X(Y({tabIndex:h?0:-1,"data-orientation":u.orientation},l),{ref:t,onMouseDown:gs(e.onMouseDown,e=>{s?u.onItemFocus(d):e.preventDefault()}),onFocus:gs(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:gs(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void u.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,r){const n=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,r);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(n)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)?void 0:Jf[n]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=f().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){"prev"===t&&s.reverse();const o=s.indexOf(e.currentTarget);s=u.loop?(n=o+1,(r=s).map((e,t)=>r[(n+t)%r.length])):s.slice(o+1)}setTimeout(()=>Yf(s))}var r,n}),children:"function"==typeof a?a({isCurrentTabStop:h,hasTabStop:null!=g}):a}))})});Gf.displayName=Kf;var Jf={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Yf(e,t=!1){const r=document.activeElement;for(const n of e){if(n===r)return;if(n.focus({preventScroll:t}),document.activeElement!==r)return}}var Xf=Vf,Zf=Gf,Qf="Tabs",[ep,tp]=xs(Qf,[qf]),rp=qf(),[np,sp]=ep(Qf),op=ae.forwardRef((e,t)=>{const r=e,{__scopeTabs:n,value:s,onValueChange:o,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic"}=r,d=Z(r,["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"]),u=Df(l),[h,f]=Gs({prop:s,onChange:o,defaultProp:null!=i?i:"",caller:Qf});return Te.jsx(np,{scope:n,baseId:Af(),value:h,onValueChange:f,orientation:a,dir:u,activationMode:c,children:Te.jsx(Ts.div,X(Y({dir:u,"data-orientation":a},d),{ref:t}))})});op.displayName=Qf;var ip="TabsList",ap=ae.forwardRef((e,t)=>{const r=e,{__scopeTabs:n,loop:s=!0}=r,o=Z(r,["__scopeTabs","loop"]),i=sp(ip,n),a=rp(n);return Te.jsx(Xf,X(Y({asChild:!0},a),{orientation:i.orientation,dir:i.dir,loop:s,children:Te.jsx(Ts.div,X(Y({role:"tablist","aria-orientation":i.orientation},o),{ref:t}))}))});ap.displayName=ip;var lp="TabsTrigger",cp=ae.forwardRef((e,t)=>{const r=e,{__scopeTabs:n,value:s,disabled:o=!1}=r,i=Z(r,["__scopeTabs","value","disabled"]),a=sp(lp,n),l=rp(n),c=hp(a.baseId,s),d=fp(a.baseId,s),u=s===a.value;return Te.jsx(Zf,X(Y({asChild:!0},l),{focusable:!o,active:u,children:Te.jsx(Ts.button,X(Y({type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:c},i),{ref:t,onMouseDown:gs(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():a.onValueChange(s)}),onKeyDown:gs(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&a.onValueChange(s)}),onFocus:gs(e.onFocus,()=>{const e="manual"!==a.activationMode;u||o||!e||a.onValueChange(s)})}))}))});cp.displayName=lp;var dp="TabsContent",up=ae.forwardRef((e,t)=>{const r=e,{__scopeTabs:n,value:s,forceMount:o,children:i}=r,a=Z(r,["__scopeTabs","value","forceMount","children"]),l=sp(dp,n),c=hp(l.baseId,s),d=fp(l.baseId,s),u=s===l.value,h=ae.useRef(u);return ae.useEffect(()=>{const e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),Te.jsx(Vs,{present:o||u,children:({present:r})=>Te.jsx(Ts.div,X(Y({"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!r,id:d,tabIndex:0},a),{ref:t,style:X(Y({},e.style),{animationDuration:h.current?"0s":void 0}),children:r&&i}))})});function hp(e,t){return`${e}-trigger-${t}`}function fp(e,t){return`${e}-content-${t}`}up.displayName=dp;var pp=ap,mp=cp,gp=up;const yp=op,vp=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx(pp,Y({ref:t,className:Ua("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n)},s))});vp.displayName=pp.displayName;const bp=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx(mp,Y({ref:t,className:Ua("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n)},s))});bp.displayName=mp.displayName;const xp=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx(gp,Y({ref:t,className:Ua("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n)},s))});xp.displayName=gp.displayName;var wp="focusScope.autoFocusOnMount",_p="focusScope.autoFocusOnUnmount",jp={bubbles:!1,cancelable:!0},Sp=ae.forwardRef((e,t)=>{const r=e,{loop:n=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:i}=r,a=Z(r,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[l,c]=ae.useState(null),d=Rs(o),u=Rs(i),h=ae.useRef(null),f=bs(t,e=>c(e)),p=ae.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;ae.useEffect(()=>{if(s){let e=function(e){if(p.paused||!l)return;const t=e.target;l.contains(t)?h.current=t:Cp(h.current,{select:!0})},t=function(e){if(p.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||Cp(h.current,{select:!0}))},r=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&Cp(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const n=new MutationObserver(r);return l&&n.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[s,l,p.paused]),ae.useEffect(()=>{if(l){Tp.add(p);const t=document.activeElement;if(!l.contains(t)){const r=new CustomEvent(wp,jp);l.addEventListener(wp,d),l.dispatchEvent(r),r.defaultPrevented||(!function(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Cp(n,{select:t}),document.activeElement!==r)return}((e=kp(l),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&Cp(l))}return()=>{l.removeEventListener(wp,d),setTimeout(()=>{const e=new CustomEvent(_p,jp);l.addEventListener(_p,u),l.dispatchEvent(e),e.defaultPrevented||Cp(null!=t?t:document.body,{select:!0}),l.removeEventListener(_p,u),Tp.remove(p)},0)}}var e},[l,d,u,p]);const m=ae.useCallback(e=>{if(!n&&!s)return;if(p.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){const t=e.currentTarget,[s,o]=function(e){const t=kp(e),r=Ep(t,e),n=Ep(t.reverse(),e);return[r,n]}(t);s&&o?e.shiftKey||r!==o?e.shiftKey&&r===s&&(e.preventDefault(),n&&Cp(o,{select:!0})):(e.preventDefault(),n&&Cp(s,{select:!0})):r===t&&e.preventDefault()}},[n,s,p.paused]);return Te.jsx(Ts.div,X(Y({tabIndex:-1},a),{ref:f,onKeyDown:m}))});function kp(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ep(e,t){for(const r of e)if(!Np(r,{upTo:t}))return r}function Np(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Cp(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}Sp.displayName="FocusScope";var Tp=function(){let e=[];return{add(t){const r=e[0];t!==r&&(null==r||r.pause()),e=Pp(e,t),e.unshift(t)},remove(t){var r;e=Pp(e,t),null==(r=e[0])||r.resume()}}}();function Pp(e,t){const r=[...e],n=r.indexOf(t);return-1!==n&&r.splice(n,1),r}var Rp=0;function Ap(){ae.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!=(e=r[0])?e:Op()),document.body.insertAdjacentElement("beforeend",null!=(t=r[1])?t:Op()),Rp++,()=>{1===Rp&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Rp--}},[])}function Op(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Dp=function(){return Dp=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Dp.apply(this,arguments)};function Mp(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r}"function"==typeof SuppressedError&&SuppressedError;var Ip="right-scroll-bar-position",Lp="width-before-scroll-bar";function Fp(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var Up="undefined"!=typeof window?ae.useLayoutEffect:ae.useEffect,$p=new WeakMap;function zp(e,t){var r,n,s,o=(r=null,n=function(t){return e.forEach(function(e){return Fp(e,t)})},(s=ae.useState(function(){return{value:r,callback:n,facade:{get current(){return s.value},set current(e){var t=s.value;t!==e&&(s.value=e,s.callback(e,t))}}}})[0]).callback=n,s.facade);return Up(function(){var t=$p.get(o);if(t){var r=new Set(t),n=new Set(e),s=o.current;r.forEach(function(e){n.has(e)||Fp(e,null)}),n.forEach(function(e){r.has(e)||Fp(e,s)})}$p.set(o,e)},[e]),o}function qp(e){return e}var Wp=function(e){var t=e.sideCar,r=Mp(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return ae.createElement(n,Dp({},r))};Wp.isSideCarExport=!0;var Bp=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=qp);var r=[],n=!1;return{read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var s=t(e,n);return r.push(s),function(){r=r.filter(function(e){return e!==s})}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var s=r;r=[],s.forEach(e),t=r}var o=function(){var r=t;t=[],r.forEach(e)},i=function(){return Promise.resolve().then(o)};i(),r={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),r}}}}}(null);return t.options=Dp({async:!0,ssr:!1},e),t}(),Vp=function(){},Hp=ae.forwardRef(function(e,t){var r=ae.useRef(null),n=ae.useState({onScrollCapture:Vp,onWheelCapture:Vp,onTouchMoveCapture:Vp}),s=n[0],o=n[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,u=e.shards,h=e.sideCar,f=e.noRelative,p=e.noIsolation,m=e.inert,g=e.allowPinchZoom,y=e.as,v=void 0===y?"div":y,b=e.gapMode,x=Mp(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,_=zp([r,t]),j=Dp(Dp({},x),s);return ae.createElement(ae.Fragment,null,d&&ae.createElement(w,{sideCar:Bp,removeScrollBar:c,shards:u,noRelative:f,noIsolation:p,inert:m,setCallbacks:o,allowPinchZoom:!!g,lockRef:r,gapMode:b}),i?ae.cloneElement(ae.Children.only(a),Dp(Dp({},j),{ref:_})):ae.createElement(v,Dp({},j,{className:l,ref:_}),a))});Hp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Hp.classNames={fullWidth:Lp,zeroRight:Ip};function Kp(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}var Gp=function(){var e=0,t=null;return{add:function(r){var n,s;0==e&&(t=Kp())&&(s=r,(n=t).styleSheet?n.styleSheet.cssText=s:n.appendChild(document.createTextNode(s)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Jp=function(){var e,t=(e=Gp(),function(t,r){ae.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])});return function(e){var r=e.styles,n=e.dynamic;return t(r,n),null}},Yp={left:0,top:0,right:0,gap:0},Xp=function(e){return parseInt(e||"",10)||0},Zp=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return Yp;var t=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],s=t["padding"===e?"paddingRight":"marginRight"];return[Xp(r),Xp(n),Xp(s)]}(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Qp=Jp(),em="data-scroll-locked",tm=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,a=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(a,"px ").concat(n,";\n  }\n  body[").concat(em,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(s,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(a,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Ip," {\n    right: ").concat(a,"px ").concat(n,";\n  }\n  \n  .").concat(Lp," {\n    margin-right: ").concat(a,"px ").concat(n,";\n  }\n  \n  .").concat(Ip," .").concat(Ip," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(Lp," .").concat(Lp," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(em,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(a,"px;\n  }\n")},rm=function(){var e=parseInt(document.body.getAttribute(em)||"0",10);return isFinite(e)?e:0},nm=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=void 0===n?"margin":n;ae.useEffect(function(){return document.body.setAttribute(em,(rm()+1).toString()),function(){var e=rm()-1;e<=0?document.body.removeAttribute(em):document.body.setAttribute(em,e.toString())}},[]);var o=ae.useMemo(function(){return Zp(s)},[s]);return ae.createElement(Qp,{styles:tm(o,!t,s,r?"":"!important")})},sm=!1;if("undefined"!=typeof window)try{var om=Object.defineProperty({},"passive",{get:function(){return sm=!0,!0}});window.addEventListener("test",om,om),window.removeEventListener("test",om,om)}catch(Tk){sm=!1}var im=!!sm&&{passive:!1},am=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===r[t])},lm=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),cm(e,n)){var s=dm(e,n);if(s[1]>s[2])return!0}n=n.parentNode}while(n&&n!==r.body);return!1},cm=function(e,t){return"v"===e?function(e){return am(e,"overflowY")}(t):function(e){return am(e,"overflowX")}(t)},dm=function(e,t){return"v"===e?[(r=t).scrollTop,r.scrollHeight,r.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var r},um=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},hm=function(e){return[e.deltaX,e.deltaY]},fm=function(e){return e&&"current"in e?e.current:e},pm=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},mm=0,gm=[];function ym(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const vm=(bm=function(e){var t=ae.useRef([]),r=ae.useRef([0,0]),n=ae.useRef(),s=ae.useState(mm++)[0],o=ae.useState(Jp)[0],i=ae.useRef(e);ae.useEffect(function(){i.current=e},[e]),ae.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var t=function(e,t,r){if(r||2===arguments.length)for(var n,s=0,o=t.length;s<o;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return e.concat(n||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(fm),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=ae.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!i.current.allowPinchZoom;var s,o=um(e),a=r.current,l="deltaX"in e?e.deltaX:a[0]-o[0],c="deltaY"in e?e.deltaY:a[1]-o[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var h=lm(u,d);if(!h)return!0;if(h?s=u:(s="v"===u?"h":"v",h=lm(u,d)),!h)return!1;if(!n.current&&"changedTouches"in e&&(l||c)&&(n.current=s),!s)return!0;var f=n.current||s;return function(e,t,r,n){var s=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),o=s*n,i=r.target,a=t.contains(i),l=!1,c=o>0,d=0,u=0;do{if(!i)break;var h=dm(e,i),f=h[0],p=h[1]-h[2]-s*f;(f||p)&&cm(e,i)&&(d+=p,u+=f);var m=i.parentNode;i=m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?m.host:m}while(!a&&i!==document.body||a&&(t.contains(i)||t===i));return(c&&Math.abs(d)<1||!c&&Math.abs(u)<1)&&(l=!0),l}(f,t,e,"h"===f?l:c)},[]),l=ae.useCallback(function(e){var r=e;if(gm.length&&gm[gm.length-1]===o){var n="deltaY"in r?hm(r):um(r),s=t.current.filter(function(e){return e.name===r.type&&(e.target===r.target||r.target===e.shadowParent)&&(t=e.delta,s=n,t[0]===s[0]&&t[1]===s[1]);var t,s})[0];if(s&&s.should)r.cancelable&&r.preventDefault();else if(!s){var l=(i.current.shards||[]).map(fm).filter(Boolean).filter(function(e){return e.contains(r.target)});(l.length>0?a(r,l[0]):!i.current.noIsolation)&&r.cancelable&&r.preventDefault()}}},[]),c=ae.useCallback(function(e,r,n,s){var o={name:e,delta:r,target:n,should:s,shadowParent:ym(n)};t.current.push(o),setTimeout(function(){t.current=t.current.filter(function(e){return e!==o})},1)},[]),d=ae.useCallback(function(e){r.current=um(e),n.current=void 0},[]),u=ae.useCallback(function(t){c(t.type,hm(t),t.target,a(t,e.lockRef.current))},[]),h=ae.useCallback(function(t){c(t.type,um(t),t.target,a(t,e.lockRef.current))},[]);ae.useEffect(function(){return gm.push(o),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",l,im),document.addEventListener("touchmove",l,im),document.addEventListener("touchstart",d,im),function(){gm=gm.filter(function(e){return e!==o}),document.removeEventListener("wheel",l,im),document.removeEventListener("touchmove",l,im),document.removeEventListener("touchstart",d,im)}},[]);var f=e.removeScrollBar,p=e.inert;return ae.createElement(ae.Fragment,null,p?ae.createElement(o,{styles:pm(s)}):null,f?ae.createElement(nm,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},Bp.useMedium(bm),Wp);var bm,xm=ae.forwardRef(function(e,t){return ae.createElement(Hp,Dp({},e,{ref:t,sideCar:vm}))});xm.classNames=Hp.classNames;var wm=new WeakMap,_m=new WeakMap,jm={},Sm=0,km=function(e){return e&&(e.host||km(e.parentNode))},Em=function(e,t,r,n){var s=function(e,t){return t.map(function(t){if(e.contains(t))return t;var r=km(t);return r&&e.contains(r)?r:null}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);jm[r]||(jm[r]=new WeakMap);var o=jm[r],i=[],a=new Set,l=new Set(s),c=function(e){e&&!a.has(e)&&(a.add(e),c(e.parentNode))};s.forEach(c);var d=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(a.has(e))d(e);else try{var t=e.getAttribute(n),s=null!==t&&"false"!==t,l=(wm.get(e)||0)+1,c=(o.get(e)||0)+1;wm.set(e,l),o.set(e,c),i.push(e),1===l&&s&&_m.set(e,!0),1===c&&e.setAttribute(r,"true"),s||e.setAttribute(n,"true")}catch(Ck){}})};return d(t),a.clear(),Sm++,function(){i.forEach(function(e){var t=wm.get(e)-1,s=o.get(e)-1;wm.set(e,t),o.set(e,s),t||(_m.has(e)||e.removeAttribute(n),_m.delete(e)),s||e.removeAttribute(r)}),--Sm||(wm=new WeakMap,wm=new WeakMap,_m=new WeakMap,jm={})}},Nm=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),Em(n,s,r,"aria-hidden")):function(){return null}},Cm="Dialog",[Tm,Pm]=xs(Cm),[Rm,Am]=Tm(Cm),Om=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=ae.useRef(null),l=ae.useRef(null),[c,d]=Gs({prop:n,defaultProp:null!=s&&s,onChange:o,caller:Cm});return Te.jsx(Rm,{scope:t,triggerRef:a,contentRef:l,contentId:Af(),titleId:Af(),descriptionId:Af(),open:c,onOpenChange:d,onOpenToggle:ae.useCallback(()=>d(e=>!e),[d]),modal:i,children:r})};Om.displayName=Cm;var Dm="DialogTrigger",Mm=ae.forwardRef((e,t)=>{const r=e,{__scopeDialog:n}=r,s=Z(r,["__scopeDialog"]),o=Am(Dm,n),i=bs(t,o.triggerRef);return Te.jsx(Ts.button,X(Y({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":tg(o.open)},s),{ref:i,onClick:gs(e.onClick,o.onOpenToggle)}))});Mm.displayName=Dm;var Im="DialogPortal",[Lm,Fm]=Tm(Im,{forceMount:void 0}),Um=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Am(Im,t);return Te.jsx(Lm,{scope:t,forceMount:r,children:ae.Children.map(n,e=>Te.jsx(Vs,{present:r||o.open,children:Te.jsx(Bs,{asChild:!0,container:s,children:e})}))})};Um.displayName=Im;var $m="DialogOverlay",zm=ae.forwardRef((e,t)=>{const r=Fm($m,e.__scopeDialog),n=e,{forceMount:s=r.forceMount}=n,o=Z(n,["forceMount"]),i=Am($m,e.__scopeDialog);return i.modal?Te.jsx(Vs,{present:s||i.open,children:Te.jsx(Wm,X(Y({},o),{ref:t}))}):null});zm.displayName=$m;var qm=_s("DialogOverlay.RemoveScroll"),Wm=ae.forwardRef((e,t)=>{const r=e,{__scopeDialog:n}=r,s=Z(r,["__scopeDialog"]),o=Am($m,n);return Te.jsx(xm,{as:qm,allowPinchZoom:!0,shards:[o.contentRef],children:Te.jsx(Ts.div,X(Y({"data-state":tg(o.open)},s),{ref:t,style:Y({pointerEvents:"auto"},s.style)}))})}),Bm="DialogContent",Vm=ae.forwardRef((e,t)=>{const r=Fm(Bm,e.__scopeDialog),n=e,{forceMount:s=r.forceMount}=n,o=Z(n,["forceMount"]),i=Am(Bm,e.__scopeDialog);return Te.jsx(Vs,{present:s||i.open,children:i.modal?Te.jsx(Hm,X(Y({},o),{ref:t})):Te.jsx(Km,X(Y({},o),{ref:t}))})});Vm.displayName=Bm;var Hm=ae.forwardRef((e,t)=>{const r=Am(Bm,e.__scopeDialog),n=ae.useRef(null),s=bs(t,r.contentRef,n);return ae.useEffect(()=>{const e=n.current;if(e)return Nm(e)},[]),Te.jsx(Gm,X(Y({},e),{ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:gs(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null==(t=r.triggerRef.current)||t.focus()}),onPointerDownOutside:gs(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:gs(e.onFocusOutside,e=>e.preventDefault())}))}),Km=ae.forwardRef((e,t)=>{const r=Am(Bm,e.__scopeDialog),n=ae.useRef(!1),s=ae.useRef(!1);return Te.jsx(Gm,X(Y({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var o,i;null==(o=e.onCloseAutoFocus)||o.call(e,t),t.defaultPrevented||(n.current||null==(i=r.triggerRef.current)||i.focus(),t.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:t=>{var o,i;null==(o=e.onInteractOutside)||o.call(e,t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));const a=t.target;(null==(i=r.triggerRef.current)?void 0:i.contains(a))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}}))}),Gm=ae.forwardRef((e,t)=>{const r=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i}=r,a=Z(r,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),l=Am(Bm,n),c=ae.useRef(null),d=bs(t,c);return Ap(),Te.jsxs(Te.Fragment,{children:[Te.jsx(Sp,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:i,children:Te.jsx(Ls,X(Y({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":tg(l.open)},a),{ref:d,onDismiss:()=>l.onOpenChange(!1)}))}),Te.jsxs(Te.Fragment,{children:[Te.jsx(og,{titleId:l.titleId}),Te.jsx(ig,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Jm="DialogTitle",Ym=ae.forwardRef((e,t)=>{const r=e,{__scopeDialog:n}=r,s=Z(r,["__scopeDialog"]),o=Am(Jm,n);return Te.jsx(Ts.h2,X(Y({id:o.titleId},s),{ref:t}))});Ym.displayName=Jm;var Xm="DialogDescription",Zm=ae.forwardRef((e,t)=>{const r=e,{__scopeDialog:n}=r,s=Z(r,["__scopeDialog"]),o=Am(Xm,n);return Te.jsx(Ts.p,X(Y({id:o.descriptionId},s),{ref:t}))});Zm.displayName=Xm;var Qm="DialogClose",eg=ae.forwardRef((e,t)=>{const r=e,{__scopeDialog:n}=r,s=Z(r,["__scopeDialog"]),o=Am(Qm,n);return Te.jsx(Ts.button,X(Y({type:"button"},s),{ref:t,onClick:gs(e.onClick,()=>o.onOpenChange(!1))}))});function tg(e){return e?"open":"closed"}eg.displayName=Qm;var rg="DialogTitleWarning",[ng,sg]=function(e,t){const r=ae.createContext(t),n=e=>{const t=e,{children:n}=t,s=Z(t,["children"]),o=ae.useMemo(()=>s,Object.values(s));return Te.jsx(r.Provider,{value:o,children:n})};return n.displayName=e+"Provider",[n,function(n){const s=ae.useContext(r);if(s)return s;if(void 0!==t)return t;throw new Error(`\`${n}\` must be used within \`${e}\``)}]}(rg,{contentName:Bm,titleName:Jm,docsSlug:"dialog"}),og=({titleId:e})=>{const t=sg(rg),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return ae.useEffect(()=>{if(e){document.getElementById(e)}},[r,e]),null},ig=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sg("DialogDescriptionWarning").contentName}}.`;return ae.useEffect(()=>{var r;const n=null==(r=e.current)?void 0:r.getAttribute("aria-describedby");if(t&&n){document.getElementById(t)}},[r,e,t]),null},ag=Om,lg=Mm,cg=Um,dg=zm,ug=Vm,hg=Ym,fg=Zm,pg=eg;const mg=ag,gg=lg,yg=cg,vg=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx(dg,Y({"data-radix-dialog-overlay":!0,ref:t,className:Ua("fixed inset-0 bg-black/60 z-[2147483000]",n)},s))});vg.displayName="DialogOverlay";const bg=ae.forwardRef((e,t)=>{var r=e,{className:n,preventOutsideClose:s=!1,overlayClassName:o,children:i}=r,a=Z(r,["className","preventOutsideClose","overlayClassName","children"]);return Te.jsxs(yg,{children:[Te.jsx(vg,{className:o}),Te.jsx(ug,X(Y(X(Y({ref:t,"data-radix-dialog-content":!0},s?{onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault()}:{}),{className:Ua("fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-[2147483001]","w-full max-w-2xl rounded-xl bg-white shadow-xl outline-none p-6",n),onClick:e=>e.stopPropagation()}),a),{children:i}))]})});bg.displayName="DialogContent";const xg=e=>{var t=e,{className:r}=t,n=Z(t,["className"]);return Te.jsx("div",Y({className:Ua("flex flex-col space-y-1.5 text-left",r)},n))};xg.displayName="DialogHeader";const wg=e=>{var t=e,{className:r}=t,n=Z(t,["className"]);return Te.jsx("div",Y({className:Ua("flex items-center justify-end gap-2",r)},n))};wg.displayName="DialogFooter";const _g=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx(hg,Y({ref:t,className:Ua("text-xl font-semibold leading-none tracking-tight",n)},s))});_g.displayName="DialogTitle";const jg=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx(fg,Y({ref:t,className:Ua("text-sm text-muted-foreground",n)},s))});jg.displayName="DialogDescription";const Sg=ae.forwardRef((e,t)=>{var r=e,{className:n,type:s}=r,o=Z(r,["className","type"]);return Te.jsx("input",Y({type:s,className:Ua("flex h-12 w-full rounded-none border border-input bg-background px-5 py-3 text-base text-center ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground placeholder:text-center focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t},o))});Sg.displayName="Input";var kg=ae.forwardRef((e,t)=>Te.jsx(Ts.label,X(Y({},e),{ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));kg.displayName="Label";var Eg=kg;const Ng=zo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Cg=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx(Eg,Y({ref:t,className:Ua(Ng(),n)},s))});function Tg(e,[t,r]){return Math.min(r,Math.max(t,e))}Cg.displayName=Eg.displayName;var Pg="ScrollArea",[Rg,Ag]=xs(Pg),[Og,Dg]=Rg(Pg),Mg=ae.forwardRef((e,t)=>{const r=e,{__scopeScrollArea:n,type:s="hover",dir:o,scrollHideDelay:i=600}=r,a=Z(r,["__scopeScrollArea","type","dir","scrollHideDelay"]),[l,c]=ae.useState(null),[d,u]=ae.useState(null),[h,f]=ae.useState(null),[p,m]=ae.useState(null),[g,y]=ae.useState(null),[v,b]=ae.useState(0),[x,w]=ae.useState(0),[_,j]=ae.useState(!1),[S,k]=ae.useState(!1),E=bs(t,e=>c(e)),N=Df(o);return Te.jsx(Og,{scope:n,type:s,dir:N,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:_,onScrollbarXEnabledChange:j,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:S,onScrollbarYEnabledChange:k,onCornerWidthChange:b,onCornerHeightChange:w,children:Te.jsx(Ts.div,X(Y({dir:N},a),{ref:E,style:Y({position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":x+"px"},e.style)}))})});Mg.displayName=Pg;var Ig="ScrollAreaViewport",Lg=ae.forwardRef((e,t)=>{const r=e,{__scopeScrollArea:n,children:s,nonce:o}=r,i=Z(r,["__scopeScrollArea","children","nonce"]),a=Dg(Ig,n),l=bs(t,ae.useRef(null),a.onViewportChange);return Te.jsxs(Te.Fragment,{children:[Te.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),Te.jsx(Ts.div,X(Y({"data-radix-scroll-area-viewport":""},i),{ref:l,style:Y({overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden"},e.style),children:Te.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:s})}))]})});Lg.displayName=Ig;var Fg="ScrollAreaScrollbar",Ug=ae.forwardRef((e,t)=>{const r=e,{forceMount:n}=r,s=Z(r,["forceMount"]),o=Dg(Fg,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=o,l="horizontal"===e.orientation;return ae.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),"hover"===o.type?Te.jsx($g,X(Y({},s),{ref:t,forceMount:n})):"scroll"===o.type?Te.jsx(zg,X(Y({},s),{ref:t,forceMount:n})):"auto"===o.type?Te.jsx(qg,X(Y({},s),{ref:t,forceMount:n})):"always"===o.type?Te.jsx(Wg,X(Y({},s),{ref:t})):null});Ug.displayName=Fg;var $g=ae.forwardRef((e,t)=>{const r=e,{forceMount:n}=r,s=Z(r,["forceMount"]),o=Dg(Fg,e.__scopeScrollArea),[i,a]=ae.useState(!1);return ae.useEffect(()=>{const e=o.scrollArea;let t=0;if(e){const r=()=>{window.clearTimeout(t),a(!0)},n=()=>{t=window.setTimeout(()=>a(!1),o.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",n),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",n)}}},[o.scrollArea,o.scrollHideDelay]),Te.jsx(Vs,{present:n||i,children:Te.jsx(qg,X(Y({"data-state":i?"visible":"hidden"},s),{ref:t}))})}),zg=ae.forwardRef((e,t)=>{const r=e,{forceMount:n}=r,s=Z(r,["forceMount"]),o=Dg(Fg,e.__scopeScrollArea),i="horizontal"===e.orientation,a=ly(()=>c("SCROLL_END"),100),[l,c]=(d="hidden",u={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},ae.useReducer((e,t)=>{const r=u[e][t];return null!=r?r:e},d));var d,u;return ae.useEffect(()=>{if("idle"===l){const e=window.setTimeout(()=>c("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(e)}},[l,o.scrollHideDelay,c]),ae.useEffect(()=>{const e=o.viewport,t=i?"scrollLeft":"scrollTop";if(e){let r=e[t];const n=()=>{const n=e[t];r!==n&&(c("SCROLL"),a()),r=n};return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)}},[o.viewport,i,c,a]),Te.jsx(Vs,{present:n||"hidden"!==l,children:Te.jsx(Wg,X(Y({"data-state":"hidden"===l?"hidden":"visible"},s),{ref:t,onPointerEnter:gs(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:gs(e.onPointerLeave,()=>c("POINTER_LEAVE"))}))})}),qg=ae.forwardRef((e,t)=>{const r=Dg(Fg,e.__scopeScrollArea),n=e,{forceMount:s}=n,o=Z(n,["forceMount"]),[i,a]=ae.useState(!1),l="horizontal"===e.orientation,c=ly(()=>{if(r.viewport){const e=r.viewport.offsetWidth<r.viewport.scrollWidth,t=r.viewport.offsetHeight<r.viewport.scrollHeight;a(l?e:t)}},10);return cy(r.viewport,c),cy(r.content,c),Te.jsx(Vs,{present:s||i,children:Te.jsx(Wg,X(Y({"data-state":i?"visible":"hidden"},o),{ref:t}))})}),Wg=ae.forwardRef((e,t)=>{const r=e,{orientation:n="vertical"}=r,s=Z(r,["orientation"]),o=Dg(Fg,e.__scopeScrollArea),i=ae.useRef(null),a=ae.useRef(0),[l,c]=ae.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=ry(l.viewport,l.content),u=X(Y({},s),{sizes:l,onSizesChange:c,hasThumb:Boolean(d>0&&d<1),onThumbChange:e=>i.current=e,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:e=>a.current=e});function h(e,t){return function(e,t,r,n="ltr"){const s=ny(r),o=s/2,i=t||o,a=s-i,l=r.scrollbar.paddingStart+i,c=r.scrollbar.size-r.scrollbar.paddingEnd-a,d=r.content-r.viewport,u="ltr"===n?[0,d]:[-1*d,0];return oy([l,c],u)(e)}(e,a.current,l,t)}return"horizontal"===n?Te.jsx(Bg,X(Y({},u),{ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const e=sy(o.viewport.scrollLeft,l,o.dir);i.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{o.viewport&&(o.viewport.scrollLeft=e)},onDragScroll:e=>{o.viewport&&(o.viewport.scrollLeft=h(e,o.dir))}})):"vertical"===n?Te.jsx(Vg,X(Y({},u),{ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const e=sy(o.viewport.scrollTop,l);i.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{o.viewport&&(o.viewport.scrollTop=e)},onDragScroll:e=>{o.viewport&&(o.viewport.scrollTop=h(e))}})):null}),Bg=ae.forwardRef((e,t)=>{const r=e,{sizes:n,onSizesChange:s}=r,o=Z(r,["sizes","onSizesChange"]),i=Dg(Fg,e.__scopeScrollArea),[a,l]=ae.useState(),c=ae.useRef(null),d=bs(t,c,i.onScrollbarXChange);return ae.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),Te.jsx(Gg,X(Y({"data-orientation":"horizontal"},o),{ref:d,sizes:n,style:Y({bottom:0,left:"rtl"===i.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===i.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ny(n)+"px"},e.style),onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(i.viewport){const n=i.viewport.scrollLeft+t.deltaX;e.onWheelScroll(n),iy(n,r)&&t.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ty(a.paddingLeft),paddingEnd:ty(a.paddingRight)}})}}))}),Vg=ae.forwardRef((e,t)=>{const r=e,{sizes:n,onSizesChange:s}=r,o=Z(r,["sizes","onSizesChange"]),i=Dg(Fg,e.__scopeScrollArea),[a,l]=ae.useState(),c=ae.useRef(null),d=bs(t,c,i.onScrollbarYChange);return ae.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),Te.jsx(Gg,X(Y({"data-orientation":"vertical"},o),{ref:d,sizes:n,style:Y({top:0,right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ny(n)+"px"},e.style),onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(i.viewport){const n=i.viewport.scrollTop+t.deltaY;e.onWheelScroll(n),iy(n,r)&&t.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ty(a.paddingTop),paddingEnd:ty(a.paddingBottom)}})}}))}),[Hg,Kg]=Rg(Fg),Gg=ae.forwardRef((e,t)=>{const r=e,{__scopeScrollArea:n,sizes:s,hasThumb:o,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h}=r,f=Z(r,["__scopeScrollArea","sizes","hasThumb","onThumbChange","onThumbPointerUp","onThumbPointerDown","onThumbPositionChange","onDragScroll","onWheelScroll","onResize"]),p=Dg(Fg,n),[m,g]=ae.useState(null),y=bs(t,e=>g(e)),v=ae.useRef(null),b=ae.useRef(""),x=p.viewport,w=s.content-s.viewport,_=Rs(u),j=Rs(c),S=ly(h,10);function k(e){if(v.current){const t=e.clientX-v.current.left,r=e.clientY-v.current.top;d({x:t,y:r})}}return ae.useEffect(()=>{const e=e=>{const t=e.target;(null==m?void 0:m.contains(t))&&_(e,w)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[x,m,w,_]),ae.useEffect(j,[s,j]),cy(m,S),cy(p.content,S),Te.jsx(Hg,{scope:n,scrollbar:m,hasThumb:o,onThumbChange:Rs(i),onThumbPointerUp:Rs(a),onThumbPositionChange:j,onThumbPointerDown:Rs(l),children:Te.jsx(Ts.div,X(Y({},f),{ref:y,style:Y({position:"absolute"},f.style),onPointerDown:gs(e.onPointerDown,e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),v.current=m.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(e)}}),onPointerMove:gs(e.onPointerMove,k),onPointerUp:gs(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),v.current=null})}))})}),Jg="ScrollAreaThumb",Yg=ae.forwardRef((e,t)=>{const r=e,{forceMount:n}=r,s=Z(r,["forceMount"]),o=Kg(Jg,e.__scopeScrollArea);return Te.jsx(Vs,{present:n||o.hasThumb,children:Te.jsx(Xg,Y({ref:t},s))})}),Xg=ae.forwardRef((e,t)=>{const r=e,{__scopeScrollArea:n,style:s}=r,o=Z(r,["__scopeScrollArea","style"]),i=Dg(Jg,n),a=Kg(Jg,n),{onThumbPositionChange:l}=a,c=bs(t,e=>a.onThumbChange(e)),d=ae.useRef(void 0),u=ly(()=>{d.current&&(d.current(),d.current=void 0)},100);return ae.useEffect(()=>{const e=i.viewport;if(e){const t=()=>{if(u(),!d.current){const t=ay(e,l);d.current=t,l()}};return l(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[i.viewport,u,l]),Te.jsx(Ts.div,X(Y({"data-state":a.hasThumb?"visible":"hidden"},o),{ref:c,style:Y({width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)"},s),onPointerDownCapture:gs(e.onPointerDownCapture,e=>{const t=e.target.getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top;a.onThumbPointerDown({x:r,y:n})}),onPointerUp:gs(e.onPointerUp,a.onThumbPointerUp)}))});Yg.displayName=Jg;var Zg="ScrollAreaCorner",Qg=ae.forwardRef((e,t)=>{const r=Dg(Zg,e.__scopeScrollArea),n=Boolean(r.scrollbarX&&r.scrollbarY);return"scroll"!==r.type&&n?Te.jsx(ey,X(Y({},e),{ref:t})):null});Qg.displayName=Zg;var ey=ae.forwardRef((e,t)=>{const r=e,{__scopeScrollArea:n}=r,s=Z(r,["__scopeScrollArea"]),o=Dg(Zg,n),[i,a]=ae.useState(0),[l,c]=ae.useState(0),d=Boolean(i&&l);return cy(o.scrollbarX,()=>{var e;const t=(null==(e=o.scrollbarX)?void 0:e.offsetHeight)||0;o.onCornerHeightChange(t),c(t)}),cy(o.scrollbarY,()=>{var e;const t=(null==(e=o.scrollbarY)?void 0:e.offsetWidth)||0;o.onCornerWidthChange(t),a(t)}),d?Te.jsx(Ts.div,X(Y({},s),{ref:t,style:Y({width:i,height:l,position:"absolute",right:"ltr"===o.dir?0:void 0,left:"rtl"===o.dir?0:void 0,bottom:0},e.style)})):null});function ty(e){return e?parseInt(e,10):0}function ry(e,t){const r=e/t;return isNaN(r)?0:r}function ny(e){const t=ry(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function sy(e,t,r="ltr"){const n=ny(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,a=o-n,l=Tg(e,"ltr"===r?[0,i]:[-1*i,0]);return oy([0,i],[0,a])(l)}function oy(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function iy(e,t){return e>0&&e<t}var ay=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,a=r.top!==o.top;(i||a)&&t(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function ly(e,t){const r=Rs(e),n=ae.useRef(0);return ae.useEffect(()=>()=>window.clearTimeout(n.current),[]),ae.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function cy(e,t){const r=Rs(t);Ws(()=>{let t=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(t),n.unobserve(e)}}},[e,r])}var dy=Mg,uy=Lg,hy=Qg;const fy=ae.forwardRef((e,t)=>{var r=e,{className:n,children:s}=r,o=Z(r,["className","children"]);return Te.jsxs(dy,X(Y({ref:t,className:Ua("relative overflow-hidden",n)},o),{children:[Te.jsx(uy,{className:"h-full w-full rounded-[inherit]",children:s}),Te.jsx(py,{}),Te.jsx(hy,{})]}))});fy.displayName=dy.displayName;const py=ae.forwardRef((e,t)=>{var r=e,{className:n,orientation:s="vertical"}=r,o=Z(r,["className","orientation"]);return Te.jsx(Ug,X(Y({ref:t,orientation:s,className:Ua("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n)},o),{children:Te.jsx(Yg,{className:"relative flex-1 rounded-full bg-border"})}))});py.displayName=Ug.displayName;var my={exports:{}},gy={},yy=ae;var vy="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},by=yy.useState,xy=yy.useEffect,wy=yy.useLayoutEffect,_y=yy.useDebugValue;function jy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!vy(e,r)}catch(n){return!0}}var Sy="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=by({inst:{value:r,getSnapshot:t}}),s=n[0].inst,o=n[1];return wy(function(){s.value=r,s.getSnapshot=t,jy(s)&&o({inst:s})},[e,r,t]),xy(function(){return jy(s)&&o({inst:s}),e(function(){jy(s)&&o({inst:s})})},[e]),_y(r),r};gy.useSyncExternalStore=void 0!==yy.useSyncExternalStore?yy.useSyncExternalStore:Sy,my.exports=gy;var ky=my.exports;function Ey(){return()=>{}}var Ny="Avatar",[Cy,Ty]=xs(Ny),[Py,Ry]=Cy(Ny),Ay=ae.forwardRef((e,t)=>{const r=e,{__scopeAvatar:n}=r,s=Z(r,["__scopeAvatar"]),[o,i]=ae.useState("idle");return Te.jsx(Py,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:i,children:Te.jsx(Ts.span,X(Y({},s),{ref:t}))})});Ay.displayName=Ny;var Oy="AvatarImage",Dy=ae.forwardRef((e,t)=>{const r=e,{__scopeAvatar:n,src:s,onLoadingStatusChange:o=()=>{}}=r,i=Z(r,["__scopeAvatar","src","onLoadingStatusChange"]),a=Ry(Oy,n),l=function(e,{referrerPolicy:t,crossOrigin:r}){const n=ky.useSyncExternalStore(Ey,()=>!0,()=>!1),s=ae.useRef(null),o=n?(s.current||(s.current=new window.Image),s.current):null,[i,a]=ae.useState(()=>Ly(o,e));return Ws(()=>{a(Ly(o,e))},[o,e]),Ws(()=>{const e=e=>()=>{a(e)};if(!o)return;const n=e("loaded"),s=e("error");return o.addEventListener("load",n),o.addEventListener("error",s),t&&(o.referrerPolicy=t),"string"==typeof r&&(o.crossOrigin=r),()=>{o.removeEventListener("load",n),o.removeEventListener("error",s)}},[o,r,t]),i}(s,i),c=Rs(e=>{o(e),a.onImageLoadingStatusChange(e)});return Ws(()=>{"idle"!==l&&c(l)},[l,c]),"loaded"===l?Te.jsx(Ts.img,X(Y({},i),{ref:t,src:s})):null});Dy.displayName=Oy;var My="AvatarFallback",Iy=ae.forwardRef((e,t)=>{const r=e,{__scopeAvatar:n,delayMs:s}=r,o=Z(r,["__scopeAvatar","delayMs"]),i=Ry(My,n),[a,l]=ae.useState(void 0===s);return ae.useEffect(()=>{if(void 0!==s){const e=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(e)}},[s]),a&&"loaded"!==i.imageLoadingStatus?Te.jsx(Ts.span,X(Y({},o),{ref:t})):null});function Ly(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}Iy.displayName=My;var Fy=Ay,Uy=Dy,$y=Iy;const zy=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx(Fy,Y({ref:t,className:Ua("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n)},s))});zy.displayName=Fy.displayName;const qy=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx(Uy,Y({ref:t,className:Ua("aspect-square h-full w-full",n)},s))});qy.displayName=Uy.displayName;const Wy=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx($y,Y({ref:t,className:Ua("flex h-full w-full items-center justify-center rounded-full bg-muted",n)},s))});Wy.displayName=$y.displayName;const By=new class{constructor(){Q(this,"currentUser",null)}setCurrentUser(e){this.currentUser=e}createRequest(e){return ie(this,null,function*(){var t,r,n,s;const{data:o,error:i}=yield Hu.from("requests").insert({title:e.title,description:null!=(t=e.description)?t:null,priority:e.priority,status:"open",type:null!=(r=e.category)?r:null,created_by:null==(n=this.currentUser)?void 0:n.id,assigned_to:null!=(s=e.assigned_to)?s:null}).select().single();if(i)throw i;return o})}getRequests(e){return ie(this,null,function*(){let t=Hu.from("requests").select("\n        *,\n        messages (*),\n        created_by_user:user_profiles!requests_created_by_fkey(full_name, role),\n        assigned_to_user:user_profiles!requests_assigned_to_fkey(full_name, role)\n      ").order("created_at",{ascending:!1});(null==e?void 0:e.status)&&(t=t.eq("status",e.status)),(null==e?void 0:e.priority)&&(t=t.eq("priority",e.priority)),(null==e?void 0:e.assigned_to)&&(t=t.eq("assigned_to",e.assigned_to)),(null==e?void 0:e.created_by)&&(t=t.eq("created_by",e.created_by));const{data:r,error:n}=yield t;if(n)throw n;return r||[]})}getRequestById(e){return ie(this,null,function*(){const{data:t,error:r}=yield Hu.from("requests").select("\n        *,\n        messages (*),\n        created_by_user:user_profiles!requests_created_by_fkey(full_name, role),\n        assigned_to_user:user_profiles!requests_assigned_to_fkey(full_name, role)\n      ").eq("id",e).single();if(r)throw r;return t})}updateRequest(e,t){return ie(this,null,function*(){const{data:r,error:n}=yield Hu.from("requests").update(t).eq("id",e).select().single();if(n)throw n;return r})}deleteRequest(e){return ie(this,null,function*(){const{error:t}=yield Hu.from("requests").delete().eq("id",e);if(t)throw t})}createMessage(e){return ie(this,null,function*(){var t;const{data:r,error:n}=yield Hu.from("messages").insert(X(Y({},e),{sender_id:null==(t=this.currentUser)?void 0:t.id})).select().single();if(n)throw n;try{const t=yield this.getRequestById(e.request_id);t&&t.assigned_to&&(yield Hu.from("request_notifications").insert({user_id:t.assigned_to,request_id:t.id,notification_type:"request_message",title:`New message on: ${t.title}`,message:e.message_text.slice(0,140),read:!1}))}catch(Ck){}return r})}getMessagesByRequestId(e){return ie(this,null,function*(){const{data:t,error:r}=yield Hu.from("messages").select("\n        *,\n        sender:user_profiles!messages_sender_id_fkey(full_name, role)\n      ").eq("request_id",e).order("created_at",{ascending:!0});if(r)throw r;return t||[]})}updateMessage(e,t){return ie(this,null,function*(){const{data:r,error:n}=yield Hu.from("messages").update(t).eq("id",e).select().single();if(n)throw n;return r})}deleteMessage(e){return ie(this,null,function*(){const{error:t}=yield Hu.from("messages").delete().eq("id",e);if(t)throw t})}createBroadcast(e){return ie(this,null,function*(){var t;const{data:r,error:n}=yield Hu.from("broadcasts").insert(X(Y({},e),{sender_id:null==(t=this.currentUser)?void 0:t.id})).select().single();if(n)throw n;return r})}getBroadcasts(){return ie(this,null,function*(){const{data:e,error:t}=yield Hu.from("broadcasts").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]})}deleteBroadcast(e){return ie(this,null,function*(){const{error:t}=yield Hu.from("broadcasts").delete().eq("id",e);if(t)throw t})}getNotifications(){return ie(this,null,function*(){var e;const{data:t,error:r}=yield Hu.from("request_notifications").select("*").eq("user_id",null==(e=this.currentUser)?void 0:e.id).eq("read",!1).order("created_at",{ascending:!1});if(r)throw r;return t||[]})}markNotificationAsRead(e){return ie(this,null,function*(){const{error:t}=yield Hu.from("request_notifications").update({read:!0}).eq("id",e);if(t)throw t})}markAllNotificationsAsRead(){return ie(this,null,function*(){var e;const{error:t}=yield Hu.from("request_notifications").update({read:!0}).eq("user_id",null==(e=this.currentUser)?void 0:e.id).eq("read",!1);if(t)throw t})}getUsers(){return ie(this,null,function*(){try{const{data:e,error:t}=yield Hu.from("user_profiles").select("id, full_name, role").order("full_name");if(t)throw t;return e||[]}catch(e){return[{id:"1",full_name:"Houssam",role:"Owner"},{id:"2",full_name:"Samer",role:"Owner"},{id:"3",full_name:"Kareem",role:"Owner"},{id:"4",full_name:"Mark",role:"Garage Manager"},{id:"5",full_name:"Lara",role:"Assistant"},{id:"6",full_name:"Samaya",role:"Assistant"},{id:"7",full_name:"Khalil",role:"Hybrid"},{id:"8",full_name:"Tamara",role:"Hybrid"},{id:"9",full_name:"Elie",role:"Hybrid"}]}})}searchUsers(e){return ie(this,null,function*(){try{const{data:t,error:r}=yield Hu.from("user_profiles").select("id, full_name, role").ilike("full_name",`%${e}%`).order("full_name");if(r)throw r;return t||[]}catch(t){return[{id:"1",full_name:"Houssam",role:"Owner"},{id:"2",full_name:"Samer",role:"Owner"},{id:"3",full_name:"Kareem",role:"Owner"},{id:"4",full_name:"Mark",role:"Garage Manager"},{id:"5",full_name:"Lara",role:"Assistant"},{id:"6",full_name:"Samaya",role:"Assistant"},{id:"7",full_name:"Khalil",role:"Hybrid"},{id:"8",full_name:"Tamara",role:"Hybrid"},{id:"9",full_name:"Elie",role:"Hybrid"}].filter(t=>t.full_name.toLowerCase().includes(e.toLowerCase())||t.role.toLowerCase().includes(e.toLowerCase()))}})}parseMentions(e){const t=/@(\w+)/g,r=[];let n;for(;null!==(n=t.exec(e));)r.push(n[1]);return r}subscribeToRequests(e){return Hu.channel("requests").on("postgres_changes",{event:"*",schema:"public",table:"requests"},e).subscribe()}subscribeToMessages(e){return Hu.channel("messages").on("postgres_changes",{event:"*",schema:"public",table:"messages"},e).subscribe()}subscribeToNotifications(e){return Hu.channel("notifications").on("postgres_changes",{event:"*",schema:"public",table:"request_notifications"},e).subscribe()}},Vy=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx("textarea",Y({className:Ua("flex min-h-[100px] w-full rounded-none border border-input bg-background px-5 py-3 text-base text-center ring-offset-background placeholder:text-muted-foreground placeholder:text-center focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t},s))});function Hy(){const[e,t]=ae.useState(new Set),[r,n]=ae.useState(new Set),[s,o]=ae.useState(!0),{user:i}=Xu();ae.useEffect(()=>{if(!i)return t(new Set),n(new Set),void o(!1);a()},[i]);const a=()=>ie(this,null,function*(){try{o(!0);const{data:e,error:r}=yield Hu.rpc("current_user_permissions");t(r?new Set:new Set(e||[]));const{data:s,error:a}=yield Hu.from("user_roles").select("role_id").eq("user_id",null==i?void 0:i.id);n(a?new Set:new Set((s||[]).map(e=>e.role_id)))}catch(e){t(new Set),n(new Set)}finally{o(!1)}});return{can:t=>"OWNER"===(null==i?void 0:i.role)||e.has(t),hasRole:e=>!(!(null==i?void 0:i.role)||i.role.toUpperCase()!==e.toUpperCase())||r.has(e),permissions:e,roles:r,isLoading:s}}Vy.displayName="Textarea";const Ky=zo("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Gy=ae.forwardRef((e,t)=>{var r=e,{className:n,variant:s}=r,o=Z(r,["className","variant"]);return Te.jsx("div",Y({ref:t,role:"alert",className:Ua(Ky({variant:s}),n)},o))});Gy.displayName="Alert";ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx("h5",Y({ref:t,className:Ua("mb-1 font-medium leading-none tracking-tight",n)},s))}).displayName="AlertTitle";const Jy=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx("div",Y({ref:t,className:Ua("text-sm [&_p]:leading-relaxed",n)},s))});function Yy({permission:e,children:t,fallback:r=null,showError:n=!1}){const{can:s,isLoading:o}=Hy(),{user:i}=Xu();if(o)return Te.jsx("div",{className:"flex items-center justify-center p-4",children:Te.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})});const a="OWNER"===(null==i?void 0:i.role);return s(e)||a?Te.jsx(Te.Fragment,{children:t}):n?Te.jsxs(Gy,{variant:"destructive",children:[Te.jsx(Vo,{className:"h-4 w-4"}),Te.jsxs(Jy,{children:["You don't have permission to access this feature. Required permission: ",e,i&&Te.jsxs("span",{className:"block text-xs mt-1",children:["Current user: ",i.name," (",i.role,")"]})]})]}):Te.jsx(Te.Fragment,{children:r})}Jy.displayName="AlertDescription";const Xy=({open:e,onOpenChange:t,onSubmit:r,initialData:n})=>{var s,o,i,a;const{user:l}=Xu(),{can:c}=Hy(),[d,u]=ae.useState({title:"",description:"",priority:"medium",category:"Other",assigned_to:void 0}),[h,f]=ae.useState([]),[p,m]=ae.useState(""),[g,y]=ae.useState([]),[v,b]=ae.useState(!1),[x,w]=ae.useState(!1),[_,j]=ae.useState(!1);ae.useEffect(()=>{e&&(S(),u(n?{title:n.title||"",description:n.description||"",priority:n.priority||"medium",category:n.category||"Other",assigned_to:n.assigned_to}:{title:"",description:"",priority:"medium",category:"Other",assigned_to:void 0}))},[e,n]),ae.useEffect(()=>{e&&S()},[e]),ae.useEffect(()=>{if(p.trim()){const e=h.filter(e=>{var t,r;return(null==(t=e.full_name)?void 0:t.toLowerCase().includes(p.toLowerCase()))||(null==(r=e.role)?void 0:r.toLowerCase().includes(p.toLowerCase()))});y(e)}else y(h)},[p,h]);const S=()=>ie(void 0,null,function*(){try{j(!0);const e=yield By.getUsers();f(e),y(e)}catch(e){Nf("load users",e,"using fallback");const t=[{id:"1",full_name:"Houssam",role:"Owner"},{id:"2",full_name:"Samer",role:"Owner"},{id:"3",full_name:"Kareem",role:"Owner"},{id:"4",full_name:"Mark",role:"Garage Manager"},{id:"5",full_name:"Lara",role:"Assistant"},{id:"6",full_name:"Samaya",role:"Assistant"},{id:"7",full_name:"Khalil",role:"Hybrid"},{id:"8",full_name:"Tamara",role:"Hybrid"},{id:"9",full_name:"Elie",role:"Hybrid"}];f(t),y(t)}finally{j(!1)}}),k=()=>h.find(e=>e.id===d.assigned_to);return Te.jsx(mg,{open:e,onOpenChange:t,children:Te.jsxs(bg,{className:"sm:max-w-[640px]","aria-describedby":"request-form-description",children:[Te.jsxs(xg,{children:[Te.jsx(_g,{children:n?"Edit Request":"Create New Request"}),Te.jsx("p",{id:"request-form-description",className:"text-sm text-gray-600",children:n?"Update the details of this request":"Fill out the form to create a new request for assistance"})]}),Te.jsxs("form",{onSubmit:e=>ie(void 0,null,function*(){if(e.preventDefault(),d.title.trim()){w(!0);try{yield r(d),t(!1),u({title:"",description:"",priority:"medium",category:"Other",assigned_to:void 0})}catch(n){}finally{w(!1)}}}),className:"space-y-6",children:[Te.jsxs("div",{className:"space-y-2",children:[Te.jsx(Cg,{htmlFor:"title",children:"Title *"}),Te.jsx(Sg,{id:"title",value:d.title,onChange:e=>u(t=>X(Y({},t),{title:e.target.value})),placeholder:"Enter request title...",required:!0})]}),Te.jsxs("div",{className:"space-y-2",children:[Te.jsx(Cg,{htmlFor:"description",children:"Description"}),Te.jsx(Vy,{id:"description",value:d.description,onChange:e=>u(t=>X(Y({},t),{description:e.target.value})),placeholder:"Describe the request details...",rows:4})]}),Te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Te.jsxs("div",{className:"space-y-2",children:[Te.jsx(Cg,{htmlFor:"category",children:"Category"}),Te.jsxs("select",{id:"category",value:d.category,onChange:e=>u(t=>X(Y({},t),{category:e.target.value})),className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[Te.jsx("option",{value:"",disabled:!0,children:"Select category"}),Te.jsx("option",{value:"Part Request",children:"Part Request"}),Te.jsx("option",{value:"Task Help",children:"Task Help"}),Te.jsx("option",{value:"Client Issue",children:"Client Issue"}),Te.jsx("option",{value:"Other",children:"Other"})]})]}),Te.jsxs("div",{className:"space-y-2",children:[Te.jsx(Cg,{htmlFor:"priority",children:"Priority"}),Te.jsxs("select",{id:"priority",value:d.priority,onChange:e=>u(t=>X(Y({},t),{priority:e.target.value})),className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[Te.jsx("option",{value:"low",children:"Low Priority"}),Te.jsx("option",{value:"medium",children:"Medium Priority"}),Te.jsx("option",{value:"high",children:"High Priority"}),c("request.assign")&&Te.jsx("option",{value:"urgent",children:"Urgent Priority"})]})]})]}),Te.jsx(Yy,{permission:"request.assign",children:Te.jsxs("div",{className:"space-y-2",children:[Te.jsx(Cg,{children:"Assign To"}),Te.jsx("div",{className:"relative",children:d.assigned_to?Te.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg",children:[Te.jsx(zy,{className:"h-8 w-8",children:Te.jsx(Wy,{children:(null==(o=null==(s=k())?void 0:s.full_name)?void 0:o.charAt(0))||"U"})}),Te.jsxs("div",{className:"flex-1",children:[Te.jsx("p",{className:"font-medium",children:null==(i=k())?void 0:i.full_name}),Te.jsx("p",{className:"text-sm text-muted-foreground",children:null==(a=k())?void 0:a.role})]}),Te.jsx(Xa,{type:"button",variant:"ghost",size:"sm",onClick:()=>{u(e=>X(Y({},e),{assigned_to:void 0}))},children:Te.jsx(Vi,{className:"h-4 w-4"})})]}):Te.jsxs("button",{type:"button",className:"w-full justify-start bg-white border-2 border-gray-300 hover:bg-gray-50 hover:border-gray-400 text-gray-700 font-medium h-10 px-4 py-2 rounded-md transition-colors !bg-white",style:{backgroundColor:"white",opacity:1,background:"white",backgroundImage:"none",backgroundClip:"padding-box",backgroundOrigin:"initial",backgroundSize:"auto",backgroundRepeat:"repeat",backgroundAttachment:"scroll",backgroundPosition:"0% 0%"},onClick:()=>b(!v),children:[Te.jsx(zi,{className:"h-4 w-4 mr-2"}),"Assign to someone..."]})}),v&&Te.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border-2 border-gray-300 rounded-lg shadow-2xl nuclear-white-bg dropdown-content",style:{backgroundColor:"#ffffff !important",opacity:1,background:"#ffffff !important",mixBlendMode:"normal",position:"absolute",zIndex:50,width:"100%",marginTop:"4px",border:"2px solid #d1d5db",borderRadius:"8px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[Te.jsx("div",{className:"p-3 border-b-2 border-gray-200 bg-gray-50",children:Te.jsxs("div",{className:"relative",children:[Te.jsx(Ri,{className:"absolute left-3 top-3 h-4 w-4 text-gray-500"}),Te.jsx(Sg,{id:"userSearch",name:"userSearch",placeholder:"Search users...",value:p,onChange:e=>m(e.target.value),className:"pl-10 bg-white border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})}),Te.jsx("div",{className:"max-h-60 overflow-y-auto bg-white nuclear-white-bg",style:{scrollbarWidth:"thin",scrollbarColor:"#d1d5db #f3f4f6"},children:Te.jsx("div",{className:"p-2 bg-white nuclear-white-bg",children:_?Te.jsxs("div",{className:"flex items-center justify-center py-8 bg-white nuclear-white-bg",children:[Te.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),Te.jsx("span",{className:"ml-2 text-gray-500",children:"Loading users..."})]}):g.length>0?g.map(e=>{var t;return Te.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-blue-50 rounded-lg cursor-pointer border-b border-gray-100 last:border-b-0 transition-colors bg-white nuclear-white-bg",onClick:()=>{return t=e.id,u(e=>X(Y({},e),{assigned_to:t})),b(!1),void m("");var t},children:[Te.jsx(zy,{className:"h-8 w-8",children:Te.jsx(Wy,{className:"bg-blue-100 text-blue-800",children:(null==(t=e.full_name)?void 0:t.charAt(0))||"U"})}),Te.jsxs("div",{className:"flex-1 nuclear-white-bg",children:[Te.jsx("p",{className:"font-medium text-gray-900",children:e.full_name}),Te.jsx("p",{className:"text-sm text-gray-600",children:e.role})]})]},e.id)}):Te.jsxs("div",{className:"text-center py-6 bg-white nuclear-white-bg",children:[Te.jsx("p",{className:"text-gray-500 mb-2",children:"No users available"}),Te.jsx("p",{className:"text-xs text-gray-400",children:"Please check your connection or try again"})]})})})]})]})}),Te.jsxs("div",{className:"flex justify-end gap-2",children:[Te.jsx(Xa,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:x,children:"Cancel"}),Te.jsx(Xa,{type:"submit",disabled:x||!d.title.trim(),children:x?"Creating...":n?"Update Request":"Create Request"})]})]})]})})},Zy=["top","right","bottom","left"],Qy=Math.min,ev=Math.max,tv=Math.round,rv=Math.floor,nv=e=>({x:e,y:e}),sv={left:"right",right:"left",bottom:"top",top:"bottom"},ov={start:"end",end:"start"};function iv(e,t,r){return ev(e,Qy(t,r))}function av(e,t){return"function"==typeof e?e(t):e}function lv(e){return e.split("-")[0]}function cv(e){return e.split("-")[1]}function dv(e){return"x"===e?"y":"x"}function uv(e){return"y"===e?"height":"width"}const hv=new Set(["top","bottom"]);function fv(e){return hv.has(lv(e))?"y":"x"}function pv(e){return dv(fv(e))}function mv(e){return e.replace(/start|end/g,e=>ov[e])}const gv=["left","right"],yv=["right","left"],vv=["top","bottom"],bv=["bottom","top"];function xv(e,t,r,n){const s=cv(e);let o=function(e,t,r){switch(e){case"top":case"bottom":return r?t?yv:gv:t?gv:yv;case"left":case"right":return t?vv:bv;default:return[]}}(lv(e),"start"===r,n);return s&&(o=o.map(e=>e+"-"+s),t&&(o=o.concat(o.map(mv)))),o}function wv(e){return e.replace(/left|right|bottom|top/g,e=>sv[e])}function _v(e){return"number"!=typeof e?function(e){return Y({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function jv(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Sv(e,t,r){let{reference:n,floating:s}=e;const o=fv(t),i=pv(t),a=uv(i),l=lv(t),c="y"===o,d=n.x+n.width/2-s.width/2,u=n.y+n.height/2-s.height/2,h=n[a]/2-s[a]/2;let f;switch(l){case"top":f={x:d,y:n.y-s.height};break;case"bottom":f={x:d,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:u};break;case"left":f={x:n.x-s.width,y:u};break;default:f={x:n.x,y:n.y}}switch(cv(t)){case"start":f[i]-=h*(r&&c?-1:1);break;case"end":f[i]+=h*(r&&c?-1:1)}return f}function kv(e,t){return ie(this,null,function*(){var r;void 0===t&&(t={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:f=0}=av(t,e),p=_v(f),m=a[h?"floating"===u?"reference":"floating":u],g=jv(yield o.getClippingRect({element:null==(r=yield null==o.isElement?void 0:o.isElement(m))||r?m:m.contextElement||(yield null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),y="floating"===u?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,v=yield null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating),b=(yield null==o.isElement?void 0:o.isElement(v))&&(yield null==o.getScale?void 0:o.getScale(v))||{x:1,y:1},x=jv(o.convertOffsetParentRelativeRectToViewportRelativeRect?yield o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:v,strategy:l}):y);return{top:(g.top-x.top+p.top)/b.y,bottom:(x.bottom-g.bottom+p.bottom)/b.y,left:(g.left-x.left+p.left)/b.x,right:(x.right-g.right+p.right)/b.x}})}function Ev(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Nv(e){return Zy.some(t=>e[t]>=0)}const Cv=new Set(["left","top"]);function Tv(){return"undefined"!=typeof window}function Pv(e){return Ov(e)?(e.nodeName||"").toLowerCase():"#document"}function Rv(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Av(e){var t;return null==(t=(Ov(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Ov(e){return!!Tv()&&(e instanceof Node||e instanceof Rv(e).Node)}function Dv(e){return!!Tv()&&(e instanceof Element||e instanceof Rv(e).Element)}function Mv(e){return!!Tv()&&(e instanceof HTMLElement||e instanceof Rv(e).HTMLElement)}function Iv(e){return!(!Tv()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Rv(e).ShadowRoot)}const Lv=new Set(["inline","contents"]);function Fv(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Yv(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Lv.has(s)}const Uv=new Set(["table","td","th"]);function $v(e){return Uv.has(Pv(e))}const zv=[":popover-open",":modal"];function qv(e){return zv.some(t=>{try{return e.matches(t)}catch(r){return!1}})}const Wv=["transform","translate","scale","rotate","perspective"],Bv=["transform","translate","scale","rotate","perspective","filter"],Vv=["paint","layout","strict","content"];function Hv(e){const t=Kv(),r=Dv(e)?Yv(e):e;return Wv.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||Bv.some(e=>(r.willChange||"").includes(e))||Vv.some(e=>(r.contain||"").includes(e))}function Kv(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const Gv=new Set(["html","body","#document"]);function Jv(e){return Gv.has(Pv(e))}function Yv(e){return Rv(e).getComputedStyle(e)}function Xv(e){return Dv(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Zv(e){if("html"===Pv(e))return e;const t=e.assignedSlot||e.parentNode||Iv(e)&&e.host||Av(e);return Iv(t)?t.host:t}function Qv(e){const t=Zv(e);return Jv(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mv(t)&&Fv(t)?t:Qv(t)}function eb(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);const s=Qv(e),o=s===(null==(n=e.ownerDocument)?void 0:n.body),i=Rv(s);if(o){const e=tb(i);return t.concat(i,i.visualViewport||[],Fv(s)?s:[],e&&r?eb(e):[])}return t.concat(s,eb(s,[],r))}function tb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function rb(e){const t=Yv(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Mv(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,a=tv(r)!==o||tv(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function nb(e){return Dv(e)?e:e.contextElement}function sb(e){const t=nb(e);if(!Mv(t))return nv(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=rb(t);let i=(o?tv(r.width):r.width)/n,a=(o?tv(r.height):r.height)/s;return i&&Number.isFinite(i)||(i=1),a&&Number.isFinite(a)||(a=1),{x:i,y:a}}const ob=nv(0);function ib(e){const t=Rv(e);return Kv()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:ob}function ab(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);const s=e.getBoundingClientRect(),o=nb(e);let i=nv(1);t&&(n?Dv(n)&&(i=sb(n)):i=sb(e));const a=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==Rv(e))&&t}(o,r,n)?ib(o):nv(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,d=s.width/i.x,u=s.height/i.y;if(o){const e=Rv(o),t=n&&Dv(n)?Rv(n):n;let r=e,s=tb(r);for(;s&&n&&t!==r;){const e=sb(s),t=s.getBoundingClientRect(),n=Yv(s),o=t.left+(s.clientLeft+parseFloat(n.paddingLeft))*e.x,i=t.top+(s.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=o,c+=i,r=Rv(s),s=tb(r)}}return jv({width:d,height:u,x:l,y:c})}function lb(e,t){const r=Xv(e).scrollLeft;return t?t.left+r:ab(Av(e)).left+r}function cb(e,t,r){void 0===r&&(r=!1);const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-(r?0:lb(e,n)),y:n.top+t.scrollTop}}const db=new Set(["absolute","fixed"]);function ub(e,t,r){let n;if("viewport"===t)n=function(e,t){const r=Rv(e),n=Av(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const e=Kv();(!e||e&&"fixed"===t)&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}(e,r);else if("document"===t)n=function(e){const t=Av(e),r=Xv(e),n=e.ownerDocument.body,s=ev(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=ev(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+lb(e);const a=-r.scrollTop;return"rtl"===Yv(n).direction&&(i+=ev(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}(Av(e));else if(Dv(t))n=function(e,t){const r=ab(e,!0,"fixed"===t),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Mv(e)?sb(e):nv(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:s*o.x,y:n*o.y}}(t,r);else{const r=ib(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return jv(n)}function hb(e,t){const r=Zv(e);return!(r===t||!Dv(r)||Jv(r))&&("fixed"===Yv(r).position||hb(r,t))}function fb(e,t,r){const n=Mv(t),s=Av(t),o="fixed"===r,i=ab(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=nv(0);function c(){l.x=lb(s)}if(n||!n&&!o)if(("body"!==Pv(t)||Fv(s))&&(a=Xv(t)),n){const e=ab(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else s&&c();o&&!n&&s&&c();const d=!s||n||o?nv(0):cb(s,a);return{x:i.left+a.scrollLeft-l.x-d.x,y:i.top+a.scrollTop-l.y-d.y,width:i.width,height:i.height}}function pb(e){return"static"===Yv(e).position}function mb(e,t){if(!Mv(e)||"fixed"===Yv(e).position)return null;if(t)return t(e);let r=e.offsetParent;return Av(e)===r&&(r=r.ownerDocument.body),r}function gb(e,t){const r=Rv(e);if(qv(e))return r;if(!Mv(e)){let t=Zv(e);for(;t&&!Jv(t);){if(Dv(t)&&!pb(t))return t;t=Zv(t)}return r}let n=mb(e,t);for(;n&&$v(n)&&pb(n);)n=mb(n,t);return n&&Jv(n)&&pb(n)&&!Hv(n)?r:n||function(e){let t=Zv(e);for(;Mv(t)&&!Jv(t);){if(Hv(t))return t;if(qv(t))return null;t=Zv(t)}return null}(e)||r}const yb={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o="fixed"===s,i=Av(n),a=!!t&&qv(t.floating);if(n===i||a&&o)return r;let l={scrollLeft:0,scrollTop:0},c=nv(1);const d=nv(0),u=Mv(n);if((u||!u&&!o)&&(("body"!==Pv(n)||Fv(i))&&(l=Xv(n)),Mv(n))){const e=ab(n);c=sb(n),d.x=e.x+n.clientLeft,d.y=e.y+n.clientTop}const h=!i||u||o?nv(0):cb(i,l,!0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:r.y*c.y-l.scrollTop*c.y+d.y+h.y}},getDocumentElement:Av,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[..."clippingAncestors"===r?qv(t)?[]:function(e,t){const r=t.get(e);if(r)return r;let n=eb(e,[],!1).filter(e=>Dv(e)&&"body"!==Pv(e)),s=null;const o="fixed"===Yv(e).position;let i=o?Zv(e):e;for(;Dv(i)&&!Jv(i);){const t=Yv(i),r=Hv(i);r||"fixed"!==t.position||(s=null),(o?!r&&!s:!r&&"static"===t.position&&s&&db.has(s.position)||Fv(i)&&!r&&hb(e,i))?n=n.filter(e=>e!==i):s=t,i=Zv(i)}return t.set(e,n),n}(t,this._c):[].concat(r),n],i=o[0],a=o.reduce((e,r)=>{const n=ub(t,r,s);return e.top=ev(n.top,e.top),e.right=Qy(n.right,e.right),e.bottom=Qy(n.bottom,e.bottom),e.left=ev(n.left,e.left),e},ub(t,i,s));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:gb,getElementRects:function(e){return ie(this,null,function*(){const t=this.getOffsetParent||gb,r=this.getDimensions,n=yield r(e.floating);return{reference:fb(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}})},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:r}=rb(e);return{width:t,height:r}},getScale:sb,isElement:Dv,isRTL:function(e){return"rtl"===Yv(e).direction}};function vb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function bb(e,t,r,n){void 0===n&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=n,c=nb(e),d=s||o?[...c?eb(c):[],...eb(t)]:[];d.forEach(e=>{s&&e.addEventListener("scroll",r,{passive:!0}),o&&e.addEventListener("resize",r)});const u=c&&a?function(e,t){let r,n=null;const s=Av(e);function o(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return function i(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),o();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:f}=c;if(a||t(),!h||!f)return;const p={rootMargin:-rv(u)+"px "+-rv(s.clientWidth-(d+h))+"px "+-rv(s.clientHeight-(u+f))+"px "+-rv(d)+"px",threshold:ev(0,Qy(1,l))||1};let m=!0;function g(t){const n=t[0].intersectionRatio;if(n!==l){if(!m)return i();n?i(!1,n):r=setTimeout(()=>{i(!1,1e-7)},1e3)}1!==n||vb(c,e.getBoundingClientRect())||i(),m=!1}try{n=new IntersectionObserver(g,X(Y({},p),{root:s.ownerDocument}))}catch(y){n=new IntersectionObserver(g,p)}n.observe(e)}(!0),o}(c,r):null;let h,f=-1,p=null;i&&(p=new ResizeObserver(e=>{let[n]=e;n&&n.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;null==(e=p)||e.observe(t)})),r()}),c&&!l&&p.observe(c),p.observe(t));let m=l?ab(e):null;return l&&function t(){const n=ab(e);m&&!vb(m,n)&&r();m=n,h=requestAnimationFrame(t)}(),r(),()=>{var e;d.forEach(e=>{s&&e.removeEventListener("scroll",r),o&&e.removeEventListener("resize",r)}),null==u||u(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(h)}}const xb=function(e){return void 0===e&&(e=0),{name:"offset",options:e,fn(t){return ie(this,null,function*(){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=t,l=yield function(e,t){return ie(this,null,function*(){const{placement:r,platform:n,elements:s}=e,o=yield null==n.isRTL?void 0:n.isRTL(s.floating),i=lv(r),a=cv(r),l="y"===fv(r),c=Cv.has(i)?-1:1,d=o&&l?-1:1,u=av(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&"number"==typeof p&&(f="end"===a?-1*p:p),l?{x:f*d,y:h*c}:{x:h*c,y:f*d}})}(t,e);return i===(null==(r=a.offset)?void 0:r.placement)&&null!=(n=a.arrow)&&n.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:X(Y({},l),{placement:i})}})}}},wb=function(e){return void 0===e&&(e={}),{name:"shift",options:e,fn(t){return ie(this,null,function*(){const{x:r,y:n,placement:s}=t,o=av(e,t),{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}}}=o,c=Z(o,["mainAxis","crossAxis","limiter"]),d={x:r,y:n},u=yield kv(t,c),h=fv(lv(s)),f=dv(h);let p=d[f],m=d[h];if(i){const e="y"===f?"bottom":"right";p=iv(p+u["y"===f?"top":"left"],p,p-u[e])}if(a){const e="y"===h?"bottom":"right";m=iv(m+u["y"===h?"top":"left"],m,m-u[e])}const g=l.fn(X(Y({},t),{[f]:p,[h]:m}));return X(Y({},g),{data:{x:g.x-r,y:g.y-n,enabled:{[f]:i,[h]:a}}})})}}},_b=function(e){return void 0===e&&(e={}),{name:"flip",options:e,fn(t){return ie(this,null,function*(){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=t,d=av(e,t),{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0}=d,y=Z(d,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if(null!=(r=o.arrow)&&r.alignmentOffset)return{};const v=lv(s),b=fv(a),x=lv(a)===a,w=yield null==l.isRTL?void 0:l.isRTL(c.floating),_=f||(x||!g?[wv(a)]:function(e){const t=wv(e);return[mv(e),t,mv(t)]}(a)),j="none"!==m;!f&&j&&_.push(...xv(a,g,m,w));const S=[a,..._],k=yield kv(t,y),E=[];let N=(null==(n=o.flip)?void 0:n.overflows)||[];if(u&&E.push(k[v]),h){const e=function(e,t,r){void 0===r&&(r=!1);const n=cv(e),s=pv(e),o=uv(s);let i="x"===s?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=wv(i)),[i,wv(i)]}(s,i,w);E.push(k[e[0]],k[e[1]])}if(N=[...N,{placement:s,overflows:E}],!E.every(e=>e<=0)){var C,T;const e=((null==(C=o.flip)?void 0:C.index)||0)+1,t=S[e];if(t){if(!("alignment"===h&&b!==fv(t))||N.every(e=>fv(e.placement)!==b||e.overflows[0]>0))return{data:{index:e,overflows:N},reset:{placement:t}}}let r=null==(T=N.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:T.placement;if(!r)switch(p){case"bestFit":{var P;const e=null==(P=N.filter(e=>{if(j){const t=fv(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:P[0];e&&(r=e);break}case"initialPlacement":r=a}if(s!==r)return{reset:{placement:r}}}return{}})}}},jb=function(e){return void 0===e&&(e={}),{name:"size",options:e,fn(t){return ie(this,null,function*(){var r,n;const{placement:s,rects:o,platform:i,elements:a}=t,l=av(e,t),{apply:c=()=>{}}=l,d=Z(l,["apply"]),u=yield kv(t,d),h=lv(s),f=cv(s),p="y"===fv(s),{width:m,height:g}=o.floating;let y,v;"top"===h||"bottom"===h?(y=h,v=f===((yield null==i.isRTL?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,y="end"===f?"top":"bottom");const b=g-u.top-u.bottom,x=m-u.left-u.right,w=Qy(g-u[y],b),_=Qy(m-u[v],x),j=!t.middlewareData.shift;let S=w,k=_;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(k=x),null!=(n=t.middlewareData.shift)&&n.enabled.y&&(S=b),j&&!f){const e=ev(u.left,0),t=ev(u.right,0),r=ev(u.top,0),n=ev(u.bottom,0);p?k=m-2*(0!==e||0!==t?e+t:ev(u.left,u.right)):S=g-2*(0!==r||0!==n?r+n:ev(u.top,u.bottom))}yield c(X(Y({},t),{availableWidth:k,availableHeight:S}));const E=yield i.getDimensions(a.floating);return m!==E.width||g!==E.height?{reset:{rects:!0}}:{}})}}},Sb=function(e){return void 0===e&&(e={}),{name:"hide",options:e,fn(t){return ie(this,null,function*(){const{rects:r}=t,n=av(e,t),{strategy:s="referenceHidden"}=n,o=Z(n,["strategy"]);switch(s){case"referenceHidden":{const e=Ev(yield kv(t,X(Y({},o),{elementContext:"reference"})),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Nv(e)}}}case"escaped":{const e=Ev(yield kv(t,X(Y({},o),{altBoundary:!0})),r.floating);return{data:{escapedOffsets:e,escaped:Nv(e)}}}default:return{}}})}}},kb=e=>({name:"arrow",options:e,fn(t){return ie(this,null,function*(){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=av(e,t)||{};if(null==c)return{};const u=_v(d),h={x:r,y:n},f=pv(s),p=uv(f),m=yield i.getDimensions(c),g="y"===f,y=g?"top":"left",v=g?"bottom":"right",b=g?"clientHeight":"clientWidth",x=o.reference[p]+o.reference[f]-h[f]-o.floating[p],w=h[f]-o.reference[f],_=yield null==i.getOffsetParent?void 0:i.getOffsetParent(c);let j=_?_[b]:0;j&&(yield null==i.isElement?void 0:i.isElement(_))||(j=a.floating[b]||o.floating[p]);const S=x/2-w/2,k=j/2-m[p]/2-1,E=Qy(u[y],k),N=Qy(u[v],k),C=E,T=j-m[p]-N,P=j/2-m[p]/2+S,R=iv(C,P,T),A=!l.arrow&&null!=cv(s)&&P!==R&&o.reference[p]/2-(P<C?E:N)-m[p]/2<0,O=A?P<C?P-C:P-T:0;return{[f]:h[f]+O,data:Y({[f]:R,centerOffset:P-R-O},A&&{alignmentOffset:O}),reset:A}})}}),Eb=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=av(e,t),d={x:r,y:n},u=fv(s),h=dv(u);let f=d[h],p=d[u];const m=av(a,t),g="number"==typeof m?{mainAxis:m,crossAxis:0}:Y({mainAxis:0,crossAxis:0},m);if(l){const e="y"===h?"height":"width",t=o.reference[h]-o.floating[e]+g.mainAxis,r=o.reference[h]+o.reference[e]-g.mainAxis;f<t?f=t:f>r&&(f=r)}if(c){var y,v;const e="y"===h?"width":"height",t=Cv.has(lv(s)),r=o.reference[u]-o.floating[e]+(t&&(null==(y=i.offset)?void 0:y[u])||0)+(t?0:g.crossAxis),n=o.reference[u]+o.reference[e]+(t?0:(null==(v=i.offset)?void 0:v[u])||0)-(t?g.crossAxis:0);p<r?p=r:p>n&&(p=n)}return{[h]:f,[u]:p}}}},Nb=(e,t,r)=>{const n=new Map,s=Y({platform:yb},r),o=X(Y({},s.platform),{_c:n});return((e,t,r)=>ie(void 0,null,function*(){const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),l=yield null==i.isRTL?void 0:i.isRTL(t);let c=yield i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:u}=Sv(c,n,l),h=n,f={},p=0;for(let r=0;r<a.length;r++){const{name:o,fn:m}=a[r],{x:g,y:y,data:v,reset:b}=yield m({x:d,y:u,initialPlacement:n,placement:h,strategy:s,middlewareData:f,rects:c,platform:i,elements:{reference:e,floating:t}});d=null!=g?g:d,u=null!=y?y:u,f=X(Y({},f),{[o]:Y(Y({},f[o]),v)}),b&&p<=50&&(p++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?yield i.getElementRects({reference:e,floating:t,strategy:s}):b.rects),({x:d,y:u}=Sv(c,h,l))),r=-1)}return{x:d,y:u,placement:h,strategy:s,middlewareData:f}}))(e,t,X(Y({},s),{platform:o}))};var Cb="undefined"!=typeof document?ae.useLayoutEffect:function(){};function Tb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;0!==n--;)if(!Tb(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;0!==n--;){const r=s[n];if(("_owner"!==r||!e.$$typeof)&&!Tb(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function Pb(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Rb(e,t){const r=Pb(e);return Math.round(t*r)/r}function Ab(e){const t=ae.useRef(e);return Cb(()=>{t.current=e}),t}const Ob=(e,t)=>X(Y({},xb(e)),{options:[e,t]}),Db=(e,t)=>X(Y({},wb(e)),{options:[e,t]}),Mb=(e,t)=>X(Y({},Eb(e)),{options:[e,t]}),Ib=(e,t)=>X(Y({},_b(e)),{options:[e,t]}),Lb=(e,t)=>X(Y({},jb(e)),{options:[e,t]}),Fb=(e,t)=>X(Y({},Sb(e)),{options:[e,t]}),Ub=(e,t)=>X(Y({},(e=>({name:"arrow",options:e,fn(t){const{element:r,padding:n}="function"==typeof e?e(t):e;return r&&(s=r,{}.hasOwnProperty.call(s,"current"))?null!=r.current?kb({element:r.current,padding:n}).fn(t):{}:r?kb({element:r,padding:n}).fn(t):{};var s}}))(e)),{options:[e,t]});var $b=ae.forwardRef((e,t)=>{const r=e,{children:n,width:s=10,height:o=5}=r,i=Z(r,["children","width","height"]);return Te.jsx(Ts.svg,X(Y({},i),{ref:t,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:Te.jsx("polygon",{points:"0,0 30,0 15,10"})}))});$b.displayName="Arrow";var zb=$b;function qb(e){const[t,r]=ae.useState(void 0);return Ws(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const n=t[0];let s,o;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,o=t.blockSize}else s=e.offsetWidth,o=e.offsetHeight;r({width:s,height:o})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}var Wb="Popper",[Bb,Vb]=xs(Wb),[Hb,Kb]=Bb(Wb),Gb=e=>{const{__scopePopper:t,children:r}=e,[n,s]=ae.useState(null);return Te.jsx(Hb,{scope:t,anchor:n,onAnchorChange:s,children:r})};Gb.displayName=Wb;var Jb="PopperAnchor",Yb=ae.forwardRef((e,t)=>{const r=e,{__scopePopper:n,virtualRef:s}=r,o=Z(r,["__scopePopper","virtualRef"]),i=Kb(Jb,n),a=ae.useRef(null),l=bs(t,a),c=ae.useRef(null);return ae.useEffect(()=>{const e=c.current;c.current=(null==s?void 0:s.current)||a.current,e!==c.current&&i.onAnchorChange(c.current)}),s?null:Te.jsx(Ts.div,X(Y({},o),{ref:l}))});Yb.displayName=Jb;var Xb="PopperContent",[Zb,Qb]=Bb(Xb),ex=ae.forwardRef((e,t)=>{var r,n,s,o,i,a,l,c;const d=e,{__scopePopper:u,side:h="bottom",sideOffset:f=0,align:p="center",alignOffset:m=0,arrowPadding:g=0,avoidCollisions:y=!0,collisionBoundary:v=[],collisionPadding:b=0,sticky:x="partial",hideWhenDetached:w=!1,updatePositionStrategy:_="optimized",onPlaced:j}=d,S=Z(d,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),k=Kb(Xb,u),[E,N]=ae.useState(null),C=bs(t,e=>N(e)),[T,P]=ae.useState(null),R=qb(T),A=null!=(r=null==R?void 0:R.width)?r:0,O=null!=(n=null==R?void 0:R.height)?n:0,D=h+("center"!==p?"-"+p:""),M="number"==typeof b?b:Y({top:0,right:0,bottom:0,left:0},b),I=Array.isArray(v)?v:[v],L=I.length>0,F={padding:M,boundary:I.filter(sx),altBoundary:L},{refs:U,floatingStyles:$,placement:z,isPositioned:q,middlewareData:W}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,u]=ae.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=ae.useState(n);Tb(h,n)||f(n);const[p,m]=ae.useState(null),[g,y]=ae.useState(null),v=ae.useCallback(e=>{e!==_.current&&(_.current=e,m(e))},[]),b=ae.useCallback(e=>{e!==j.current&&(j.current=e,y(e))},[]),x=o||p,w=i||g,_=ae.useRef(null),j=ae.useRef(null),S=ae.useRef(d),k=null!=l,E=Ab(l),N=Ab(s),C=Ab(c),T=ae.useCallback(()=>{if(!_.current||!j.current)return;const e={placement:t,strategy:r,middleware:h};N.current&&(e.platform=N.current),Nb(_.current,j.current,e).then(e=>{const t=X(Y({},e),{isPositioned:!1!==C.current});P.current&&!Tb(S.current,t)&&(S.current=t,le.flushSync(()=>{u(t)}))})},[h,t,r,N,C]);Cb(()=>{!1===c&&S.current.isPositioned&&(S.current.isPositioned=!1,u(e=>X(Y({},e),{isPositioned:!1})))},[c]);const P=ae.useRef(!1);Cb(()=>(P.current=!0,()=>{P.current=!1}),[]),Cb(()=>{if(x&&(_.current=x),w&&(j.current=w),x&&w){if(E.current)return E.current(x,w,T);T()}},[x,w,T,E,k]);const R=ae.useMemo(()=>({reference:_,floating:j,setReference:v,setFloating:b}),[v,b]),A=ae.useMemo(()=>({reference:x,floating:w}),[x,w]),O=ae.useMemo(()=>{const e={position:r,left:0,top:0};if(!A.floating)return e;const t=Rb(A.floating,d.x),n=Rb(A.floating,d.y);return a?Y(X(Y({},e),{transform:"translate("+t+"px, "+n+"px)"}),Pb(A.floating)>=1.5&&{willChange:"transform"}):{position:r,left:t,top:n}},[r,a,A.floating,d.x,d.y]);return ae.useMemo(()=>X(Y({},d),{update:T,refs:R,elements:A,floatingStyles:O}),[d,T,R,A,O])}({strategy:"fixed",placement:D,whileElementsMounted:(...e)=>bb(...e,{animationFrame:"always"===_}),elements:{reference:k.anchor},middleware:[Ob({mainAxis:f+O,alignmentAxis:m}),y&&Db(Y({mainAxis:!0,crossAxis:!1,limiter:"partial"===x?Mb():void 0},F)),y&&Ib(Y({},F)),Lb(X(Y({},F),{apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{const{width:s,height:o}=t.reference,i=e.floating.style;i.setProperty("--radix-popper-available-width",`${r}px`),i.setProperty("--radix-popper-available-height",`${n}px`),i.setProperty("--radix-popper-anchor-width",`${s}px`),i.setProperty("--radix-popper-anchor-height",`${o}px`)}})),T&&Ub({element:T,padding:g}),ox({arrowWidth:A,arrowHeight:O}),w&&Fb(Y({strategy:"referenceHidden"},F))]}),[B,V]=ix(z),H=Rs(j);Ws(()=>{q&&(null==H||H())},[q,H]);const K=null==(s=W.arrow)?void 0:s.x,G=null==(o=W.arrow)?void 0:o.y,J=0!==(null==(i=W.arrow)?void 0:i.centerOffset),[Q,ee]=ae.useState();return Ws(()=>{E&&ee(window.getComputedStyle(E).zIndex)},[E]),Te.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:Y(X(Y({},$),{transform:q?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[null==(a=W.transformOrigin)?void 0:a.x,null==(l=W.transformOrigin)?void 0:l.y].join(" ")}),(null==(c=W.hide)?void 0:c.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:Te.jsx(Zb,{scope:u,placedSide:B,onArrowChange:P,arrowX:K,arrowY:G,shouldHideArrow:J,children:Te.jsx(Ts.div,X(Y({"data-side":B,"data-align":V},S),{ref:C,style:X(Y({},S.style),{animation:q?void 0:"none"})}))})})});ex.displayName=Xb;var tx="PopperArrow",rx={top:"bottom",right:"left",bottom:"top",left:"right"},nx=ae.forwardRef(function(e,t){const r=e,{__scopePopper:n}=r,s=Z(r,["__scopePopper"]),o=Qb(tx,n),i=rx[o.placedSide];return Te.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:Te.jsx(zb,X(Y({},s),{ref:t,style:X(Y({},s.style),{display:"block"})}))})});function sx(e){return null!==e}nx.displayName=tx;var ox=e=>({name:"transformOrigin",options:e,fn(t){var r,n,s,o,i;const{placement:a,rects:l,middlewareData:c}=t,d=0!==(null==(r=c.arrow)?void 0:r.centerOffset),u=d?0:e.arrowWidth,h=d?0:e.arrowHeight,[f,p]=ix(a),m={start:"0%",center:"50%",end:"100%"}[p],g=(null!=(s=null==(n=c.arrow)?void 0:n.x)?s:0)+u/2,y=(null!=(i=null==(o=c.arrow)?void 0:o.y)?i:0)+h/2;let v="",b="";return"bottom"===f?(v=d?m:`${g}px`,b=-h+"px"):"top"===f?(v=d?m:`${g}px`,b=`${l.floating.height+h}px`):"right"===f?(v=-h+"px",b=d?m:`${y}px`):"left"===f&&(v=`${l.floating.width+h}px`,b=d?m:`${y}px`),{data:{x:v,y:b}}}});function ix(e){const[t,r="center"]=e.split("-");return[t,r]}var ax=Gb,lx=Yb,cx=ex,dx=nx;function ux(e){const t=ae.useRef({value:e,previous:e});return ae.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var hx=[" ","Enter","ArrowUp","ArrowDown"],fx=[" ","Enter"],px="Select",[mx,gx,yx]=Cs(px),[vx,bx]=xs(px,[yx,Vb]),xx=Vb(),[wx,_x]=vx(px),[jx,Sx]=vx(px),kx=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:u,disabled:h,required:f,form:p}=e,m=xx(t),[g,y]=ae.useState(null),[v,b]=ae.useState(null),[x,w]=ae.useState(!1),_=Df(c),[j,S]=Gs({prop:n,defaultProp:null!=s&&s,onChange:o,caller:px}),[k,E]=Gs({prop:i,defaultProp:a,onChange:l,caller:px}),N=ae.useRef(null),C=!g||(p||!!g.closest("form")),[T,P]=ae.useState(new Set),R=Array.from(T).map(e=>e.props.value).join(";");return Te.jsx(ax,X(Y({},m),{children:Te.jsxs(wx,{required:f,scope:t,trigger:g,onTriggerChange:y,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:x,onValueNodeHasChildrenChange:w,contentId:Af(),value:k,onValueChange:E,open:j,onOpenChange:S,dir:_,triggerPointerDownPosRef:N,disabled:h,children:[Te.jsx(mx.Provider,{scope:t,children:Te.jsx(jx,{scope:e.__scopeSelect,onNativeOptionAdd:ae.useCallback(e=>{P(t=>new Set(t).add(e))},[]),onNativeOptionRemove:ae.useCallback(e=>{P(t=>{const r=new Set(t);return r.delete(e),r})},[]),children:r})}),C?Te.jsxs(uw,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:u,value:k,onChange:e=>E(e.target.value),disabled:h,form:p,children:[void 0===k?Te.jsx("option",{value:""}):null,Array.from(T)]},R):null]})}))};kx.displayName=px;var Ex="SelectTrigger",Nx=ae.forwardRef((e,t)=>{const r=e,{__scopeSelect:n,disabled:s=!1}=r,o=Z(r,["__scopeSelect","disabled"]),i=xx(n),a=_x(Ex,n),l=a.disabled||s,c=bs(t,a.onTriggerChange),d=gx(n),u=ae.useRef("touch"),[h,f,p]=fw(e=>{const t=d().filter(e=>!e.disabled),r=t.find(e=>e.value===a.value),n=pw(t,e,r);void 0!==n&&a.onValueChange(n.value)}),m=e=>{l||(a.onOpenChange(!0),p()),e&&(a.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return Te.jsx(lx,X(Y({asChild:!0},i),{children:Te.jsx(Ts.button,X(Y({type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":hw(a.value)?"":void 0},o),{ref:c,onClick:gs(o.onClick,e=>{e.currentTarget.focus(),"mouse"!==u.current&&m(e)}),onPointerDown:gs(o.onPointerDown,e=>{u.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(m(e),e.preventDefault())}),onKeyDown:gs(o.onKeyDown,e=>{const t=""!==h.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||f(e.key),t&&" "===e.key||hx.includes(e.key)&&(m(),e.preventDefault())})}))}))});Nx.displayName=Ex;var Cx="SelectValue",Tx=ae.forwardRef((e,t)=>{const r=e,{__scopeSelect:n,className:s,style:o,children:i,placeholder:a=""}=r,l=Z(r,["__scopeSelect","className","style","children","placeholder"]),c=_x(Cx,n),{onValueNodeHasChildrenChange:d}=c,u=void 0!==i,h=bs(t,c.onValueNodeChange);return Ws(()=>{d(u)},[d,u]),Te.jsx(Ts.span,X(Y({},l),{ref:h,style:{pointerEvents:"none"},children:hw(c.value)?Te.jsx(Te.Fragment,{children:a}):i}))});Tx.displayName=Cx;var Px=ae.forwardRef((e,t)=>{const r=e,{__scopeSelect:n,children:s}=r,o=Z(r,["__scopeSelect","children"]);return Te.jsx(Ts.span,X(Y({"aria-hidden":!0},o),{ref:t,children:s||"▼"}))});Px.displayName="SelectIcon";var Rx=e=>Te.jsx(Bs,Y({asChild:!0},e));Rx.displayName="SelectPortal";var Ax="SelectContent",Ox=ae.forwardRef((e,t)=>{const r=_x(Ax,e.__scopeSelect),[n,s]=ae.useState();if(Ws(()=>{s(new DocumentFragment)},[]),!r.open){const t=n;return t?le.createPortal(Te.jsx(Mx,{scope:e.__scopeSelect,children:Te.jsx(mx.Slot,{scope:e.__scopeSelect,children:Te.jsx("div",{children:e.children})})}),t):null}return Te.jsx(Fx,X(Y({},e),{ref:t}))});Ox.displayName=Ax;var Dx=10,[Mx,Ix]=vx(Ax),Lx=_s("SelectContent.RemoveScroll"),Fx=ae.forwardRef((e,t)=>{const r=e,{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:y}=r,v=Z(r,["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"]),b=_x(Ax,n),[x,w]=ae.useState(null),[_,j]=ae.useState(null),S=bs(t,e=>w(e)),[k,E]=ae.useState(null),[N,C]=ae.useState(null),T=gx(n),[P,R]=ae.useState(!1),A=ae.useRef(!1);ae.useEffect(()=>{if(x)return Nm(x)},[x]),Ap();const O=ae.useCallback(e=>{const[t,...r]=T().map(e=>e.ref.current),[n]=r.slice(-1),s=document.activeElement;for(const o of e){if(o===s)return;if(null==o||o.scrollIntoView({block:"nearest"}),o===t&&_&&(_.scrollTop=0),o===n&&_&&(_.scrollTop=_.scrollHeight),null==o||o.focus(),document.activeElement!==s)return}},[T,_]),D=ae.useCallback(()=>O([k,x]),[O,k,x]);ae.useEffect(()=>{P&&D()},[P,D]);const{onOpenChange:M,triggerPointerDownPosRef:I}=b;ae.useEffect(()=>{if(x){let e={x:0,y:0};const t=t=>{var r,n,s,o;e={x:Math.abs(Math.round(t.pageX)-(null!=(n=null==(r=I.current)?void 0:r.x)?n:0)),y:Math.abs(Math.round(t.pageY)-(null!=(o=null==(s=I.current)?void 0:s.y)?o:0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():x.contains(r.target)||M(!1),document.removeEventListener("pointermove",t),I.current=null};return null!==I.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[x,M,I]),ae.useEffect(()=>{const e=()=>M(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[M]);const[L,F]=fw(e=>{const t=T().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),n=pw(t,e,r);n&&setTimeout(()=>n.ref.current.focus())}),U=ae.useCallback((e,t,r)=>{const n=!A.current&&!r;(void 0!==b.value&&b.value===t||n)&&(E(e),n&&(A.current=!0))},[b.value]),$=ae.useCallback(()=>null==x?void 0:x.focus(),[x]),z=ae.useCallback((e,t,r)=>{const n=!A.current&&!r;(void 0!==b.value&&b.value===t||n)&&C(e)},[b.value]),q="popper"===s?$x:Ux,W=q===$x?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:y}:{};return Te.jsx(Mx,{scope:n,content:x,viewport:_,onViewportChange:j,itemRefCallback:U,selectedItem:k,onItemLeave:$,itemTextRefCallback:z,focusSelectedItem:D,selectedItemText:N,position:s,isPositioned:P,searchRef:L,children:Te.jsx(xm,{as:Lx,allowPinchZoom:!0,children:Te.jsx(Sp,{asChild:!0,trapped:b.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:gs(o,e=>{var t;null==(t=b.trigger)||t.focus({preventScroll:!0}),e.preventDefault()}),children:Te.jsx(Ls,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:Te.jsx(q,X(Y(Y({role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:e=>e.preventDefault()},v),W),{onPlaced:()=>R(!0),ref:S,style:Y({display:"flex",flexDirection:"column",outline:"none"},v.style),onKeyDown:gs(v.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||F(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=T().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const r=e.target,n=t.indexOf(r);t=t.slice(n+1)}setTimeout(()=>O(t)),e.preventDefault()}})}))})})})})});Fx.displayName="SelectContentImpl";var Ux=ae.forwardRef((e,t)=>{const r=e,{__scopeSelect:n,onPlaced:s}=r,o=Z(r,["__scopeSelect","onPlaced"]),i=_x(Ax,n),a=Ix(Ax,n),[l,c]=ae.useState(null),[d,u]=ae.useState(null),h=bs(t,e=>u(e)),f=gx(n),p=ae.useRef(!1),m=ae.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:v,focusSelectedItem:b}=a,x=ae.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&y&&v){const e=i.trigger.getBoundingClientRect(),t=d.getBoundingClientRect(),r=i.valueNode.getBoundingClientRect(),n=v.getBoundingClientRect();if("rtl"!==i.dir){const s=n.left-t.left,o=r.left-s,i=e.left-o,a=e.width+i,c=Math.max(a,t.width),d=window.innerWidth-Dx,u=Tg(o,[Dx,Math.max(Dx,d-c)]);l.style.minWidth=a+"px",l.style.left=u+"px"}else{const s=t.right-n.right,o=window.innerWidth-r.right-s,i=window.innerWidth-e.right-o,a=e.width+i,c=Math.max(a,t.width),d=window.innerWidth-Dx,u=Tg(o,[Dx,Math.max(Dx,d-c)]);l.style.minWidth=a+"px",l.style.right=u+"px"}const o=f(),a=window.innerHeight-2*Dx,c=g.scrollHeight,u=window.getComputedStyle(d),h=parseInt(u.borderTopWidth,10),m=parseInt(u.paddingTop,10),b=parseInt(u.borderBottomWidth,10),x=h+m+c+parseInt(u.paddingBottom,10)+b,w=Math.min(5*y.offsetHeight,x),_=window.getComputedStyle(g),j=parseInt(_.paddingTop,10),S=parseInt(_.paddingBottom,10),k=e.top+e.height/2-Dx,E=a-k,N=y.offsetHeight/2,C=h+m+(y.offsetTop+N),T=x-C;if(C<=k){const e=o.length>0&&y===o[o.length-1].ref.current;l.style.bottom="0px";const t=d.clientHeight-g.offsetTop-g.offsetHeight,r=C+Math.max(E,N+(e?S:0)+t+b);l.style.height=r+"px"}else{const e=o.length>0&&y===o[0].ref.current;l.style.top="0px";const t=Math.max(k,h+g.offsetTop+(e?j:0)+N)+T;l.style.height=t+"px",g.scrollTop=C-k+g.offsetTop}l.style.margin=`${Dx}px 0`,l.style.minHeight=w+"px",l.style.maxHeight=a+"px",null==s||s(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,l,d,g,y,v,i.dir,s]);Ws(()=>x(),[x]);const[w,_]=ae.useState();Ws(()=>{d&&_(window.getComputedStyle(d).zIndex)},[d]);const j=ae.useCallback(e=>{e&&!0===m.current&&(x(),null==b||b(),m.current=!1)},[x,b]);return Te.jsx(zx,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:Te.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:Te.jsx(Ts.div,X(Y({},o),{ref:h,style:Y({boxSizing:"border-box",maxHeight:"100%"},o.style)}))})})});Ux.displayName="SelectItemAlignedPosition";var $x=ae.forwardRef((e,t)=>{const r=e,{__scopeSelect:n,align:s="start",collisionPadding:o=Dx}=r,i=Z(r,["__scopeSelect","align","collisionPadding"]),a=xx(n);return Te.jsx(cx,X(Y(Y({},a),i),{ref:t,align:s,collisionPadding:o,style:Y(Y({boxSizing:"border-box"},i.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});$x.displayName="SelectPopperPosition";var[zx,qx]=vx(Ax,{}),Wx="SelectViewport",Bx=ae.forwardRef((e,t)=>{const r=e,{__scopeSelect:n,nonce:s}=r,o=Z(r,["__scopeSelect","nonce"]),i=Ix(Wx,n),a=qx(Wx,n),l=bs(t,i.onViewportChange),c=ae.useRef(0);return Te.jsxs(Te.Fragment,{children:[Te.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),Te.jsx(mx.Slot,{scope:n,children:Te.jsx(Ts.div,X(Y({"data-radix-select-viewport":"",role:"presentation"},o),{ref:l,style:Y({position:"relative",flex:1,overflow:"hidden auto"},o.style),onScroll:gs(o.onScroll,e=>{const t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:n}=a;if((null==n?void 0:n.current)&&r){const e=Math.abs(c.current-t.scrollTop);if(e>0){const n=window.innerHeight-2*Dx,s=parseFloat(r.style.minHeight),o=parseFloat(r.style.height),i=Math.max(s,o);if(i<n){const s=i+e,o=Math.min(n,s),a=s-o;r.style.height=o+"px","0px"===r.style.bottom&&(t.scrollTop=a>0?a:0,r.style.justifyContent="flex-end")}}}c.current=t.scrollTop})}))})]})});Bx.displayName=Wx;var Vx="SelectGroup",[Hx,Kx]=vx(Vx);ae.forwardRef((e,t)=>{const r=e,{__scopeSelect:n}=r,s=Z(r,["__scopeSelect"]),o=Af();return Te.jsx(Hx,{scope:n,id:o,children:Te.jsx(Ts.div,X(Y({role:"group","aria-labelledby":o},s),{ref:t}))})}).displayName=Vx;var Gx="SelectLabel",Jx=ae.forwardRef((e,t)=>{const r=e,{__scopeSelect:n}=r,s=Z(r,["__scopeSelect"]),o=Kx(Gx,n);return Te.jsx(Ts.div,X(Y({id:o.id},s),{ref:t}))});Jx.displayName=Gx;var Yx="SelectItem",[Xx,Zx]=vx(Yx),Qx=ae.forwardRef((e,t)=>{const r=e,{__scopeSelect:n,value:s,disabled:o=!1,textValue:i}=r,a=Z(r,["__scopeSelect","value","disabled","textValue"]),l=_x(Yx,n),c=Ix(Yx,n),d=l.value===s,[u,h]=ae.useState(null!=i?i:""),[f,p]=ae.useState(!1),m=bs(t,e=>{var t;return null==(t=c.itemRefCallback)?void 0:t.call(c,e,s,o)}),g=Af(),y=ae.useRef("touch"),v=()=>{o||(l.onValueChange(s),l.onOpenChange(!1))};if(""===s)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return Te.jsx(Xx,{scope:n,value:s,disabled:o,textId:g,isSelected:d,onItemTextChange:ae.useCallback(e=>{h(t=>{var r;return t||(null!=(r=null==e?void 0:e.textContent)?r:"").trim()})},[]),children:Te.jsx(mx.ItemSlot,{scope:n,value:s,disabled:o,textValue:u,children:Te.jsx(Ts.div,X(Y({role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1},a),{ref:m,onFocus:gs(a.onFocus,()=>p(!0)),onBlur:gs(a.onBlur,()=>p(!1)),onClick:gs(a.onClick,()=>{"mouse"!==y.current&&v()}),onPointerUp:gs(a.onPointerUp,()=>{"mouse"===y.current&&v()}),onPointerDown:gs(a.onPointerDown,e=>{y.current=e.pointerType}),onPointerMove:gs(a.onPointerMove,e=>{var t;y.current=e.pointerType,o?null==(t=c.onItemLeave)||t.call(c):"mouse"===y.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:gs(a.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null==(t=c.onItemLeave)||t.call(c))}),onKeyDown:gs(a.onKeyDown,e=>{var t;""!==(null==(t=c.searchRef)?void 0:t.current)&&" "===e.key||(fx.includes(e.key)&&v()," "===e.key&&e.preventDefault())})}))})})});Qx.displayName=Yx;var ew="SelectItemText",tw=ae.forwardRef((e,t)=>{const r=e,{__scopeSelect:n,className:s,style:o}=r,i=Z(r,["__scopeSelect","className","style"]),a=_x(ew,n),l=Ix(ew,n),c=Zx(ew,n),d=Sx(ew,n),[u,h]=ae.useState(null),f=bs(t,e=>h(e),c.onItemTextChange,e=>{var t;return null==(t=l.itemTextRefCallback)?void 0:t.call(l,e,c.value,c.disabled)}),p=null==u?void 0:u.textContent,m=ae.useMemo(()=>Te.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=d;return Ws(()=>(g(m),()=>y(m)),[g,y,m]),Te.jsxs(Te.Fragment,{children:[Te.jsx(Ts.span,X(Y({id:c.textId},i),{ref:f})),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?le.createPortal(i.children,a.valueNode):null]})});tw.displayName=ew;var rw="SelectItemIndicator",nw=ae.forwardRef((e,t)=>{const r=e,{__scopeSelect:n}=r,s=Z(r,["__scopeSelect"]);return Zx(rw,n).isSelected?Te.jsx(Ts.span,X(Y({"aria-hidden":!0},s),{ref:t})):null});nw.displayName=rw;var sw="SelectScrollUpButton",ow=ae.forwardRef((e,t)=>{const r=Ix(sw,e.__scopeSelect),n=qx(sw,e.__scopeSelect),[s,o]=ae.useState(!1),i=bs(t,n.onScrollButtonChange);return Ws(()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollTop>0;o(e)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),s?Te.jsx(lw,X(Y({},e),{ref:i,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null});ow.displayName=sw;var iw="SelectScrollDownButton",aw=ae.forwardRef((e,t)=>{const r=Ix(iw,e.__scopeSelect),n=qx(iw,e.__scopeSelect),[s,o]=ae.useState(!1),i=bs(t,n.onScrollButtonChange);return Ws(()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,r=Math.ceil(t.scrollTop)<e;o(r)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),s?Te.jsx(lw,X(Y({},e),{ref:i,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null});aw.displayName=iw;var lw=ae.forwardRef((e,t)=>{const r=e,{__scopeSelect:n,onAutoScroll:s}=r,o=Z(r,["__scopeSelect","onAutoScroll"]),i=Ix("SelectScrollButton",n),a=ae.useRef(null),l=gx(n),c=ae.useCallback(()=>{null!==a.current&&(window.clearInterval(a.current),a.current=null)},[]);return ae.useEffect(()=>()=>c(),[c]),Ws(()=>{var e;const t=l().find(e=>e.ref.current===document.activeElement);null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})},[l]),Te.jsx(Ts.div,X(Y({"aria-hidden":!0},o),{ref:t,style:Y({flexShrink:0},o.style),onPointerDown:gs(o.onPointerDown,()=>{null===a.current&&(a.current=window.setInterval(s,50))}),onPointerMove:gs(o.onPointerMove,()=>{var e;null==(e=i.onItemLeave)||e.call(i),null===a.current&&(a.current=window.setInterval(s,50))}),onPointerLeave:gs(o.onPointerLeave,()=>{c()})}))}),cw=ae.forwardRef((e,t)=>{const r=e,{__scopeSelect:n}=r,s=Z(r,["__scopeSelect"]);return Te.jsx(Ts.div,X(Y({"aria-hidden":!0},s),{ref:t}))});cw.displayName="SelectSeparator";var dw="SelectArrow";ae.forwardRef((e,t)=>{const r=e,{__scopeSelect:n}=r,s=Z(r,["__scopeSelect"]),o=xx(n),i=_x(dw,n),a=Ix(dw,n);return i.open&&"popper"===a.position?Te.jsx(dx,X(Y(Y({},o),s),{ref:t})):null}).displayName=dw;var uw=ae.forwardRef((e,t)=>{var r=e,{__scopeSelect:n,value:s}=r,o=Z(r,["__scopeSelect","value"]);const i=ae.useRef(null),a=bs(t,i),l=ux(s);return ae.useEffect(()=>{const e=i.current;if(!e)return;const t=window.HTMLSelectElement.prototype,r=Object.getOwnPropertyDescriptor(t,"value").set;if(l!==s&&r){const t=new Event("change",{bubbles:!0});r.call(e,s),e.dispatchEvent(t)}},[l,s]),Te.jsx(Ts.select,X(Y({},o),{style:Y(Y({},Js),o.style),ref:a,defaultValue:s}))});function hw(e){return""===e||void 0===e}function fw(e){const t=Rs(e),r=ae.useRef(""),n=ae.useRef(0),s=ae.useCallback(e=>{const s=r.current+e;t(s),function e(t){r.current=t,window.clearTimeout(n.current),""!==t&&(n.current=window.setTimeout(()=>e(""),1e3))}(s)},[t]),o=ae.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return ae.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function pw(e,t,r){const n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=(i=e,a=Math.max(s,0),i.map((e,t)=>i[(a+t)%i.length]));var i,a;1===n.length&&(o=o.filter(e=>e!==r));const l=o.find(e=>e.textValue.toLowerCase().startsWith(n.toLowerCase()));return l!==r?l:void 0}uw.displayName="SelectBubbleInput";var mw=Nx,gw=Px,yw=Rx,vw=Ox,bw=Bx,xw=Jx,ww=Qx,_w=tw,jw=nw,Sw=ow,kw=aw,Ew=cw;const Nw=kx,Cw=Tx,Tw=ae.forwardRef((e,t)=>{var r=e,{className:n,children:s}=r,o=Z(r,["className","children"]);return Te.jsxs(mw,X(Y({ref:t,className:Ua("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n)},o),{children:[s,Te.jsx(gw,{asChild:!0,children:Te.jsx(ti,{className:"h-4 w-4 opacity-50"})})]}))});Tw.displayName=mw.displayName;const Pw=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx(Sw,X(Y({ref:t,className:Ua("flex cursor-default items-center justify-center py-1",n)},s),{children:Te.jsx(ni,{className:"h-4 w-4"})}))});Pw.displayName=Sw.displayName;const Rw=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx(kw,X(Y({ref:t,className:Ua("flex cursor-default items-center justify-center py-1",n)},s),{children:Te.jsx(ti,{className:"h-4 w-4"})}))});Rw.displayName=kw.displayName;const Aw=ae.forwardRef((e,t)=>{var r=e,{className:n,children:s,position:o="popper",onCloseAutoFocus:i,onPointerDownOutside:a,sideOffset:l,container:c}=r,d=Z(r,["className","children","position","onCloseAutoFocus","onPointerDownOutside","sideOffset","container"]);return Te.jsx(yw,{container:c,children:Te.jsxs(vw,X(Y({ref:t,className:Ua("relative z-[1000002] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1","bg-white border-gray-200",n),position:o,sideOffset:null!=l?l:4,onCloseAutoFocus:i,onPointerDownOutside:a},d),{children:[Te.jsx(Pw,{}),Te.jsx(bw,{className:Ua("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),style:{scrollBehavior:"smooth",overscrollBehavior:"contain",scrollSnapType:"y proximity",WebkitOverflowScrolling:"touch"},children:s}),Te.jsx(Rw,{})]}))})});Aw.displayName=vw.displayName;ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx(xw,Y({ref:t,className:Ua("py-1.5 pl-8 pr-2 text-sm font-semibold",n)},s))}).displayName=xw.displayName;const Ow=ae.forwardRef((e,t)=>{var r=e,{className:n,children:s}=r,o=Z(r,["className","children"]);return Te.jsxs(ww,X(Y({ref:t,className:Ua("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n)},o),{children:[Te.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:Te.jsx(jw,{children:Te.jsx(ei,{className:"h-4 w-4"})})}),Te.jsx(_w,{children:s})]}))});Ow.displayName=ww.displayName;ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx(Ew,Y({ref:t,className:Ua("-mx-1 my-1 h-px bg-muted",n)},s))}).displayName=Ew.displayName;var Dw=["Enter"," "],Mw=["ArrowUp","PageDown","End"],Iw=["ArrowDown","PageUp","Home",...Mw],Lw={ltr:[...Dw,"ArrowRight"],rtl:[...Dw,"ArrowLeft"]},Fw={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Uw="Menu",[$w,zw,qw]=Cs(Uw),[Ww,Bw]=xs(Uw,[qw,Vb,qf]),Vw=Vb(),Hw=qf(),[Kw,Gw]=Ww(Uw),[Jw,Yw]=Ww(Uw),Xw=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=e,a=Vw(t),[l,c]=ae.useState(null),d=ae.useRef(!1),u=Rs(o),h=Df(s);return ae.useEffect(()=>{const e=()=>{d.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>d.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),Te.jsx(ax,X(Y({},a),{children:Te.jsx(Kw,{scope:t,open:r,onOpenChange:u,content:l,onContentChange:c,children:Te.jsx(Jw,{scope:t,onClose:ae.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})}))};Xw.displayName=Uw;var Zw=ae.forwardRef((e,t)=>{const r=e,{__scopeMenu:n}=r,s=Z(r,["__scopeMenu"]),o=Vw(n);return Te.jsx(lx,X(Y(Y({},o),s),{ref:t}))});Zw.displayName="MenuAnchor";var Qw="MenuPortal",[e_,t_]=Ww(Qw,{forceMount:void 0}),r_=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=Gw(Qw,t);return Te.jsx(e_,{scope:t,forceMount:r,children:Te.jsx(Vs,{present:r||o.open,children:Te.jsx(Bs,{asChild:!0,container:s,children:n})})})};r_.displayName=Qw;var n_="MenuContent",[s_,o_]=Ww(n_),i_=ae.forwardRef((e,t)=>{const r=t_(n_,e.__scopeMenu),n=e,{forceMount:s=r.forceMount}=n,o=Z(n,["forceMount"]),i=Gw(n_,e.__scopeMenu),a=Yw(n_,e.__scopeMenu);return Te.jsx($w.Provider,{scope:e.__scopeMenu,children:Te.jsx(Vs,{present:s||i.open,children:Te.jsx($w.Slot,{scope:e.__scopeMenu,children:a.modal?Te.jsx(a_,X(Y({},o),{ref:t})):Te.jsx(l_,X(Y({},o),{ref:t}))})})})}),a_=ae.forwardRef((e,t)=>{const r=Gw(n_,e.__scopeMenu),n=ae.useRef(null),s=bs(t,n);return ae.useEffect(()=>{const e=n.current;if(e)return Nm(e)},[]),Te.jsx(d_,X(Y({},e),{ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:gs(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)}))}),l_=ae.forwardRef((e,t)=>{const r=Gw(n_,e.__scopeMenu);return Te.jsx(d_,X(Y({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)}))}),c_=_s("MenuContent.ScrollLock"),d_=ae.forwardRef((e,t)=>{const r=e,{__scopeMenu:n,loop:s=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:m}=r,g=Z(r,["__scopeMenu","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEntryFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll"]),y=Gw(n_,n),v=Yw(n_,n),b=Vw(n),x=Hw(n),w=zw(n),[_,j]=ae.useState(null),S=ae.useRef(null),k=bs(t,S,y.onContentChange),E=ae.useRef(0),N=ae.useRef(""),C=ae.useRef(0),T=ae.useRef(null),P=ae.useRef("right"),R=ae.useRef(0),A=m?xm:ae.Fragment,O=m?{as:c_,allowPinchZoom:!0}:void 0,D=e=>{var t,r;const n=N.current+e,s=w().filter(e=>!e.disabled),o=document.activeElement,i=null==(t=s.find(e=>e.ref.current===o))?void 0:t.textValue,a=function(e,t,r){const n=t.length>1&&Array.from(t).every(e=>e===t[0]),s=n?t[0]:t,o=r?e.indexOf(r):-1;let i=(a=e,l=Math.max(o,0),a.map((e,t)=>a[(l+t)%a.length]));var a,l;1===s.length&&(i=i.filter(e=>e!==r));const c=i.find(e=>e.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}(s.map(e=>e.textValue),n,i),l=null==(r=s.find(e=>e.textValue===a))?void 0:r.ref.current;!function e(t){N.current=t,window.clearTimeout(E.current),""!==t&&(E.current=window.setTimeout(()=>e(""),1e3))}(n),l&&setTimeout(()=>l.focus())};ae.useEffect(()=>()=>window.clearTimeout(E.current),[]),Ap();const M=ae.useCallback(e=>{var t,r;return P.current===(null==(t=T.current)?void 0:t.side)&&function(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return function(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const e=t[o],a=t[i],l=e.x,c=e.y,d=a.x,u=a.y;c>n!=u>n&&r<(d-l)*(n-c)/(u-c)+l&&(s=!s)}return s}(r,t)}(e,null==(r=T.current)?void 0:r.area)},[]);return Te.jsx(s_,{scope:n,searchRef:N,onItemEnter:ae.useCallback(e=>{M(e)&&e.preventDefault()},[M]),onItemLeave:ae.useCallback(e=>{var t;M(e)||(null==(t=S.current)||t.focus(),j(null))},[M]),onTriggerLeave:ae.useCallback(e=>{M(e)&&e.preventDefault()},[M]),pointerGraceTimerRef:C,onPointerGraceIntentChange:ae.useCallback(e=>{T.current=e},[]),children:Te.jsx(A,X(Y({},O),{children:Te.jsx(Sp,{asChild:!0,trapped:o,onMountAutoFocus:gs(i,e=>{var t;e.preventDefault(),null==(t=S.current)||t.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:Te.jsx(Ls,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:Te.jsx(Xf,X(Y({asChild:!0},x),{dir:v.dir,orientation:"vertical",loop:s,currentTabStopId:_,onCurrentTabStopIdChange:j,onEntryFocus:gs(c,e=>{v.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:Te.jsx(cx,X(Y(Y({role:"menu","aria-orientation":"vertical","data-state":I_(y.open),"data-radix-menu-content":"",dir:v.dir},b),g),{ref:k,style:Y({outline:"none"},g.style),onKeyDown:gs(g.onKeyDown,e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!r&&n&&D(e.key));const s=S.current;if(e.target!==s)return;if(!Iw.includes(e.key))return;e.preventDefault();const o=w().filter(e=>!e.disabled).map(e=>e.ref.current);Mw.includes(e.key)&&o.reverse(),function(e){const t=document.activeElement;for(const r of e){if(r===t)return;if(r.focus(),document.activeElement!==t)return}}(o)}),onBlur:gs(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(E.current),N.current="")}),onPointerMove:gs(e.onPointerMove,U_(e=>{const t=e.target,r=R.current!==e.clientX;if(e.currentTarget.contains(t)&&r){const t=e.clientX>R.current?"right":"left";P.current=t,R.current=e.clientX}}))}))}))})})}))})});i_.displayName=n_;var u_=ae.forwardRef((e,t)=>{const r=e,{__scopeMenu:n}=r,s=Z(r,["__scopeMenu"]);return Te.jsx(Ts.div,X(Y({role:"group"},s),{ref:t}))});u_.displayName="MenuGroup";var h_=ae.forwardRef((e,t)=>{const r=e,{__scopeMenu:n}=r,s=Z(r,["__scopeMenu"]);return Te.jsx(Ts.div,X(Y({},s),{ref:t}))});h_.displayName="MenuLabel";var f_="MenuItem",p_="menu.itemSelect",m_=ae.forwardRef((e,t)=>{const r=e,{disabled:n=!1,onSelect:s}=r,o=Z(r,["disabled","onSelect"]),i=ae.useRef(null),a=Yw(f_,e.__scopeMenu),l=o_(f_,e.__scopeMenu),c=bs(t,i),d=ae.useRef(!1);return Te.jsx(g_,X(Y({},o),{ref:c,disabled:n,onClick:gs(e.onClick,()=>{const e=i.current;if(!n&&e){const t=new CustomEvent(p_,{bubbles:!0,cancelable:!0});e.addEventListener(p_,e=>null==s?void 0:s(e),{once:!0}),Ps(e,t),t.defaultPrevented?d.current=!1:a.onClose()}}),onPointerDown:t=>{var r;null==(r=e.onPointerDown)||r.call(e,t),d.current=!0},onPointerUp:gs(e.onPointerUp,e=>{var t;d.current||null==(t=e.currentTarget)||t.click()}),onKeyDown:gs(e.onKeyDown,e=>{const t=""!==l.searchRef.current;n||t&&" "===e.key||Dw.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})}))});m_.displayName=f_;var g_=ae.forwardRef((e,t)=>{const r=e,{__scopeMenu:n,disabled:s=!1,textValue:o}=r,i=Z(r,["__scopeMenu","disabled","textValue"]),a=o_(f_,n),l=Hw(n),c=ae.useRef(null),d=bs(t,c),[u,h]=ae.useState(!1),[f,p]=ae.useState("");return ae.useEffect(()=>{var e;const t=c.current;t&&p((null!=(e=t.textContent)?e:"").trim())},[i.children]),Te.jsx($w.ItemSlot,{scope:n,disabled:s,textValue:null!=o?o:f,children:Te.jsx(Zf,X(Y({asChild:!0},l),{focusable:!s,children:Te.jsx(Ts.div,X(Y({role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0},i),{ref:d,onPointerMove:gs(e.onPointerMove,U_(e=>{if(s)a.onItemLeave(e);else if(a.onItemEnter(e),!e.defaultPrevented){e.currentTarget.focus({preventScroll:!0})}})),onPointerLeave:gs(e.onPointerLeave,U_(e=>a.onItemLeave(e))),onFocus:gs(e.onFocus,()=>h(!0)),onBlur:gs(e.onBlur,()=>h(!1))}))}))})}),y_=ae.forwardRef((e,t)=>{const r=e,{checked:n=!1,onCheckedChange:s}=r,o=Z(r,["checked","onCheckedChange"]);return Te.jsx(k_,{scope:e.__scopeMenu,checked:n,children:Te.jsx(m_,X(Y({role:"menuitemcheckbox","aria-checked":L_(n)?"mixed":n},o),{ref:t,"data-state":F_(n),onSelect:gs(o.onSelect,()=>null==s?void 0:s(!!L_(n)||!n),{checkForDefaultPrevented:!1})}))})});y_.displayName="MenuCheckboxItem";var v_="MenuRadioGroup",[b_,x_]=Ww(v_,{value:void 0,onValueChange:()=>{}}),w_=ae.forwardRef((e,t)=>{const r=e,{value:n,onValueChange:s}=r,o=Z(r,["value","onValueChange"]),i=Rs(s);return Te.jsx(b_,{scope:e.__scopeMenu,value:n,onValueChange:i,children:Te.jsx(u_,X(Y({},o),{ref:t}))})});w_.displayName=v_;var __="MenuRadioItem",j_=ae.forwardRef((e,t)=>{const r=e,{value:n}=r,s=Z(r,["value"]),o=x_(__,e.__scopeMenu),i=n===o.value;return Te.jsx(k_,{scope:e.__scopeMenu,checked:i,children:Te.jsx(m_,X(Y({role:"menuitemradio","aria-checked":i},s),{ref:t,"data-state":F_(i),onSelect:gs(s.onSelect,()=>{var e;return null==(e=o.onValueChange)?void 0:e.call(o,n)},{checkForDefaultPrevented:!1})}))})});j_.displayName=__;var S_="MenuItemIndicator",[k_,E_]=Ww(S_,{checked:!1}),N_=ae.forwardRef((e,t)=>{const r=e,{__scopeMenu:n,forceMount:s}=r,o=Z(r,["__scopeMenu","forceMount"]),i=E_(S_,n);return Te.jsx(Vs,{present:s||L_(i.checked)||!0===i.checked,children:Te.jsx(Ts.span,X(Y({},o),{ref:t,"data-state":F_(i.checked)}))})});N_.displayName=S_;var C_=ae.forwardRef((e,t)=>{const r=e,{__scopeMenu:n}=r,s=Z(r,["__scopeMenu"]);return Te.jsx(Ts.div,X(Y({role:"separator","aria-orientation":"horizontal"},s),{ref:t}))});C_.displayName="MenuSeparator";var T_=ae.forwardRef((e,t)=>{const r=e,{__scopeMenu:n}=r,s=Z(r,["__scopeMenu"]),o=Vw(n);return Te.jsx(dx,X(Y(Y({},o),s),{ref:t}))});T_.displayName="MenuArrow";var[P_,R_]=Ww("MenuSub"),A_="MenuSubTrigger",O_=ae.forwardRef((e,t)=>{const r=Gw(A_,e.__scopeMenu),n=Yw(A_,e.__scopeMenu),s=R_(A_,e.__scopeMenu),o=o_(A_,e.__scopeMenu),i=ae.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,c={__scopeMenu:e.__scopeMenu},d=ae.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return ae.useEffect(()=>d,[d]),ae.useEffect(()=>{const e=a.current;return()=>{window.clearTimeout(e),l(null)}},[a,l]),Te.jsx(Zw,X(Y({asChild:!0},c),{children:Te.jsx(g_,X(Y({id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":I_(r.open)},e),{ref:vs(t,s.onTriggerChange),onClick:t=>{var n;null==(n=e.onClick)||n.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:gs(e.onPointerMove,U_(t=>{o.onItemEnter(t),t.defaultPrevented||e.disabled||r.open||i.current||(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:gs(e.onPointerLeave,U_(e=>{var t,n;d();const s=null==(t=r.content)?void 0:t.getBoundingClientRect();if(s){const t=null==(n=r.content)?void 0:n.dataset.side,i="right"===t,l=i?-5:5,c=s[i?"left":"right"],d=s[i?"right":"left"];o.onPointerGraceIntentChange({area:[{x:e.clientX+l,y:e.clientY},{x:c,y:s.top},{x:d,y:s.top},{x:d,y:s.bottom},{x:c,y:s.bottom}],side:t}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(e),e.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:gs(e.onKeyDown,t=>{var s;const i=""!==o.searchRef.current;e.disabled||i&&" "===t.key||Lw[n.dir].includes(t.key)&&(r.onOpenChange(!0),null==(s=r.content)||s.focus(),t.preventDefault())})}))}))});O_.displayName=A_;var D_="MenuSubContent",M_=ae.forwardRef((e,t)=>{const r=t_(n_,e.__scopeMenu),n=e,{forceMount:s=r.forceMount}=n,o=Z(n,["forceMount"]),i=Gw(n_,e.__scopeMenu),a=Yw(n_,e.__scopeMenu),l=R_(D_,e.__scopeMenu),c=ae.useRef(null),d=bs(t,c);return Te.jsx($w.Provider,{scope:e.__scopeMenu,children:Te.jsx(Vs,{present:s||i.open,children:Te.jsx($w.Slot,{scope:e.__scopeMenu,children:Te.jsx(d_,X(Y({id:l.contentId,"aria-labelledby":l.triggerId},o),{ref:d,align:"start",side:"rtl"===a.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{var t;a.isUsingKeyboardRef.current&&(null==(t=c.current)||t.focus()),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:gs(e.onFocusOutside,e=>{e.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:gs(e.onEscapeKeyDown,e=>{a.onClose(),e.preventDefault()}),onKeyDown:gs(e.onKeyDown,e=>{var t;const r=e.currentTarget.contains(e.target),n=Fw[a.dir].includes(e.key);r&&n&&(i.onOpenChange(!1),null==(t=l.trigger)||t.focus(),e.preventDefault())})}))})})})});function I_(e){return e?"open":"closed"}function L_(e){return"indeterminate"===e}function F_(e){return L_(e)?"indeterminate":e?"checked":"unchecked"}function U_(e){return t=>"mouse"===t.pointerType?e(t):void 0}M_.displayName=D_;var $_=Xw,z_=Zw,q_=r_,W_=i_,B_=u_,V_=h_,H_=m_,K_=y_,G_=w_,J_=j_,Y_=N_,X_=C_,Z_=T_,Q_=O_,ej=M_,tj="DropdownMenu",[rj,nj]=xs(tj,[Bw]),sj=Bw(),[oj,ij]=rj(tj),aj=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=e,l=sj(t),c=ae.useRef(null),[d,u]=Gs({prop:s,defaultProp:null!=o&&o,onChange:i,caller:tj});return Te.jsx(oj,{scope:t,triggerId:Af(),triggerRef:c,contentId:Af(),open:d,onOpenChange:u,onOpenToggle:ae.useCallback(()=>u(e=>!e),[u]),modal:a,children:Te.jsx($_,X(Y({},l),{open:d,onOpenChange:u,dir:n,modal:a,children:r}))})};aj.displayName=tj;var lj="DropdownMenuTrigger",cj=ae.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:n,disabled:s=!1}=r,o=Z(r,["__scopeDropdownMenu","disabled"]),i=ij(lj,n),a=sj(n);return Te.jsx(z_,X(Y({asChild:!0},a),{children:Te.jsx(Ts.button,X(Y({type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s},o),{ref:vs(t,i.triggerRef),onPointerDown:gs(e.onPointerDown,e=>{s||0!==e.button||!1!==e.ctrlKey||(i.onOpenToggle(),i.open||e.preventDefault())}),onKeyDown:gs(e.onKeyDown,e=>{s||(["Enter"," "].includes(e.key)&&i.onOpenToggle(),"ArrowDown"===e.key&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})}))}))});cj.displayName=lj;var dj=e=>{const t=e,{__scopeDropdownMenu:r}=t,n=Z(t,["__scopeDropdownMenu"]),s=sj(r);return Te.jsx(q_,Y(Y({},s),n))};dj.displayName="DropdownMenuPortal";var uj="DropdownMenuContent",hj=ae.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:n}=r,s=Z(r,["__scopeDropdownMenu"]),o=ij(uj,n),i=sj(n),a=ae.useRef(!1);return Te.jsx(W_,X(Y(Y({id:o.contentId,"aria-labelledby":o.triggerId},i),s),{ref:t,onCloseAutoFocus:gs(e.onCloseAutoFocus,e=>{var t;a.current||null==(t=o.triggerRef.current)||t.focus(),a.current=!1,e.preventDefault()}),onInteractOutside:gs(e.onInteractOutside,e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;o.modal&&!n||(a.current=!0)}),style:Y(Y({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});hj.displayName=uj;ae.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:n}=r,s=Z(r,["__scopeDropdownMenu"]),o=sj(n);return Te.jsx(B_,X(Y(Y({},o),s),{ref:t}))}).displayName="DropdownMenuGroup";var fj=ae.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:n}=r,s=Z(r,["__scopeDropdownMenu"]),o=sj(n);return Te.jsx(V_,X(Y(Y({},o),s),{ref:t}))});fj.displayName="DropdownMenuLabel";var pj=ae.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:n}=r,s=Z(r,["__scopeDropdownMenu"]),o=sj(n);return Te.jsx(H_,X(Y(Y({},o),s),{ref:t}))});pj.displayName="DropdownMenuItem";var mj=ae.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:n}=r,s=Z(r,["__scopeDropdownMenu"]),o=sj(n);return Te.jsx(K_,X(Y(Y({},o),s),{ref:t}))});mj.displayName="DropdownMenuCheckboxItem";ae.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:n}=r,s=Z(r,["__scopeDropdownMenu"]),o=sj(n);return Te.jsx(G_,X(Y(Y({},o),s),{ref:t}))}).displayName="DropdownMenuRadioGroup";var gj=ae.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:n}=r,s=Z(r,["__scopeDropdownMenu"]),o=sj(n);return Te.jsx(J_,X(Y(Y({},o),s),{ref:t}))});gj.displayName="DropdownMenuRadioItem";var yj=ae.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:n}=r,s=Z(r,["__scopeDropdownMenu"]),o=sj(n);return Te.jsx(Y_,X(Y(Y({},o),s),{ref:t}))});yj.displayName="DropdownMenuItemIndicator";var vj=ae.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:n}=r,s=Z(r,["__scopeDropdownMenu"]),o=sj(n);return Te.jsx(X_,X(Y(Y({},o),s),{ref:t}))});vj.displayName="DropdownMenuSeparator";ae.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:n}=r,s=Z(r,["__scopeDropdownMenu"]),o=sj(n);return Te.jsx(Z_,X(Y(Y({},o),s),{ref:t}))}).displayName="DropdownMenuArrow";var bj=ae.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:n}=r,s=Z(r,["__scopeDropdownMenu"]),o=sj(n);return Te.jsx(Q_,X(Y(Y({},o),s),{ref:t}))});bj.displayName="DropdownMenuSubTrigger";var xj=ae.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:n}=r,s=Z(r,["__scopeDropdownMenu"]),o=sj(n);return Te.jsx(ej,X(Y(Y({},o),s),{ref:t,style:Y(Y({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});xj.displayName="DropdownMenuSubContent";var wj=dj,_j=hj,jj=fj,Sj=pj,kj=mj,Ej=gj,Nj=yj,Cj=vj,Tj=bj,Pj=xj;const Rj=aj,Aj=cj;ae.forwardRef((e,t)=>{var r=e,{className:n,inset:s,children:o}=r,i=Z(r,["className","inset","children"]);return Te.jsx(Tj,X(Y({ref:t,className:Ua("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",n)},i),{children:o}))}).displayName=Tj.displayName;ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx(Pj,Y({ref:t,className:Ua("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n)},s))}).displayName=Pj.displayName;const Oj=ae.forwardRef((e,t)=>{var r=e,{className:n,sideOffset:s=4}=r,o=Z(r,["className","sideOffset"]);return Te.jsx(wj,{children:Te.jsx(_j,Y({ref:t,sideOffset:s,className:Ua("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n)},o))})});Oj.displayName=_j.displayName;const Dj=ae.forwardRef((e,t)=>{var r=e,{className:n,inset:s}=r,o=Z(r,["className","inset"]);return Te.jsx(Sj,Y({ref:t,className:Ua("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",n)},o))});Dj.displayName=Sj.displayName;ae.forwardRef((e,t)=>{var r=e,{className:n,children:s,checked:o}=r,i=Z(r,["className","children","checked"]);return Te.jsxs(kj,X(Y({ref:t,className:Ua("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:o},i),{children:[Te.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:Te.jsx(Nj,{children:Te.jsx(ei,{className:"h-4 w-4"})})}),s]}))}).displayName=kj.displayName;ae.forwardRef((e,t)=>{var r=e,{className:n,children:s}=r,o=Z(r,["className","children"]);return Te.jsxs(Ej,X(Y({ref:t,className:Ua("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n)},o),{children:[Te.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:Te.jsx(Nj,{children:Te.jsx(oi,{className:"h-2 w-2 fill-current"})})}),s]}))}).displayName=Ej.displayName;ae.forwardRef((e,t)=>{var r=e,{className:n,inset:s}=r,o=Z(r,["className","inset"]);return Te.jsx(jj,Y({ref:t,className:Ua("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",n)},o))}).displayName=jj.displayName;ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx(Cj,Y({ref:t,className:Ua("-mx-1 my-1 h-px bg-muted",n)},s))}).displayName=Cj.displayName;const Mj=({requests:e,isLoading:t,filters:r,onFiltersChange:n,onRequestSelect:s,onRequestUpdate:o,onRequestDelete:i,getPriorityColor:a,getStatusColor:l})=>{const[c,d]=ae.useState(""),u=e.filter(e=>{var t;return e.title.toLowerCase().includes(c.toLowerCase())||(null==(t=e.description)?void 0:t.toLowerCase().includes(c.toLowerCase()))}),h=(e,t)=>ie(void 0,null,function*(){try{yield o(e,{status:t})}catch(r){}}),f=e=>{switch(e){case"urgent":return"border-red-400 bg-red-50";case"high":return"border-orange-400 bg-orange-50";case"medium":return"border-yellow-300 bg-yellow-50";case"low":return"border-gray-200 bg-gray-50";default:return"border-gray-200 bg-white"}};return t?Te.jsx(Za,{children:Te.jsx(rl,{className:"flex items-center justify-center h-64",children:Te.jsxs("div",{className:"text-center",children:[Te.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),Te.jsx("p",{className:"text-muted-foreground",children:"Loading requests..."})]})})}):Te.jsxs("div",{className:"space-y-4",children:[Te.jsxs(Za,{children:[Te.jsx(Qa,{children:Te.jsxs(el,{className:"flex items-center gap-2",children:[Te.jsx(fi,{className:"h-5 w-5"}),"Filters"]})}),Te.jsx(rl,{children:Te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[Te.jsxs("div",{className:"relative",children:[Te.jsx(Ri,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),Te.jsx(Sg,{placeholder:"Search requests...",value:c,onChange:e=>d(e.target.value),className:"pl-8"})]}),Te.jsxs(Nw,{value:r.status||"all",onValueChange:e=>n(X(Y({},r),{status:"all"===e?void 0:e})),children:[Te.jsx(Tw,{className:"w-full",children:Te.jsx(Cw,{placeholder:"All Statuses"})}),Te.jsxs(Aw,{children:[Te.jsx(Ow,{value:"all",children:"All Statuses"}),[{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"done",label:"Done"},{value:"pending_review",label:"Pending Review"}].map(e=>Te.jsx(Ow,{value:e.value,children:e.label},e.value))]})]}),Te.jsxs(Nw,{value:r.priority||"all",onValueChange:e=>n(X(Y({},r),{priority:"all"===e?void 0:e})),children:[Te.jsx(Tw,{className:"w-full",children:Te.jsx(Cw,{placeholder:"All Priorities"})}),Te.jsxs(Aw,{children:[Te.jsx(Ow,{value:"all",children:"All Priorities"}),[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"urgent",label:"Urgent"}].map(e=>Te.jsx(Ow,{value:e.value,children:e.label},e.value))]})]}),Te.jsx(Sg,{placeholder:"Assigned User ID",value:r.assigned_to||"",onChange:e=>n(X(Y({},r),{assigned_to:e.target.value||void 0}))}),Te.jsx(Xa,{variant:"outline",onClick:()=>{n({}),d("")},children:"Clear Filters"})]})})]}),Te.jsxs(Za,{children:[Te.jsx(Qa,{children:Te.jsxs(el,{children:["Requests (",u.length,")"]})}),Te.jsx(rl,{children:0===u.length?Te.jsxs("div",{className:"text-center py-8",children:[Te.jsx(wi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),Te.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No requests found"}),Te.jsx("p",{className:"text-muted-foreground",children:0===e.length?"No requests have been created yet.":"No requests match your filters."})]}):Te.jsx(fy,{className:"h-[600px]",children:Te.jsx("div",{className:"space-y-4",children:u.map(e=>{var t,r;return Te.jsx("div",{className:`p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors ${f(e.priority)}`,onClick:()=>s(e),children:Te.jsxs("div",{className:"flex items-start justify-between",children:[Te.jsxs("div",{className:"flex-1 space-y-2",children:[Te.jsxs("div",{className:"flex items-center gap-2",children:[Te.jsx("h3",{className:"font-semibold",children:e.title}),Te.jsx(Tf,{className:a(e.priority),children:e.priority}),Te.jsx(Tf,{className:l(e.status),children:e.status}),e.type&&Te.jsx(Tf,{variant:"secondary",children:e.type})]}),e.description&&Te.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description}),Te.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[Te.jsxs("div",{className:"flex items-center gap-1",children:[Te.jsx(zi,{className:"h-4 w-4"}),Te.jsxs("span",{children:["Created by ",null==(t=e.created_by_user)?void 0:t.full_name]})]}),e.assigned_to_user&&Te.jsxs("div",{className:"flex items-center gap-1",children:[Te.jsx(zy,{className:"h-4 w-4",children:Te.jsx(Wy,{className:"text-xs",children:null==(r=e.assigned_to_user.full_name)?void 0:r.charAt(0)})}),Te.jsxs("span",{children:["Assigned to ",e.assigned_to_user.full_name]})]}),Te.jsxs("div",{className:"flex items-center gap-1",children:[Te.jsx(ai,{className:"h-4 w-4"}),Te.jsx("span",{children:ve(new Date(e.created_at),{addSuffix:!0})})]}),e.messages&&e.messages.length>0&&Te.jsxs("div",{className:"flex items-center gap-1",children:[Te.jsx(wi,{className:"h-4 w-4"}),Te.jsxs("span",{children:[e.messages.length," messages"]})]})]})]}),Te.jsxs(Rj,{children:[Te.jsx(Aj,{asChild:!0,children:Te.jsx(Xa,{variant:"ghost",size:"sm",children:Te.jsx(Si,{className:"h-4 w-4"})})}),Te.jsxs(Oj,{align:"end",children:[Te.jsxs(Dj,{onClick:()=>s(e),children:[Te.jsx(wi,{className:"h-4 w-4 mr-2"}),"View Messages"]}),Te.jsxs(Dj,{onClick:()=>h(e.id,"in_progress"),children:[Te.jsx(Mi,{className:"h-4 w-4 mr-2"}),"Mark In Progress"]}),Te.jsxs(Dj,{onClick:()=>h(e.id,"done"),children:[Te.jsx(Mi,{className:"h-4 w-4 mr-2"}),"Mark Done"]}),Te.jsxs(Dj,{onClick:()=>{return t=e.id,ie(void 0,null,function*(){if(confirm("Are you sure you want to delete this request?"))try{yield i(t)}catch(e){}});var t},className:"text-red-600",children:[Te.jsx(Li,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})},e.id)})})})})]})]})},Ij=({request:e,onSendMessage:t,onRequestUpdate:r})=>{var n,s,o;const{user:i}=Xu(),[a,l]=ae.useState(""),[c,d]=ae.useState(!1),[u,h]=ae.useState(!1),[f,p]=ae.useState(""),[m,g]=ae.useState(0),y=ae.useRef(null),v=ae.useRef(null);ae.useEffect(()=>{b()},[e.messages]);const b=()=>{var e;null==(e=y.current)||e.scrollIntoView({behavior:"smooth"})},x=()=>ie(void 0,null,function*(){if(a.trim()){d(!0);try{const r=w(a);if("broadcast"===e.category){const t={id:`msg-${Date.now()}`,message_text:a,created_by:(null==i?void 0:i.id)||"",created_by_user:{id:(null==i?void 0:i.id)||"",full_name:(null==i?void 0:i.full_name)||(null==i?void 0:i.email)||"Unknown User",email:(null==i?void 0:i.email)||"",avatar_url:(null==i?void 0:i.avatar_url)||""},created_at:(new Date).toISOString(),is_broadcast:!0,mentions:r},n=JSON.parse(localStorage.getItem("broadcastRequests")||"[]").map(r=>r.id===e.id?X(Y({},r),{messages:[...r.messages||[],t],updated_at:(new Date).toISOString()}):r);localStorage.setItem("broadcastRequests",JSON.stringify(n))}yield t(e.id,a,r),l("")}catch(r){}finally{d(!1)}}}),w=e=>{const t=/@(\w+)/g,r=[];let n;for(;null!==(n=t.exec(e));)r.push(n[1]);return r},_=e=>{const t=a.slice(0,m-f.length-1),r=a.slice(m);l(t+"@"+e+" "+r),h(!1),setTimeout(()=>{var e;null==(e=v.current)||e.focus()},0)};return Te.jsxs("div",{className:"space-y-4",children:[Te.jsx(Za,{children:Te.jsx(Qa,{children:Te.jsxs("div",{className:"flex items-start justify-between",children:[Te.jsxs("div",{className:"space-y-2",children:[Te.jsxs("div",{className:"flex items-center gap-2",children:[Te.jsx("h2",{className:"text-xl font-semibold",children:e.title}),Te.jsx(Tf,{className:(e=>{switch(e){case"urgent":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(e.priority),children:e.priority}),Te.jsx(Tf,{className:(e=>{switch(e){case"open":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-orange-100 text-orange-800";case"done":return"bg-green-100 text-green-800";case"pending_review":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}})(e.status),children:e.status})]}),e.description&&Te.jsx("p",{className:"text-muted-foreground",children:e.description}),"broadcast"===e.category&&Te.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[Te.jsx(qi,{className:"h-4 w-4 text-blue-600"}),Te.jsx("span",{className:"text-sm font-medium text-blue-800",children:"📢 Broadcast Chat - All Users Included"}),Te.jsx(Tf,{variant:"outline",className:"text-xs text-blue-700 border-blue-300",children:"Everyone can participate"})]}),Te.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[Te.jsxs("div",{className:"flex items-center gap-1",children:[Te.jsx(zi,{className:"h-4 w-4"}),Te.jsxs("span",{children:["Created by ",null==(n=e.created_by_user)?void 0:n.full_name]})]}),e.assigned_to_user&&Te.jsxs("div",{className:"flex items-center gap-1",children:[Te.jsx(zy,{className:"h-4 w-4",children:Te.jsx(Wy,{className:"text-xs",children:null==(s=e.assigned_to_user.full_name)?void 0:s.charAt(0)})}),Te.jsxs("span",{children:["Assigned to ",e.assigned_to_user.full_name]})]}),Te.jsxs("div",{className:"flex items-center gap-1",children:[Te.jsx(ai,{className:"h-4 w-4"}),Te.jsx("span",{children:ve(new Date(e.created_at),{addSuffix:!0})})]})]})]}),Te.jsx("div",{className:"flex items-center gap-2",children:Te.jsxs(Nw,{value:e.status,onValueChange:t=>ie(void 0,null,function*(){try{yield r(e.id,{status:t})}catch(n){}}),children:[Te.jsx(Tw,{className:"w-32",children:Te.jsx(Cw,{})}),Te.jsxs(Aw,{children:[Te.jsx(Ow,{value:"open",children:"Open"}),Te.jsx(Ow,{value:"in_progress",children:"In Progress"}),Te.jsx(Ow,{value:"done",children:"Done"}),Te.jsx(Ow,{value:"pending_review",children:"Pending Review"})]})]})})]})})}),Te.jsxs(Za,{children:[Te.jsx(Qa,{children:Te.jsxs(el,{children:["Messages (",(null==(o=e.messages)?void 0:o.length)||0,")"]})}),Te.jsx(rl,{children:Te.jsxs(fy,{className:"h-[400px]",children:[Te.jsx("div",{className:"space-y-4",children:e.messages&&e.messages.length>0?e.messages.map(e=>{var t,r,n;return Te.jsxs("div",{className:"flex gap-3",children:[Te.jsx(zy,{className:"h-8 w-8",children:Te.jsx(Wy,{children:(null==(r=null==(t=e.sender)?void 0:t.full_name)?void 0:r.charAt(0))||"U"})}),Te.jsxs("div",{className:"flex-1 space-y-1",children:[Te.jsxs("div",{className:"flex items-center gap-2",children:[Te.jsx("span",{className:"font-medium text-sm",children:(null==(n=e.sender)?void 0:n.full_name)||"Unknown User"}),Te.jsx("span",{className:"text-xs text-muted-foreground",children:ve(new Date(e.created_at),{addSuffix:!0})}),e.is_broadcast&&Te.jsx(Tf,{variant:"outline",className:"text-xs text-blue-700 border-blue-300",children:"📢 Broadcast"}),e.sender_id===(null==i?void 0:i.id)&&Te.jsxs(Rj,{children:[Te.jsx(Aj,{asChild:!0,children:Te.jsx(Xa,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:Te.jsx(Si,{className:"h-3 w-3"})})}),Te.jsx(Oj,{align:"end",children:Te.jsxs(Dj,{onClick:()=>(e.id,ie(void 0,null,function*(){confirm("Are you sure you want to delete this message?")})),children:[Te.jsx(Li,{className:"h-4 w-4 mr-2"}),"Delete"]})})]})]}),Te.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[Te.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.message_text}),e.mentions&&e.mentions.length>0&&Te.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[Te.jsx(Ko,{className:"h-3 w-3 text-muted-foreground"}),Te.jsxs("span",{className:"text-xs text-muted-foreground",children:["Mentioned ",e.mentions.length," user(s)"]})]})]})]})]},e.id)}):Te.jsx("div",{className:"text-center py-8",children:Te.jsx("p",{className:"text-muted-foreground",children:"No messages yet. Start the conversation!"})})}),Te.jsx("div",{ref:y})]})})]}),Te.jsx(Za,{children:Te.jsx(rl,{className:"pt-6",children:Te.jsxs("div",{className:"space-y-4",children:[Te.jsxs("div",{className:"relative",children:[Te.jsx(Vy,{ref:v,value:a,onChange:e=>{const t=e.target.value;l(t);const r=e.target.selectionStart,n=t.slice(0,r),s=n.lastIndexOf("@");if(-1!==s&&s<r){const e=n.slice(s+1);p(e),h(!0),g(r)}else h(!1)},onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),x())},placeholder:"broadcast"===e.category?"Type your message for all users... Use @ to mention someone":"Type your message... Use @ to mention someone",className:"min-h-[100px] resize-none"}),u&&Te.jsx("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-white border rounded-lg shadow-lg z-10",children:Te.jsxs("div",{className:"p-2",children:[Te.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:['Suggestions for "',f,'"']}),Te.jsxs("div",{className:"space-y-1",children:[Te.jsxs("div",{className:"flex items-center gap-2 p-2 hover:bg-muted rounded cursor-pointer",onClick:()=>_("lara"),children:[Te.jsx(zy,{className:"h-6 w-6",children:Te.jsx(Wy,{className:"text-xs",children:"L"})}),Te.jsx("span",{className:"text-sm",children:"Lara"})]}),Te.jsxs("div",{className:"flex items-center gap-2 p-2 hover:bg-muted rounded cursor-pointer",onClick:()=>_("mark"),children:[Te.jsx(zy,{className:"h-6 w-6",children:Te.jsx(Wy,{className:"text-xs",children:"M"})}),Te.jsx("span",{className:"text-sm",children:"Mark"})]})]})]})})]}),Te.jsxs("div",{className:"flex justify-between items-center",children:[Te.jsx("div",{className:"text-xs text-muted-foreground",children:"Press Enter to send, Shift+Enter for new line"}),Te.jsxs(Xa,{onClick:x,disabled:c||!a.trim(),children:[Te.jsx(Ai,{className:"h-4 w-4 mr-2"}),c?"Sending...":"Send Message"]})]})]})})})]})},Lj=()=>{const{user:e}=Xu(),[t,r]=ae.useState([]),[n,s]=ae.useState(!0),[o,i]=ae.useState({});ae.useEffect(()=>{e&&(By.setCurrentUser(e),a())},[e]),ae.useEffect(()=>{e&&a()},[o]);const a=()=>ie(void 0,null,function*(){try{s(!0);const e=yield By.getRequests(o);r(e)}catch(e){Nf("load requests",e,"using empty state")}finally{s(!1)}});return{requests:t,isLoading:n,filters:o,setFilters:i,createRequest:e=>ie(void 0,null,function*(){try{const t=yield By.createRequest(e);return yield a(),t}catch(t){throw t}}),updateRequest:(e,t)=>ie(void 0,null,function*(){try{const n=yield By.updateRequest(e,t);return r(t=>t.map(t=>t.id===e?Y(Y({},t),n):t)),n}catch(n){throw n}}),deleteRequest:e=>ie(void 0,null,function*(){try{yield By.deleteRequest(e),r(t=>t.filter(t=>t.id!==e))}catch(t){throw t}}),refreshRequests:()=>{a()}}},Fj=[{id:"1",name:"Houssam",role:"Owner"},{id:"2",name:"Samer",role:"Owner"},{id:"3",name:"Kareem",role:"Owner"},{id:"4",name:"Mark",role:"Garage Manager"},{id:"5",name:"Lara",role:"Assistant"},{id:"6",name:"Samaya",role:"Assistant"},{id:"7",name:"Khalil",role:"Hybrid"},{id:"8",name:"Tamara",role:"Hybrid"},{id:"9",name:"Elie",role:"Hybrid"}],Uj=de.memo(()=>{const[e,t]=ae.useState(!1),[r,n]=ae.useState("");if(ae.useEffect(()=>{const e=e=>{t(!0),n(e.message||"An unexpected error occurred")};return window.addEventListener("error",e),()=>window.removeEventListener("error",e)},[]),e)return Te.jsx("div",{className:"p-6",children:Te.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[Te.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Something went wrong"}),Te.jsx("p",{className:"text-red-700 mb-4",children:r}),Te.jsx("button",{onClick:()=>{t(!1),n(""),window.location.reload()},className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Reload Page"})]})});const{user:s}=Xu(),[o,i]=ae.useState("messages"),[a,l]=ae.useState([]),[c,d]=ae.useState([]),[u,h]=ae.useState(""),[f,p]=ae.useState(""),[m,g]=ae.useState(!1),[y,v]=ae.useState(!1),[b,x]=ae.useState([]),[w,_]=ae.useState(null),[j,S]=ae.useState([]),[k,E]=ae.useState(0),[N,C]=ae.useState(!0),[T,P]=ae.useState([]),[R,A]=ae.useState(!1);ae.useCallback(()=>ie(void 0,null,function*(){if(!R)try{A(!0);const{data:e,error:t}=yield Hu.from("user_profiles").select("id, full_name, email, avatar_url").neq("id",null==s?void 0:s.id);if(!t&&e&&e.length>0){const t=e.map(e=>{var t;return{id:e.id,name:e.full_name||(null==(t=e.email)?void 0:t.split("@")[0])||"Unknown User",email:e.email,role:"User",avatar_url:e.avatar_url}});return void P(t)}const r=Fj.filter(e=>e.id!==((null==s?void 0:s.id)||"1"));P(r)}catch(e){Nf("load users",e,"using authorized users");const t=Fj.filter(e=>e.id!==((null==s?void 0:s.id)||"1"));P(t)}finally{A(!1)}}),[null==s?void 0:s.id]);const{requests:O,isLoading:D,filters:M,setFilters:I,createRequest:L,refreshRequests:F}=Lj(),[U,$]=ae.useState({title:"",description:"",category:"",priority:"medium",assignee_id:"",recipients:[]}),z=ae.useCallback(()=>ie(void 0,null,function*(){try{const e=yield By.getNotifications();S(e),E(e.length)}catch(e){S([]),E(0)}}),[]);ae.useEffect(()=>{let e=!0;const t=ie(void 0,null,function*(){if(s&&e)try{By.setCurrentUser(s);const t=ie(void 0,null,function*(){try{const{data:e,error:t}=yield Hu.from("channels").select("*");t?(l([{id:"1",name:"General Discussion",type:"team"},{id:"2",name:"Technical Support",type:"team"},{id:"3",name:"Sales Updates",type:"team"},{id:"4",name:"Garage Operations",type:"team"},{id:"5",name:"Management",type:"team"}]),h("1")):(l(e||[]),e&&e.length>0&&h(e[0].id))}catch(Tk){}finally{C(!1)}}),r=ie(void 0,null,function*(){try{const{data:e,error:t}=yield Hu.from("messages").select("*");d(t?[]:e||[])}catch(Tk){}}),n=z(),o=ie(void 0,null,function*(){if(!R)try{A(!0);const{data:e,error:t}=yield Hu.from("user_profiles").select("id, full_name, email, avatar_url").neq("id",null==s?void 0:s.id);if(!t&&e&&e.length>0){const t=e.map(e=>{var t;return{id:e.id,name:e.full_name||(null==(t=e.email)?void 0:t.split("@")[0])||"Unknown User",email:e.email,role:"User",avatar_url:e.avatar_url}});return void P(t)}const r=Fj.filter(e=>e.id!==((null==s?void 0:s.id)||"1"));P(r)}catch(e){const t=Fj.filter(e=>e.id!==((null==s?void 0:s.id)||"1"));P(t)}finally{A(!1)}});if(yield Promise.allSettled([t,r,n,o]),e)return q()}catch(t){C(!1)}});return()=>{e=!1,t&&"function"==typeof t&&t()}},[s]);const q=()=>{let e,t;try{e=By.subscribeToNotifications(e=>{e.new&&e.new.user_id===(null==s?void 0:s.id)&&(z(),ps({title:"New notification",description:"You have a new request notification"}))}),t=By.subscribeToRequests(e=>{F()})}catch(r){}return()=>{try{e&&e.unsubscribe(),t&&t.unsubscribe()}catch(r){}}},W=()=>ie(void 0,null,function*(){if(!f.trim()||!u)return;const e={channel_id:u,author_id:(null==s?void 0:s.id)||"1",body:f,mentions:[],attachments:[]};try{const{error:t}=yield Hu.from("messages").insert(e);if(t){const t=JSON.parse(localStorage.getItem("messages")||"[]"),r=X(Y({},e),{id:Date.now().toString(),created_at:(new Date).toISOString()});t.push(r),localStorage.setItem("messages",JSON.stringify(t)),d(t)}else ie(void 0,null,function*(){try{const{data:e,error:t}=yield Hu.from("messages").select("*");d(t?[]:e||[])}catch(Tk){Nf("load messages",Tk,"using fallback")}});p("")}catch(Tk){}});return ae.useEffect(()=>{const e=setTimeout(()=>{N&&C(!1)},1e4);return()=>clearTimeout(e)},[N]),N||D?Te.jsx("div",{className:"p-6",children:Te.jsxs("div",{className:"animate-pulse space-y-4",children:[Te.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),Te.jsx("div",{className:"h-64 bg-gray-200 rounded"}),Te.jsx("div",{className:"text-center text-gray-500 mt-4",children:"Loading Message Center..."}),Te.jsx("div",{className:"text-xs text-gray-400 mt-2",children:"If this takes too long, try refreshing the page"})]})}):Te.jsxs("div",{className:"p-6 space-y-6",children:[Te.jsxs("div",{className:"flex justify-between items-center",children:[Te.jsx("h1",{className:"text-3xl font-bold",children:"Message & Request Center"}),Te.jsxs("div",{className:"flex gap-2",children:[Te.jsxs(mg,{open:y,onOpenChange:v,children:[Te.jsx(gg,{asChild:!0,children:Te.jsxs(Xa,{variant:"outline",children:[Te.jsx(_i,{className:"w-4 h-4 mr-2"}),"Start New Chat"]})}),Te.jsxs(bg,{className:"sm:max-w-md overflow-visible","aria-describedby":"start-chat-description",children:[Te.jsxs(xg,{children:[Te.jsx(_g,{children:"Start New Chat"}),Te.jsx("p",{id:"start-chat-description",className:"text-sm text-gray-600",children:"Select a user to start a new conversation with"})]}),Te.jsxs("div",{className:"space-y-4",children:[Te.jsxs("div",{children:[Te.jsx(Cg,{htmlFor:"user-select",children:"Select Users to Chat With"}),Te.jsx("div",{className:"text-xs text-gray-500 mb-2",children:R?"Loading...":`${T.length} users available`}),Te.jsx("div",{className:"space-y-2",children:T.map(e=>Te.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[Te.jsx("input",{type:"checkbox",checked:b.includes(e.id),onChange:t=>{t.target.checked?x(t=>[...t,e.id]):x(t=>t.filter(t=>t!==e.id))},className:"rounded border-gray-300"}),Te.jsx("span",{className:"text-sm",children:e.name})]},e.id))})]}),Te.jsx(Xa,{onClick:()=>ie(void 0,null,function*(){var e;if(0===b.length)return;const t=T.filter(e=>b.includes(e.id));if(0===t.length)return;const r=(null==s?void 0:s.id)||"1",n=(null==(e=null==s?void 0:s.email)?void 0:e.split("@")[0])||"You";let o,i;if(1===t.length){const e=t[0];o=`${n} & ${e.name}`,i=`dm_${r}_${e.id}`}else{o=`${n}, ${t.map(e=>e.name.split(" ")[0]).join(", ")}`,i=`group_${r}_${Date.now()}`}if(a.find(e=>e.id===i))return h(i),v(!1),void x([]);const c={id:i,name:o,type:1===t.length?"direct":"group",description:1===t.length?`Direct message with ${t[0].name}`:`Group chat with ${t.length} participants`};try{const{error:e}=yield Hu.from("channels").insert(c);if(e){const e=JSON.parse(localStorage.getItem("channels")||"[]");e.push(c),localStorage.setItem("channels",JSON.stringify(e))}l(e=>[...e,c]),h(i),v(!1),x([]),ps({title:"Chat Created",description:1===t.length?`Direct chat with ${t[0].name} created`:`Group chat with ${t.length} participants created`})}catch(Tk){ps({title:"Error",description:"Failed to create chat. Please try again.",variant:"destructive"})}}),disabled:0===b.length,className:"w-full",children:"Start Chat"})]})]})]}),Te.jsx(Xy,{open:m,onOpenChange:g,onSubmit:e=>ie(void 0,null,function*(){try{yield L(e),g(!1),ps({title:"Request created",description:"Your request has been submitted successfully"})}catch(t){ps({title:"Error",description:"Failed to create request",variant:"destructive"})}})}),Te.jsxs(Xa,{onClick:()=>g(!0),children:[Te.jsx(Ni,{className:"w-4 h-4 mr-2"}),"Create Request"]})]})]}),Te.jsxs(yp,{value:o,onValueChange:i,children:[Te.jsxs(vp,{children:[Te.jsxs(bp,{value:"messages",children:[Te.jsx(_i,{className:"w-4 h-4 mr-2"}),"Messages"]}),Te.jsxs(bp,{value:"requests",children:[Te.jsx(pi,{className:"w-4 h-4 mr-2"}),"Requests",k>0&&Te.jsx(Tf,{variant:"destructive",className:"ml-2 text-xs",children:k})]})]}),Te.jsx(xp,{value:"messages",className:"space-y-4",children:Te.jsxs(Za,{children:[Te.jsx(Qa,{children:Te.jsx(el,{children:"Team Communication"})}),Te.jsx(rl,{children:Te.jsxs("div",{className:"space-y-4",children:[Te.jsx("div",{className:"flex gap-2 flex-wrap",children:a.map(e=>Te.jsxs("button",{onClick:()=>h(e.id),className:"px-3 py-1.5 rounded-lg text-sm font-medium transition-colors "+(u===e.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["# ",e.name]},e.id))}),Te.jsx(fy,{className:"border rounded-lg p-4 h-64",children:c.filter(e=>e.channel_id===u).length>0?Te.jsx("div",{className:"space-y-3",children:c.filter(e=>e.channel_id===u).map(e=>{var t;return Te.jsxs("div",{className:"border-b pb-2 last:border-b-0",children:[Te.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Te.jsx(zy,{className:"h-6 w-6",children:Te.jsx(Wy,{className:"text-xs",children:e.author_id.charAt(0).toUpperCase()})}),Te.jsx("div",{className:"text-sm font-medium",children:(null==(t=Fj.find(t=>t.id===e.author_id))?void 0:t.name)||e.author_id}),Te.jsx("div",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleTimeString()})]}),Te.jsx("div",{className:"text-sm ml-8",children:e.body})]},e.id)})}):Te.jsx("div",{className:"text-center text-gray-500 py-8",children:"No messages in this channel yet"})}),Te.jsxs("div",{className:"flex gap-2",children:[Te.jsx(Sg,{id:"message-input",name:"message-input",placeholder:"Type your message...",value:f,onChange:e=>p(e.target.value),onKeyPress:e=>"Enter"===e.key&&W(),className:"flex-1"}),Te.jsx(Xa,{onClick:W,size:"sm",children:Te.jsx(Ai,{className:"w-4 h-4"})})]})]})})]})}),Te.jsx(xp,{value:"requests",className:"space-y-4",children:Te.jsxs("div",{className:"flex gap-4",children:[Te.jsx("div",{className:"flex-1",children:Te.jsx(Mj,{requests:O,onSelectRequest:_,filters:M,onFiltersChange:I,isLoading:D})}),w&&Te.jsx("div",{className:"w-96",children:Te.jsx(Ij,{request:w,onClose:()=>_(null)})})]})})]})]})});var $j="Switch",[zj,qj]=xs($j),[Wj,Bj]=zj($j),Vj=ae.forwardRef((e,t)=>{const r=e,{__scopeSwitch:n,name:s,checked:o,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:d,form:u}=r,h=Z(r,["__scopeSwitch","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"]),[f,p]=ae.useState(null),m=bs(t,e=>p(e)),g=ae.useRef(!1),y=!f||(u||!!f.closest("form")),[v,b]=Gs({prop:o,defaultProp:null!=i&&i,onChange:d,caller:$j});return Te.jsxs(Wj,{scope:n,checked:v,disabled:l,children:[Te.jsx(Ts.button,X(Y({type:"button",role:"switch","aria-checked":v,"aria-required":a,"data-state":Jj(v),"data-disabled":l?"":void 0,disabled:l,value:c},h),{ref:m,onClick:gs(e.onClick,e=>{b(e=>!e),y&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})})),y&&Te.jsx(Gj,{control:f,bubbles:!g.current,name:s,value:c,checked:v,required:a,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});Vj.displayName=$j;var Hj="SwitchThumb",Kj=ae.forwardRef((e,t)=>{const r=e,{__scopeSwitch:n}=r,s=Z(r,["__scopeSwitch"]),o=Bj(Hj,n);return Te.jsx(Ts.span,X(Y({"data-state":Jj(o.checked),"data-disabled":o.disabled?"":void 0},s),{ref:t}))});Kj.displayName=Hj;var Gj=ae.forwardRef((e,t)=>{var r=e,{__scopeSwitch:n,control:s,checked:o,bubbles:i=!0}=r,a=Z(r,["__scopeSwitch","control","checked","bubbles"]);const l=ae.useRef(null),c=bs(l,t),d=ux(o),u=qb(s);return ae.useEffect(()=>{const e=l.current;if(!e)return;const t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(d!==o&&r){const t=new Event("click",{bubbles:i});r.call(e,o),e.dispatchEvent(t)}},[d,o,i]),Te.jsx("input",X(Y({type:"checkbox","aria-hidden":!0,defaultChecked:o},a),{tabIndex:-1,ref:c,style:X(Y(Y({},a.style),u),{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))});function Jj(e){return e?"checked":"unchecked"}Gj.displayName="SwitchBubbleInput";var Yj=Vj,Xj=Kj;const Zj=ae.forwardRef((e,t)=>{var r=e,{className:n}=r,s=Z(r,["className"]);return Te.jsx(Yj,X(Y({className:Ua("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n)},s),{ref:t,children:Te.jsx(Xj,{className:Ua("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}))});Zj.displayName=Yj.displayName;const Qj={theme:{primaryColor:"#3b82f6",secondaryColor:"#64748b",accentColor:"#f59e0b",sidebarStyle:"modern"},branding:{companyName:"Monza TECH S.A.L.",showLogo:!0,welcomeMessage:"Welcome back",footerText:"Powered by Monza TECH"},interface:{compactMode:!1,showAnimations:!0,highContrast:!1,fontSize:"medium"},dashboard:{showWeather:!0,showQuickStats:!0,defaultView:"enhanced",autoRefresh:!0}};function eS(){const[e,t]=ae.useState(Qj),[r,n]=ae.useState(!1),[s,o]=ae.useState(!1);ae.useEffect(()=>{const e=localStorage.getItem("monza-customization");if(e)try{const r=JSON.parse(e);t(Y(Y({},Qj),r))}catch(r){}},[]),ae.useEffect(()=>{if(s){const t=document.documentElement;t.style.setProperty("--primary-color",e.theme.primaryColor),t.style.setProperty("--secondary-color",e.theme.secondaryColor),t.style.setProperty("--accent-color",e.theme.accentColor);const r={small:"14px",medium:"16px",large:"18px"};t.style.setProperty("--base-font-size",r[e.interface.fontSize]),e.interface.compactMode?document.body.classList.add("compact-mode"):document.body.classList.remove("compact-mode")}},[e,s]);const i=(r,s)=>{const o=r.split("."),i=Y({},e);let a=i;for(let e=0;e<o.length-1;e++)a=a[o[e]];a[o[o.length-1]]=s,t(i),n(!0)};return Te.jsxs("div",{className:"p-6 space-y-6",children:[Te.jsxs("div",{className:"flex items-center justify-between mb-8",children:[Te.jsxs("div",{children:[Te.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[Te.jsx(Ei,{className:"h-8 w-8 text-blue-600"}),"Monza TECH Customization"]}),Te.jsx("p",{className:"text-gray-600",children:"Personalize your automotive management system"})]}),Te.jsxs("div",{className:"flex items-center gap-2",children:[r&&Te.jsx(Tf,{variant:"outline",className:"bg-yellow-50 text-yellow-800",children:"Unsaved Changes"}),s&&Te.jsxs(Tf,{className:"bg-green-100 text-green-800",children:[Te.jsx(hi,{className:"h-3 w-3 mr-1"}),"Preview Active"]})]})]}),Te.jsxs(yp,{defaultValue:"theme",className:"space-y-6",children:[Te.jsxs(vp,{className:"grid w-full grid-cols-4",children:[Te.jsx(bp,{value:"theme",children:"Theme & Colors"}),Te.jsx(bp,{value:"branding",children:"Branding"}),Te.jsx(bp,{value:"interface",children:"Interface"}),Te.jsx(bp,{value:"dashboard",children:"Dashboard"})]}),Te.jsx(xp,{value:"theme",className:"space-y-6",children:Te.jsxs(Za,{children:[Te.jsx(Qa,{children:Te.jsxs(el,{className:"flex items-center gap-2",children:[Te.jsx(Ei,{className:"h-5 w-5"}),"Color Scheme"]})}),Te.jsxs(rl,{className:"space-y-6",children:[Te.jsxs("div",{children:[Te.jsx(Cg,{className:"text-sm font-medium mb-3 block",children:"Quick Presets"}),Te.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{name:"Monza Blue",primary:"#3b82f6",secondary:"#64748b",accent:"#f59e0b"},{name:"Racing Red",primary:"#dc2626",secondary:"#374151",accent:"#fbbf24"},{name:"Professional Gray",primary:"#6b7280",secondary:"#9ca3af",accent:"#10b981"},{name:"Luxury Gold",primary:"#d97706",secondary:"#78716c",accent:"#3b82f6"}].map((e,t)=>Te.jsxs(Xa,{variant:"outline",className:"h-20 flex flex-col items-center gap-2",onClick:()=>{i("theme.primaryColor",e.primary),i("theme.secondaryColor",e.secondary),i("theme.accentColor",e.accent)},children:[Te.jsxs("div",{className:"flex gap-1",children:[Te.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:e.primary}}),Te.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:e.secondary}}),Te.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:e.accent}})]}),Te.jsx("span",{className:"text-xs",children:e.name})]},t))})]}),Te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[Te.jsxs("div",{children:[Te.jsx(Cg,{htmlFor:"primary-color",children:"Primary Color"}),Te.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[Te.jsx(Sg,{id:"primary-color",type:"color",value:e.theme.primaryColor,onChange:e=>i("theme.primaryColor",e.target.value),className:"w-16 h-10 p-1"}),Te.jsx(Sg,{id:"primary-color-text",name:"primary-color-text",value:e.theme.primaryColor,onChange:e=>i("theme.primaryColor",e.target.value),className:"flex-1"})]})]}),Te.jsxs("div",{children:[Te.jsx(Cg,{htmlFor:"secondary-color",children:"Secondary Color"}),Te.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[Te.jsx(Sg,{id:"secondary-color",type:"color",value:e.theme.secondaryColor,onChange:e=>i("theme.secondaryColor",e.target.value),className:"w-16 h-10 p-1"}),Te.jsx(Sg,{id:"secondary-color-text",name:"secondary-color-text",value:e.theme.secondaryColor,onChange:e=>i("theme.secondaryColor",e.target.value),className:"flex-1"})]})]}),Te.jsxs("div",{children:[Te.jsx(Cg,{htmlFor:"accent-color",children:"Accent Color"}),Te.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[Te.jsx(Sg,{id:"accent-color",type:"color",value:e.theme.accentColor,onChange:e=>i("theme.accentColor",e.target.value),className:"w-16 h-10 p-1"}),Te.jsx(Sg,{id:"accent-color-text",name:"accent-color-text",value:e.theme.accentColor,onChange:e=>i("theme.accentColor",e.target.value),className:"flex-1"})]})]})]})]})]})}),Te.jsx(xp,{value:"branding",className:"space-y-6",children:Te.jsxs(Za,{children:[Te.jsx(Qa,{children:Te.jsxs(el,{className:"flex items-center gap-2",children:[Te.jsx(ci,{className:"h-5 w-5"}),"Company Branding"]})}),Te.jsxs(rl,{className:"space-y-4",children:[Te.jsxs("div",{children:[Te.jsx(Cg,{htmlFor:"company-name",children:"Company Name"}),Te.jsx(Sg,{id:"company-name",value:e.branding.companyName,onChange:e=>i("branding.companyName",e.target.value),placeholder:"Monza TECH S.A.L."})]}),Te.jsxs("div",{children:[Te.jsx(Cg,{htmlFor:"welcome-message",children:"Welcome Message"}),Te.jsx(Sg,{id:"welcome-message",value:e.branding.welcomeMessage,onChange:e=>i("branding.welcomeMessage",e.target.value),placeholder:"Welcome back"})]}),Te.jsxs("div",{children:[Te.jsx(Cg,{htmlFor:"footer-text",children:"Footer Text"}),Te.jsx(Sg,{id:"footer-text",value:e.branding.footerText,onChange:e=>i("branding.footerText",e.target.value),placeholder:"Powered by Monza TECH"})]}),Te.jsxs("div",{className:"flex items-center space-x-2",children:[Te.jsx(Zj,{id:"show-logo",checked:e.branding.showLogo,onCheckedChange:e=>i("branding.showLogo",e)}),Te.jsx(Cg,{htmlFor:"show-logo",children:"Show Company Logo"})]})]})]})}),Te.jsx(xp,{value:"interface",className:"space-y-6",children:Te.jsxs(Za,{children:[Te.jsx(Qa,{children:Te.jsxs(el,{className:"flex items-center gap-2",children:[Te.jsx(ji,{className:"h-5 w-5"}),"Interface Settings"]})}),Te.jsxs(rl,{className:"space-y-4",children:[Te.jsxs("div",{className:"flex items-center space-x-2",children:[Te.jsx(Zj,{id:"compact-mode",checked:e.interface.compactMode,onCheckedChange:e=>i("interface.compactMode",e)}),Te.jsx(Cg,{htmlFor:"compact-mode",children:"Compact Mode (Smaller spacing)"})]}),Te.jsxs("div",{className:"flex items-center space-x-2",children:[Te.jsx(Zj,{id:"show-animations",checked:e.interface.showAnimations,onCheckedChange:e=>i("interface.showAnimations",e)}),Te.jsx(Cg,{htmlFor:"show-animations",children:"Enable Animations"})]}),Te.jsxs("div",{className:"flex items-center space-x-2",children:[Te.jsx(Zj,{id:"high-contrast",checked:e.interface.highContrast,onCheckedChange:e=>i("interface.highContrast",e)}),Te.jsx(Cg,{htmlFor:"high-contrast",children:"High Contrast Mode"})]}),Te.jsxs("div",{children:[Te.jsx(Cg,{children:"Font Size"}),Te.jsx("div",{className:"flex gap-2 mt-2",children:["small","medium","large"].map(t=>Te.jsx(Xa,{variant:e.interface.fontSize===t?"default":"outline",size:"sm",onClick:()=>i("interface.fontSize",t),className:"capitalize",children:t},t))})]})]})]})}),Te.jsx(xp,{value:"dashboard",className:"space-y-6",children:Te.jsxs(Za,{children:[Te.jsx(Qa,{children:Te.jsxs(el,{className:"flex items-center gap-2",children:[Te.jsx(Hi,{className:"h-5 w-5"}),"Dashboard Preferences"]})}),Te.jsxs(rl,{className:"space-y-4",children:[Te.jsxs("div",{className:"flex items-center space-x-2",children:[Te.jsx(Zj,{id:"show-weather",checked:e.dashboard.showWeather,onCheckedChange:e=>i("dashboard.showWeather",e)}),Te.jsx(Cg,{htmlFor:"show-weather",children:"Show Weather Widget"})]}),Te.jsxs("div",{className:"flex items-center space-x-2",children:[Te.jsx(Zj,{id:"show-quick-stats",checked:e.dashboard.showQuickStats,onCheckedChange:e=>i("dashboard.showQuickStats",e)}),Te.jsx(Cg,{htmlFor:"show-quick-stats",children:"Show Quick Stats"})]}),Te.jsxs("div",{className:"flex items-center space-x-2",children:[Te.jsx(Zj,{id:"auto-refresh",checked:e.dashboard.autoRefresh,onCheckedChange:e=>i("dashboard.autoRefresh",e)}),Te.jsx(Cg,{htmlFor:"auto-refresh",children:"Auto-refresh Data"})]}),Te.jsxs("div",{children:[Te.jsx(Cg,{children:"Default Dashboard View"}),Te.jsx("div",{className:"flex gap-2 mt-2",children:["enhanced","standard"].map(t=>Te.jsx(Xa,{variant:e.dashboard.defaultView===t?"default":"outline",size:"sm",onClick:()=>i("dashboard.defaultView",t),className:"capitalize",children:t},t))})]})]})]})})]}),Te.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[Te.jsxs(Xa,{variant:"outline",onClick:()=>{t(Qj),localStorage.removeItem("monza-customization"),n(!0),o(!1);const e=document.documentElement;e.style.removeProperty("--primary-color"),e.style.removeProperty("--secondary-color"),e.style.removeProperty("--accent-color"),e.style.removeProperty("--base-font-size"),document.body.classList.remove("compact-mode")},className:"flex items-center gap-2",children:[Te.jsx(Ti,{className:"h-4 w-4"}),"Reset to Defaults"]}),Te.jsxs("div",{className:"flex gap-2",children:[Te.jsxs(Xa,{variant:"outline",onClick:()=>o(!s),className:"flex items-center gap-2",children:[Te.jsx(hi,{className:"h-4 w-4"}),s?"Disable Preview":"Preview Changes"]}),Te.jsxs(Xa,{onClick:()=>{localStorage.setItem("monza-customization",JSON.stringify(e)),n(!1),o(!0);const t=new CustomEvent("monza-notification",{detail:{message:"Customization settings saved successfully!",type:"success"}});window.dispatchEvent(t)},disabled:!r,className:"flex items-center gap-2",children:[Te.jsx(Pi,{className:"h-4 w-4"}),"Save Settings"]})]})]})]})}var tS="Progress",[rS,nS]=xs(tS),[sS,oS]=rS(tS),iS=ae.forwardRef((e,t)=>{const r=e,{__scopeProgress:n,value:s=null,max:o,getValueLabel:i=cS}=r,a=Z(r,["__scopeProgress","value","max","getValueLabel"]);(o||0===o)&&hS(o);const l=hS(o)?o:100;null!==s&&fS(s,l);const c=fS(s,l)?s:null,d=uS(c)?i(c,l):void 0;return Te.jsx(sS,{scope:n,value:c,max:l,children:Te.jsx(Ts.div,X(Y({"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":uS(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":dS(c,l),"data-value":null!=c?c:void 0,"data-max":l},a),{ref:t}))})});iS.displayName=tS;var aS="ProgressIndicator",lS=ae.forwardRef((e,t)=>{var r;const n=e,{__scopeProgress:s}=n,o=Z(n,["__scopeProgress"]),i=oS(aS,s);return Te.jsx(Ts.div,X(Y({"data-state":dS(i.value,i.max),"data-value":null!=(r=i.value)?r:void 0,"data-max":i.max},o),{ref:t}))});function cS(e,t){return`${Math.round(e/t*100)}%`}function dS(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function uS(e){return"number"==typeof e}function hS(e){return uS(e)&&!isNaN(e)&&e>0}function fS(e,t){return uS(e)&&!isNaN(e)&&e<=t&&e>=0}lS.displayName=aS;var pS=iS,mS=lS;const gS=ae.forwardRef((e,t)=>{var r=e,{className:n,value:s}=r,o=Z(r,["className","value"]);return Te.jsx(pS,X(Y({ref:t,className:Ua("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n)},o),{children:Te.jsx(mS,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}))});function yS(){const[e,t]=ae.useState({loadTime:0,renderTime:0,memoryUsage:0,networkLatency:0,clickResponsiveness:0,errorRate:0,cacheHitRate:0,bundleSize:0}),[r,n]=ae.useState([]),[s,o]=ae.useState(!1),[i,a]=ae.useState({});ae.useEffect(()=>{l();const e=setInterval(()=>{s&&c()},1e3);return()=>clearInterval(e)},[s]);const l=()=>{var e,r;const s=performance.getEntriesByType("navigation")[0],o=performance.getEntriesByType("paint"),i=s?s.loadEventEnd-s.fetchStart:0;null==(e=o.find(e=>"first-paint"===e.name))||e.startTime;const a=(null==(r=o.find(e=>"first-contentful-paint"===e.name))?void 0:r.startTime)||0,l=performance.memory,c=l?Math.round(l.usedJSHeapSize/l.totalJSHeapSize*100):0;t({loadTime:Math.round(i),renderTime:Math.round(a),memoryUsage:c,networkLatency:Math.round(50*Math.random()+10),clickResponsiveness:98,errorRate:0,cacheHitRate:85,bundleSize:2.4}),n([{name:"Dashboard",renderTime:45,rerenders:2,memoryFootprint:1.2},{name:"Sidebar",renderTime:12,rerenders:1,memoryFootprint:.3},{name:"CarInventory",renderTime:89,rerenders:3,memoryFootprint:2.1},{name:"Navbar",renderTime:8,rerenders:0,memoryFootprint:.1},{name:"Layout",renderTime:15,rerenders:1,memoryFootprint:.4}])},c=()=>{const e=performance.now(),t=performance.memory;a({timestamp:e,frameRate:Math.round(60+5*Math.random()-2.5),heapUsed:t?Math.round(t.usedJSHeapSize/1024/1024*10)/10:0,domNodes:document.querySelectorAll("*").length,activeRequests:0})},d=(e,t)=>e<=t.good?{icon:Qo,color:"text-green-600",status:"Good"}:e<=t.warning?{icon:Ho,color:"text-yellow-600",status:"Warning"}:{icon:Ho,color:"text-red-600",status:"Poor"},u=(()=>{const t={loadTime:Math.max(0,100-e.loadTime/30),clickResponsiveness:e.clickResponsiveness,memoryUsage:Math.max(0,100-e.memoryUsage),errorRate:Math.max(0,100-10*e.errorRate)},r=Object.entries({loadTime:.25,clickResponsiveness:.3,memoryUsage:.2,errorRate:.25}).reduce((e,[r,n])=>e+t[r]*n,0);return Math.round(r)})();return Te.jsxs("div",{className:"p-6 space-y-6",children:[Te.jsxs("div",{className:"flex items-center justify-between mb-8",children:[Te.jsxs("div",{children:[Te.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[Te.jsx(Bo,{className:"h-8 w-8 text-blue-600"}),"Performance Monitor"]}),Te.jsx("p",{className:"text-gray-600",children:"Real-time performance metrics for your Monza TECH system"})]}),Te.jsxs("div",{className:"flex items-center gap-4",children:[Te.jsxs(Tf,{className:"px-4 py-2 text-lg font-bold "+(h=u,h>=90?"text-green-600 bg-green-100":h>=70?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100"),children:["Performance Score: ",u,"/100"]}),Te.jsxs(Xa,{onClick:()=>o(!s),variant:s?"destructive":"default",className:"flex items-center gap-2",children:[Te.jsx(Bo,{className:"h-4 w-4"}),s?"Stop Monitoring":"Start Monitoring"]})]})]}),Te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[Te.jsxs(Za,{children:[Te.jsx(Qa,{className:"pb-2",children:Te.jsxs(el,{className:"text-sm font-medium flex items-center gap-2",children:[Te.jsx(ai,{className:"h-4 w-4 text-blue-600"}),"Load Time"]})}),Te.jsxs(rl,{children:[Te.jsxs("div",{className:"flex items-center justify-between",children:[Te.jsxs("span",{className:"text-2xl font-bold",children:[e.loadTime,"ms"]}),(()=>{const t=d(e.loadTime,{good:1e3,warning:2e3}),r=t.icon;return Te.jsx(r,{className:`h-5 w-5 ${t.color}`})})()]}),Te.jsx(gS,{value:Math.max(0,100-e.loadTime/30),className:"mt-2"}),Te.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Target: <1s"})]})]}),Te.jsxs(Za,{children:[Te.jsx(Qa,{className:"pb-2",children:Te.jsxs(el,{className:"text-sm font-medium flex items-center gap-2",children:[Te.jsx(Hi,{className:"h-4 w-4 text-green-600"}),"Click Response"]})}),Te.jsxs(rl,{children:[Te.jsxs("div",{className:"flex items-center justify-between",children:[Te.jsxs("span",{className:"text-2xl font-bold",children:[e.clickResponsiveness,"%"]}),Te.jsx(Qo,{className:"h-5 w-5 text-green-600"})]}),Te.jsx(gS,{value:e.clickResponsiveness,className:"mt-2"}),Te.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Fixed: No blocking overlays"})]})]}),Te.jsxs(Za,{children:[Te.jsx(Qa,{className:"pb-2",children:Te.jsxs(el,{className:"text-sm font-medium flex items-center gap-2",children:[Te.jsx(di,{className:"h-4 w-4 text-purple-600"}),"Memory Usage"]})}),Te.jsxs(rl,{children:[Te.jsxs("div",{className:"flex items-center justify-between",children:[Te.jsxs("span",{className:"text-2xl font-bold",children:[e.memoryUsage,"%"]}),(()=>{const t=d(e.memoryUsage,{good:50,warning:75}),r=t.icon;return Te.jsx(r,{className:`h-5 w-5 ${t.color}`})})()]}),Te.jsx(gS,{value:e.memoryUsage,className:"mt-2"}),Te.jsx("p",{className:"text-xs text-gray-600 mt-1",children:i.heapUsed?`${i.heapUsed}MB used`:"Efficient usage"})]})]}),Te.jsxs(Za,{children:[Te.jsx(Qa,{className:"pb-2",children:Te.jsxs(el,{className:"text-sm font-medium flex items-center gap-2",children:[Te.jsx(Wi,{className:"h-4 w-4 text-orange-600"}),"Network"]})}),Te.jsxs(rl,{children:[Te.jsxs("div",{className:"flex items-center justify-between",children:[Te.jsxs("span",{className:"text-2xl font-bold",children:[e.networkLatency,"ms"]}),(()=>{const t=d(e.networkLatency,{good:100,warning:300}),r=t.icon;return Te.jsx(r,{className:`h-5 w-5 ${t.color}`})})()]}),Te.jsx(gS,{value:Math.max(0,100-e.networkLatency/5),className:"mt-2"}),Te.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Cache hit: ",e.cacheHitRate,"%"]})]})]})]}),s&&i.timestamp&&Te.jsxs(Za,{children:[Te.jsx(Qa,{children:Te.jsxs(el,{className:"flex items-center gap-2",children:[Te.jsx(Go,{className:"h-5 w-5"}),"Real-time Metrics"]})}),Te.jsx(rl,{children:Te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[Te.jsxs("div",{children:[Te.jsx(vS,{className:"text-sm text-gray-600",children:"Frame Rate"}),Te.jsxs("p",{className:"text-xl font-bold",children:[i.frameRate," FPS"]})]}),Te.jsxs("div",{children:[Te.jsx(vS,{className:"text-sm text-gray-600",children:"DOM Nodes"}),Te.jsx("p",{className:"text-xl font-bold",children:i.domNodes})]}),Te.jsxs("div",{children:[Te.jsx(vS,{className:"text-sm text-gray-600",children:"Heap Size"}),Te.jsxs("p",{className:"text-xl font-bold",children:[i.heapUsed,"MB"]})]}),Te.jsxs("div",{children:[Te.jsx(vS,{className:"text-sm text-gray-600",children:"Active Requests"}),Te.jsx("p",{className:"text-xl font-bold",children:i.activeRequests})]})]})})]}),Te.jsxs(Za,{children:[Te.jsx(Qa,{children:Te.jsx(el,{children:"Component Performance"})}),Te.jsx(rl,{children:Te.jsx("div",{className:"space-y-4",children:r.map((e,t)=>Te.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[Te.jsxs("div",{className:"flex-1",children:[Te.jsx("h4",{className:"font-medium",children:e.name}),Te.jsxs("div",{className:"flex gap-4 text-sm text-gray-600 mt-1",children:[Te.jsxs("span",{children:["Render: ",e.renderTime,"ms"]}),Te.jsxs("span",{children:["Re-renders: ",e.rerenders]}),Te.jsxs("span",{children:["Memory: ",e.memoryFootprint,"MB"]})]})]}),Te.jsx("div",{className:"text-right",children:e.renderTime<50?Te.jsx(Ui,{className:"h-5 w-5 text-green-600"}):Te.jsx(Fi,{className:"h-5 w-5 text-yellow-600"})})]},t))})})]}),Te.jsxs(Za,{className:"border-blue-200 bg-blue-50",children:[Te.jsx(Qa,{children:Te.jsx(el,{className:"text-blue-800",children:"Performance Optimizations Applied"})}),Te.jsx(rl,{children:Te.jsxs("div",{className:"space-y-2 text-blue-700",children:[Te.jsxs("p",{className:"text-sm",children:["✅ ",Te.jsx("strong",{children:"Modal Portal Fix:"})," Eliminated click-blocking overlays"]}),Te.jsxs("p",{className:"text-sm",children:["✅ ",Te.jsx("strong",{children:"Lazy Loading:"})," Pages load on-demand for faster initial load"]}),Te.jsxs("p",{className:"text-sm",children:["✅ ",Te.jsx("strong",{children:"Code Splitting:"})," Smaller bundle sizes with React.lazy()"]}),Te.jsxs("p",{className:"text-sm",children:["✅ ",Te.jsx("strong",{children:"Error Boundaries:"})," Isolated component failures"]}),Te.jsxs("p",{className:"text-sm",children:["✅ ",Te.jsx("strong",{children:"Z-Index Management:"})," Proper layering prevents rendering issues"]})]})})]})]});var h}function vS({children:e,className:t}){return Te.jsx("label",{className:t,children:e})}gS.displayName=pS.displayName;const bS=(e,t,r=3)=>ae.lazy(()=>{const n=(s=0)=>ie(void 0,null,function*(){try{return yield e()}catch(o){return s<r?(yield new Promise(e=>setTimeout(e,1e3)),n(s+1)):{default:()=>Te.jsx("div",{className:"flex items-center justify-center min-h-screen bg-yellow-50",children:Te.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[Te.jsx("div",{className:"text-yellow-500 text-6xl mb-4",children:"⚠️"}),Te.jsx("h2",{className:"text-xl font-semibold text-yellow-700 mb-2",children:"Component Load Error"}),Te.jsxs("p",{className:"text-yellow-600 mb-4",children:["Failed to load ",t," after multiple attempts. Please try refreshing the page."]}),Te.jsxs("p",{className:"text-xs text-yellow-500 mb-4",children:["Error: ",o.message]}),Te.jsx("button",{onClick:()=>window.location.reload(),className:"bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700 transition-colors",children:"Refresh Page"})]})})}}});return n()}),xS=bS(()=>Dr(()=>import("./EnhancedDashboard-DLpxVs_-.js"),__vite__mapDeps([0,1,2,3,4])),"EnhancedDashboard"),wS=bS(()=>Dr(()=>import("./Dashboard-CakTsEIs.js"),__vite__mapDeps([5,1,6,7,8,9,10,11,12,13,14,2,3,4])),"Dashboard"),_S=bS(()=>Dr(()=>import("./Login-Cb3kl9rx.js"),__vite__mapDeps([15,1,16,3,4])),"Login"),jS=bS(()=>Dr(()=>import("./CarInventory-BAs7MhXT.js"),__vite__mapDeps([17,1,18,19,16,20,21,22,23,24,25,26,27,28,29,30,7,31,32,3,33,34,10,35,36,37,38,39,40,41,42,43,13,44,45,46,47,48,11,4])),"Car Inventory"),SS=bS(()=>Dr(()=>import("./index-CfHKU2-R.js"),__vite__mapDeps([49,1,22,23,24,25,26,27,28,21,29,18,7,45,3,4])),"New Car Arrivals"),kS=bS(()=>Dr(()=>import("./index-3BVTMvZh.js"),__vite__mapDeps([50,1,7,24,25,26,27,21,29,14,3,4])),"Scan VIN"),ES=bS(()=>Dr(()=>import("./index-C9m_ua8k.js"),__vite__mapDeps([51,1,18,47,7,4,44,38,13,3])),"Test Drive Logs"),NS=bS(()=>Dr(()=>import("./NewTestDrivePage-DpuahKnR.js"),__vite__mapDeps([52,1,3,4])),"New Test Drive"),CS=bS(()=>Dr(()=>import("./index-CEIzX9Bw.js"),__vite__mapDeps([53,1,23,24,25,26,54,3,4,29,27,55,56,21])),"Test Drive Scanner"),TS=bS(()=>Dr(()=>import("./Repairs-CiAf2YXW.js"),__vite__mapDeps([57,1,11,21,18,58,26,55,27,48,59,12,60,61,62,63,35,7,3,4])),"Repairs"),PS=bS(()=>Dr(()=>import("./index-ySls6bTN.js"),__vite__mapDeps([64,1,4,18,23,25,65,27,66,67,40,68,32,3,6,60,7,62,35,56,69,70,61,12,21])),"Garage Schedule"),RS=bS(()=>Dr(()=>import("./index-8m0HrZdT.js"),__vite__mapDeps([71,1,72,47,54,26,3,4,7,14,28,43,46,70,35,63,73])),"Garage Car Inventory"),AS=bS(()=>Dr(()=>import("./index-BwVzKhRP.js"),__vite__mapDeps([74,1,67,12,21,75,44,60,3,4])),"Repair History"),OS=bS(()=>Dr(()=>import("./index-B7ilm8Hc.js"),__vite__mapDeps([76,1,54,26,3,4,60,35,63,27,21])),"Enhanced Repair History"),DS=bS(()=>Dr(()=>import("./index-Z44p-RtP.js"),__vite__mapDeps([77,1,18,72,47,54,26,3,4,7,14,28,43,46,70,35,63,20,21,22,23,24,25,27,29,31,32,33,34,10,36,38,69,39,40,41,42,13,44,45,78,11])),"Inventory Garage"),MS=bS(()=>Dr(()=>import("./SimpleIndex-COYgZmxI.js"),__vite__mapDeps([79,1,18,44,3,4])),"Inventory Floor 2"),IS=bS(()=>Dr(()=>import("./index-B0UFN3s0.js"),__vite__mapDeps([80,1,18,44,35,4,3])),"Inventory History"),LS=bS(()=>Dr(()=>import("./PartManagement-BeRdfWLH.js"),__vite__mapDeps([81,1,18,23,27,65,58,26,55,44,11,40,3,4])),"Part Management"),FS=bS(()=>Dr(()=>import("./index-lce3uDCU.js"),__vite__mapDeps([82,1,58,26,55,27,7,66,29,3,4])),"Scan Part"),US=bS(()=>Dr(()=>import("./index-Cr8NrDkI.js"),__vite__mapDeps([83,1,18,7,84,44,3,4])),"Tools Equipment"),$S=bS(()=>Dr(()=>import("./ShowroomFloor1-BEkUkyUD.js"),__vite__mapDeps([85,1,22,23,24,25,26,27,28,21,29,30,7,31,32,3,33,34,10,35,36,68,6,86,87,88,63,4,18,19,16,20,78,48,8,73,43])),"Showroom Floor 1"),zS=bS(()=>Dr(()=>import("./ShowroomFloor2-BQxxmNz-.js"),__vite__mapDeps([89,1,22,23,24,25,26,27,28,21,29,37,33,32,3,34,10,35,36,38,30,7,39,40,41,42,43,13,44,45,46,78,18,19,16,20,48,4])),"Showroom Floor 2"),qS=bS(()=>Dr(()=>import("./index-D9MhWuDP.js"),__vite__mapDeps([90,1,18,7,14,40,91,92,44,3,4])),"Showroom Inventory"),WS=bS(()=>Dr(()=>import("./index-DLHU3XiV.js"),__vite__mapDeps([93,1,94,95,21,88,84,44,59,96,4,97,3])),"Financial Management"),BS=bS(()=>Dr(()=>import("./FinancialDashboard-DJZph0zh.js"),__vite__mapDeps([98,1,7,99,21,84,40,3,4,100])),"Financial Dashboard"),VS=bS(()=>Dr(()=>import("./index-yv75PFz8.js"),__vite__mapDeps([101,1,7,102,95,3,4])),"Owner Finances"),HS=bS(()=>Dr(()=>import("./FinancialAnalytics-B07J5LWK.js"),__vite__mapDeps([103,1,18,84,3,4])),"Financial Analytics"),KS=bS(()=>Dr(()=>import("./Sales-C9F7AgFb.js"),__vite__mapDeps([104,1,105,87,86,7,106,21,60,3,4])),"Sales"),GS=bS(()=>Dr(()=>import("./MarketingCRM-BtRt1hb7.js"),__vite__mapDeps([107,1,18,7,35,63,41,108,3,4])),"Marketing CRM"),JS=bS(()=>Dr(()=>import("./OrderedCars-D-8jFVCB.js"),__vite__mapDeps([109,1,19,16,20,21,18,105,23,27,44,40,3,4])),"Ordered Cars"),YS=bS(()=>Dr(()=>import("./OrderedParts-Q6IfQsrG.js"),__vite__mapDeps([110,1,62,18,26,27,65,55,21,7,97,3,4,111])),"Ordered Parts"),XS=bS(()=>Dr(()=>import("./EmployeeManagement-B7TOKuGM.js"),__vite__mapDeps([112,1,113,63,35,3,4])),"Employee Management"),ZS=bS(()=>Dr(()=>import("./WstacyEmployeeManagement-C1nkXkSn.js"),__vite__mapDeps([114,2,1,3,4])),"Employee Management"),QS=bS(()=>Dr(()=>import("./EmployeeProfile-BAr3gi3e.js"),__vite__mapDeps([115,1,102,99,3,4])),"Employee Profile"),ek=bS(()=>Dr(()=>import("./EmployeeAnalytics-8KALO-Zt.js"),__vite__mapDeps([116,1,3,18,44,4])),"Employee Analytics"),tk=bS(()=>Dr(()=>import("./UserManagement-hk1cgyJ3.js"),__vite__mapDeps([117,1,113,16,63,35,3,4])),"User Management"),rk=bS(()=>Dr(()=>import("./index-BGSqrrqe.js"),__vite__mapDeps([118,1,18,94,44,108,13,46,3,4])),"User Activity Dashboard"),nk=bS(()=>Dr(()=>import("./index-Dm65h54c.js"),__vite__mapDeps([119,1,120,121,35,75,3,4])),"Messaging Center");bS(()=>Dr(()=>import("./index-OB1B08MG.js"),__vite__mapDeps([122,1,88,121,4,3])),"Request Center");const sk=bS(()=>Dr(()=>import("./NewRequest-DGtPsNt1.js"),__vite__mapDeps([123,1,16,3,4])),"New Request"),ok=bS(()=>Dr(()=>import("./Calendar-XBTDgNos.js"),__vite__mapDeps([124,1,96,4,97,86,87,6,34,44,3])),"Calendar"),ik=bS(()=>Dr(()=>import("./BusinessCalendar-CXfBM2Iq.js"),__vite__mapDeps([125,1,96,4,97,6,44,121,3,126])),"Business Calendar"),ak=bS(()=>Dr(()=>import("./MarketingCalendar-DpwXCicE.js"),__vite__mapDeps([127,1,96,4,97,60,2,3])),"Marketing Calendar"),lk=bS(()=>Dr(()=>import("./Analytics-DoCwDa_l.js"),__vite__mapDeps([128,1,18,60,3,21,4])),"Analytics"),ck=bS(()=>Dr(()=>import("./Reports-CZqR2sFb.js"),__vite__mapDeps([129,1,86,16,7,3,4])),"Reports"),dk=bS(()=>Dr(()=>import("./index-G0xDCy3j.js"),__vite__mapDeps([130,1,9,10,7,11,12,13,45,3,4])),"Data Linking Summary"),uk=bS(()=>Dr(()=>import("./index-C8ISVRqn.js"),__vite__mapDeps([131,1,91,92,21,3,4])),"Data Upload"),hk=bS(()=>Dr(()=>import("./index-BndMCT9x.js"),__vite__mapDeps([132,1,18,108,133,11,7,99,121,3,4])),"System Settings"),fk=bS(()=>Dr(()=>import("./SystemStatus-BB1mJ1jU.js"),__vite__mapDeps([134,42,46,1,3,4])),"System Status"),pk=bS(()=>Dr(()=>import("./index-mgrfTNCG.js"),__vite__mapDeps([135,1,18,94,44,21,3,4])),"Audit Log"),mk=bS(()=>Dr(()=>import("./SystemAuditLog-BR2De9Y2.js"),__vite__mapDeps([136,1,44,4,3])),"System Audit Log"),gk=bS(()=>Dr(()=>import("./index-CUtEAWE-.js"),__vite__mapDeps([137,1,18,94,29,44,21,65,3,4])),"Employee Audit"),yk=bS(()=>Dr(()=>import("./AdminUsersPage-BPQwYuYK.js"),__vite__mapDeps([138,1,106,99,3,4])),"Admin Users"),vk=bS(()=>Dr(()=>import("./LoginTracking-ckEFdDvu.js"),__vite__mapDeps([139,1,18,11,44,108,46,4,3])),"Login Tracking"),bk=bS(()=>Dr(()=>import("./DeveloperOverview-DC-VWsBQ.js"),__vite__mapDeps([140,1,18,11,44,108,46,4,3])),"Developer Overview"),xk=bS(()=>Dr(()=>import("./ApiDocumentation-CigaBokp.js"),__vite__mapDeps([141,1,3,4])),"API Documentation"),wk=bS(()=>Dr(()=>import("./ApiKeyManagement-u5mmEJIX.js"),__vite__mapDeps([142,1,18,16,102,4,3])),"API Key Management"),_k=bS(()=>Dr(()=>import("./NetworkAuthTest-DRb6vBNY.js"),__vite__mapDeps([143,1,120,133,121,13,3,4])),"Network Auth Test"),jk=bS(()=>Dr(()=>import("./FeatureShowcase-DFUX9pkA.js"),__vite__mapDeps([144,2,46,1,3,4])),"Feature Showcase"),Sk=()=>Te.jsx("div",{className:"flex items-center justify-center min-h-screen",children:Te.jsx(wh,{size:"lg"})});function kk(){return ae.useEffect(()=>{const e=()=>{["modals-root","radix-portal","drawer-root","toast-root"].forEach(e=>{const t=document.getElementById(e);t&&!t.hasChildNodes()&&(t.style.pointerEvents="none",t.style.zIndex="0",t.style.position="static",t.style.removeProperty("inset"))}),[...document.querySelectorAll("*")].forEach(e=>{const t=e,r=getComputedStyle(t),n="fixed"===r.position,s="0px"===r.inset||t.offsetWidth>=window.innerWidth&&t.offsetHeight>=window.innerHeight,o=parseInt(r.zIndex||"0",10)>=1e3,i="none"!==r.pointerEvents;n&&s&&o&&i&&(t.children.length>0&&Array.from(t.children).some(e=>{const t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility})||(t.style.pointerEvents="none",t.style.zIndex="0"))})};e();const t=new MutationObserver(()=>{setTimeout(e,10)});t.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class"]});const r=setInterval(e,1e4);return()=>{t.disconnect(),clearInterval(r)}},[]),Te.jsx(nl,{children:Te.jsx(jf,{children:Te.jsx(kf,{children:Te.jsx(Zu,{children:Te.jsx(Sh,{children:Te.jsxs(Eh,{children:[Te.jsx(ae.Suspense,{fallback:Te.jsx(Sk,{}),children:Te.jsx(nl,{fallback:Te.jsx("div",{children:"Page Component Error"}),children:Te.jsxs(Hn,{children:[Te.jsx(Bn,{path:"/login",element:Te.jsx(_S,{})}),Te.jsxs(Bn,{path:"/",element:Te.jsx(bh,{}),children:[Te.jsx(Bn,{index:!0,element:Te.jsx(xS,{})}),Te.jsx(Bn,{path:"dashboard",element:Te.jsx(wS,{})}),Te.jsx(Bn,{path:"enhanced-dashboard",element:Te.jsx(xS,{})}),Te.jsx(Bn,{path:"message-center",element:Te.jsx(Uj,{})}),Te.jsx(Bn,{path:"request-center",element:Te.jsx(Uj,{})}),Te.jsx(Bn,{path:"messaging-center",element:Te.jsx(nk,{})}),Te.jsx(Bn,{path:"requests/new",element:Te.jsx(sk,{})}),Te.jsx(Bn,{path:"car-inventory",element:Te.jsx(jS,{})}),Te.jsx(Bn,{path:"new-car-arrivals",element:Te.jsx(SS,{})}),Te.jsx(Bn,{path:"scan-vin",element:Te.jsx(kS,{})}),Te.jsx(Bn,{path:"test-drive-logs",element:Te.jsx(ES,{})}),Te.jsx(Bn,{path:"test-drives/new",element:Te.jsx(NS,{})}),Te.jsx(Bn,{path:"test-drive-scanner",element:Te.jsx(CS,{})}),Te.jsx(Bn,{path:"repairs",element:Te.jsx(TS,{})}),Te.jsx(Bn,{path:"garage-schedule",element:Te.jsx(PS,{})}),Te.jsx(Bn,{path:"garage-car-inventory",element:Te.jsx(RS,{})}),Te.jsx(Bn,{path:"repair-history",element:Te.jsx(AS,{})}),Te.jsx(Bn,{path:"enhanced-repair-history",element:Te.jsx(OS,{})}),Te.jsx(Bn,{path:"inventory",element:Te.jsx(DS,{})}),Te.jsx(Bn,{path:"inventory-garage",element:Te.jsx(DS,{})}),Te.jsx(Bn,{path:"inventory-floor-2",element:Te.jsx(MS,{})}),Te.jsx(Bn,{path:"inventory-history",element:Te.jsx(IS,{})}),Te.jsx(Bn,{path:"part-management",element:Te.jsx(LS,{})}),Te.jsx(Bn,{path:"scan-part",element:Te.jsx(FS,{})}),Te.jsx(Bn,{path:"tools-equipment",element:Te.jsx(US,{})}),Te.jsx(Bn,{path:"showroom-floor-1",element:Te.jsx($S,{})}),Te.jsx(Bn,{path:"showroom-floor-2",element:Te.jsx(zS,{})}),Te.jsx(Bn,{path:"showroom-inventory",element:Te.jsx(qS,{})}),Te.jsx(Bn,{path:"financial-management",element:Te.jsx(WS,{})}),Te.jsx(Bn,{path:"financial-dashboard",element:Te.jsx(BS,{})}),Te.jsx(Bn,{path:"finances",element:Te.jsx(VS,{})}),Te.jsx(Bn,{path:"owner-finances",element:Te.jsx(VS,{})}),Te.jsx(Bn,{path:"financial-analytics",element:Te.jsx(HS,{})}),Te.jsx(Bn,{path:"sales",element:Te.jsx(KS,{})}),Te.jsx(Bn,{path:"marketing-crm",element:Te.jsx(GS,{})}),Te.jsx(Bn,{path:"ordered-cars",element:Te.jsx(JS,{})}),Te.jsx(Bn,{path:"ordered-parts",element:Te.jsx(YS,{})}),Te.jsx(Bn,{path:"employee-management",element:Te.jsx(XS,{})}),Te.jsx(Bn,{path:"wstacy-employee-management",element:Te.jsx(ZS,{})}),Te.jsx(Bn,{path:"employee-profile",element:Te.jsx(QS,{})}),Te.jsx(Bn,{path:"employee-analytics",element:Te.jsx(ek,{})}),Te.jsx(Bn,{path:"user-management",element:Te.jsx(tk,{})}),Te.jsx(Bn,{path:"user-activity-dashboard",element:Te.jsx(rk,{})}),Te.jsx(Bn,{path:"calendar",element:Te.jsx(ok,{})}),Te.jsx(Bn,{path:"business-calendar",element:Te.jsx(ik,{})}),Te.jsx(Bn,{path:"marketing-calendar",element:Te.jsx(ak,{})}),Te.jsx(Bn,{path:"analytics",element:Te.jsx(lk,{})}),Te.jsx(Bn,{path:"reports",element:Te.jsx(ck,{})}),Te.jsx(Bn,{path:"data-linking-summary",element:Te.jsx(dk,{})}),Te.jsx(Bn,{path:"data-upload",element:Te.jsx(uk,{})}),Te.jsx(Bn,{path:"system-settings",element:Te.jsx(hk,{})}),Te.jsx(Bn,{path:"system-status",element:Te.jsx(fk,{})}),Te.jsx(Bn,{path:"audit-log",element:Te.jsx(pk,{})}),Te.jsx(Bn,{path:"system-audit-log",element:Te.jsx(mk,{})}),Te.jsx(Bn,{path:"employee-audit/:userId",element:Te.jsx(gk,{})}),Te.jsx(Bn,{path:"admin/users",element:Te.jsx(yk,{})}),Te.jsx(Bn,{path:"login-tracking",element:Te.jsx(vk,{})}),Te.jsx(Bn,{path:"developer-overview",element:Te.jsx(bk,{})}),Te.jsx(Bn,{path:"api-documentation",element:Te.jsx(xk,{})}),Te.jsx(Bn,{path:"api-key-management",element:Te.jsx(wk,{})}),Te.jsx(Bn,{path:"network-auth-test",element:Te.jsx(_k,{})}),Te.jsx(Bn,{path:"customization",element:Te.jsx(eS,{})}),Te.jsx(Bn,{path:"performance",element:Te.jsx(yS,{})}),Te.jsx(Bn,{path:"showcase",element:Te.jsx(jk,{})}),Te.jsx(Bn,{path:"*",element:Te.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[Te.jsx("h2",{children:"🚗 Monza TECH - Page Not Found"}),Te.jsx("p",{children:"The requested page doesn't exist in the system."}),Te.jsx("a",{href:"/",style:{color:"#007bff",textDecoration:"underline"},children:"← Back to Dashboard"})]})})]})]})})}),Te.jsx(Ja,{})]})})})})})})}function Ek(){return de.useLayoutEffect(()=>{document.body.style.setProperty("pointer-events","auto","important"),document.body.style.setProperty("cursor","auto","important");const e=document.getElementById("modals-root");e&&(e.style.position="static",e.style.pointerEvents="none",e.style.zIndex="0")},[]),Te.jsx(Zn,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:Te.jsx(kk,{})})}const Nk=document.getElementById("root");if(Nk)try{Ce(Nk).render(Te.jsx($e,{store:Ar,children:Te.jsx(Ek,{})}))}catch(Pk){Nk.innerHTML=`\n      <div style="padding: 20px; color: red; font-family: Arial;">\n        <h1>Monza S.A.L. - Startup Error</h1>\n        <p>Error: ${Pk.message}</p>\n        <p>Please check the browser console for more details.</p>\n      </div>\n    `}else document.body.innerHTML='\n    <div style="padding: 20px; color: red; font-family: Arial;">\n      <h1>Monza S.A.L. - Configuration Error</h1>\n      <p>Root element #root not found in HTML.</p>\n    </div>\n  ';export{Aw as $,Vo as A,Go as B,Za as C,ui as D,xg as E,_g as F,ii as G,Vy as H,Sg as I,Pi as J,Xu as K,Cg as L,is as M,qn as N,Ni as O,ki as P,Ci as Q,tl as R,Ri as S,Ii as T,qi as U,vi as V,Bi as W,Vi as X,Nw as Y,Tw as Z,Cw as _,rl as a,qy as a$,Ow as a0,Dr as a1,Ei as a2,Hi as a3,Ti as a4,fi as a5,hi as a6,ji as a7,Wo as a8,jg as a9,lx as aA,Ts as aB,gs as aC,Vs as aD,Ls as aE,cx as aF,Es as aG,Xs as aH,dx as aI,qf as aJ,Df as aK,Xf as aL,Zf as aM,ux as aN,qb as aO,oi as aP,Hy as aQ,za as aR,xf as aS,Vu as aT,ri as aU,di as aV,js as aW,Ya as aX,Gy as aY,Jy as aZ,zy as a_,fy as aa,wg as ab,$a as ac,Mi as ad,ci as ae,ni as af,ti as ag,ei as ah,_i as ai,Nn as aj,$i as ak,Ai as al,Di as am,cg as an,Xo as ao,mi as ap,Nh as aq,Li as ar,gg as as,Fi as at,xs as au,Vb as av,Af as aw,Gs as ax,ax as ay,bs as az,Zo as b,Wy as b0,Si as b1,wi as b2,Bs as b3,Nm as b4,xm as b5,_s as b6,Ap as b7,Sp as b8,Lj as b9,Rh as bA,Ah as bB,Xh as bC,cf as bD,Vh as bE,of as bF,Fh as bG,hf as bH,Yh as bI,Ku as bJ,By as ba,Mj as bb,Ij as bc,Xy as bd,jh as be,bi as bf,Wi as bg,Zj as bh,ag as bi,lg as bj,ug as bk,pg as bl,zo as bm,hg as bn,dg as bo,fg as bp,Rn as bq,Ju as br,li as bs,Ch as bt,Qh as bu,Dh as bv,zh as bw,Oh as bx,Ph as by,Th as bz,Bo as c,Ho as d,Tf as e,Ui as f,Qa as g,el as h,Ua as i,Te as j,Xa as k,ms as l,Qo as m,ai as n,zi as o,yp as p,vp as q,bp as r,Hu as s,ps as t,Tn as u,xp as v,gS as w,Oi as x,mg as y,bg as z};
