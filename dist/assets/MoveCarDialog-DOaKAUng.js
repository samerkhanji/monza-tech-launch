var e=Object.defineProperty,r=Object.defineProperties,a=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(r,a,o)=>a in r?e(r,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[a]=o,i=(e,r)=>{for(var a in r||(r={}))s.call(r,a)&&l(e,a,r[a]);if(o)for(var a of o(r))n.call(r,a)&&l(e,a,r[a]);return e},t=(e,o)=>r(e,a(o)),d=(e,r)=>{var a={};for(var l in e)s.call(e,l)&&r.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&o)for(var l of o(e))r.indexOf(l)<0&&n.call(e,l)&&(a[l]=e[l]);return a};import{j as c,y as u,z as m,E as h,F as v,L as p,I as x,H as g,ab as j,k as b,aJ as f,aK as y,ax as C,au as N,aL as w,aB as k,az as R,aM as E,aC as _,aD as F,aN as O,aO as V,i as P,aP as D,ao as I,W as M,n as S,t as G}from"./index-BmUpYGrm.js";import{r as q,R as z}from"./vendor-vN6PtkFd.js";import{a as L}from"./errorHandling-Dc1u_gNS.js";const A=({isOpen:e,onClose:r,car:a,onSave:o})=>{var s;const[n,l]=q.useState(i({},a)),d=(e,r)=>{l(a=>t(i({},a),{[e]:r}))};return c.jsx(u,{open:e,onOpenChange:r,children:c.jsxs(m,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[c.jsx(h,{children:c.jsx(v,{children:"Edit Car Details"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(p,{htmlFor:"model",children:"Model"}),c.jsx(x,{id:"model",value:n.model,onChange:e=>d("model",e.target.value)})]}),c.jsxs("div",{children:[c.jsx(p,{htmlFor:"year",children:"Year"}),c.jsx(x,{id:"year",type:"number",value:n.year,onChange:e=>d("year",L(e.target.value,2024))})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(p,{htmlFor:"color",children:"Color"}),c.jsx(x,{id:"color",value:n.color,onChange:e=>d("color",e.target.value)})]}),c.jsxs("div",{children:[c.jsx(p,{htmlFor:"interiorColor",children:"Color interior"}),c.jsx(x,{id:"interiorColor",value:n.interiorColor||"",onChange:e=>d("interiorColor",e.target.value)})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(p,{htmlFor:"price",children:"Price"}),c.jsx(x,{id:"price",type:"number",value:n.sellingPrice||n.price||"",onChange:e=>d("sellingPrice",L(e.target.value,0))})]}),c.jsxs("div",{children:[c.jsx(p,{htmlFor:"kmDriven",children:"Km Driven"}),c.jsx(x,{id:"kmDriven",type:"number",min:"0",value:n.kilometersDriven||n.kmDriven||"",onChange:e=>d("kilometersDriven",L(e.target.value,0)||void 0)})]})]}),c.jsxs("div",{children:[c.jsx(p,{htmlFor:"vin",children:"VIN Number"}),c.jsx(x,{id:"vin",value:n.vinNumber,onChange:e=>d("vinNumber",e.target.value)})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(p,{htmlFor:"battery",children:"Battery Percentage"}),c.jsx(x,{id:"battery",type:"number",min:"0",max:"100",value:n.batteryPercentage||"",onChange:e=>d("batteryPercentage",L(e.target.value,85)||void 0)})]}),c.jsxs("div",{children:[c.jsx(p,{htmlFor:"range",children:"Range (km)"}),c.jsx(x,{id:"range",type:"number",value:n.range||"",onChange:e=>d("range",L(e.target.value,520)||void 0)})]})]}),c.jsxs("div",{children:[c.jsx(p,{htmlFor:"category",children:"Category"}),c.jsxs("select",{id:"category",value:n.category||"EV",onChange:e=>d("category",e.target.value),className:"w-full h-10 rounded-none border border-input bg-background px-3 py-2",children:[c.jsx("option",{value:"EV",children:"EV (Electric Vehicle)"}),c.jsx("option",{value:"REV",children:"REV (Range Extended Vehicle)"}),c.jsx("option",{value:"ICEV",children:"ICEV (Internal Combustion Engine)"})]})]}),c.jsxs("div",{children:[c.jsx(p,{htmlFor:"features",children:"Features (comma-separated)"}),c.jsx(g,{id:"features",value:(null==(s=n.features)?void 0:s.join(", "))||"",onChange:e=>d("features",e.target.value.split(",").map(e=>e.trim())),placeholder:"Enter features separated by commas"})]})]}),c.jsxs(j,{children:[c.jsx(b,{variant:"outline",onClick:r,children:"Cancel"}),c.jsx(b,{onClick:()=>{o(a.id,n),r()},className:"bg-monza-yellow hover:bg-monza-yellow/90 text-black",children:"Save Changes"})]})]})})};var K="Radio",[B,H]=N(K),[$,J]=B(K),T=q.forwardRef((e,r)=>{const a=e,{__scopeRadio:o,name:s,checked:n=!1,required:l,disabled:u,value:m="on",onCheck:h,form:v}=a,p=d(a,["__scopeRadio","name","checked","required","disabled","value","onCheck","form"]),[x,g]=q.useState(null),j=R(r,e=>g(e)),b=q.useRef(!1),f=!x||(v||!!x.closest("form"));return c.jsxs($,{scope:o,checked:n,disabled:u,children:[c.jsx(k.button,t(i({type:"button",role:"radio","aria-checked":n,"data-state":Y(n),"data-disabled":u?"":void 0,disabled:u,value:m},p),{ref:j,onClick:_(e.onClick,e=>{n||null==h||h(),f&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})})),f&&c.jsx(X,{control:x,bubbles:!b.current,name:s,value:m,checked:n,required:l,disabled:u,form:v,style:{transform:"translateX(-100%)"}})]})});T.displayName=K;var U="RadioIndicator",W=q.forwardRef((e,r)=>{const a=e,{__scopeRadio:o,forceMount:s}=a,n=d(a,["__scopeRadio","forceMount"]),l=J(U,o);return c.jsx(F,{present:s||l.checked,children:c.jsx(k.span,t(i({"data-state":Y(l.checked),"data-disabled":l.disabled?"":void 0},n),{ref:r}))})});W.displayName=U;var X=q.forwardRef((e,r)=>{var a=e,{__scopeRadio:o,control:s,checked:n,bubbles:l=!0}=a,u=d(a,["__scopeRadio","control","checked","bubbles"]);const m=q.useRef(null),h=R(m,r),v=O(n),p=V(s);return q.useEffect(()=>{const e=m.current;if(!e)return;const r=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(r,"checked").set;if(v!==n&&a){const r=new Event("click",{bubbles:l});a.call(e,n),e.dispatchEvent(r)}},[v,n,l]),c.jsx(k.input,t(i({type:"radio","aria-hidden":!0,defaultChecked:n},u),{tabIndex:-1,ref:h,style:t(i(i({},u.style),p),{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))});function Y(e){return e?"checked":"unchecked"}X.displayName="RadioBubbleInput";var Q=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Z="RadioGroup",[ee,re]=N(Z,[f,H]),ae=f(),oe=H(),[se,ne]=ee(Z),le=q.forwardRef((e,r)=>{const a=e,{__scopeRadioGroup:o,name:s,defaultValue:n,value:l,required:u=!1,disabled:m=!1,orientation:h,dir:v,loop:p=!0,onValueChange:x}=a,g=d(a,["__scopeRadioGroup","name","defaultValue","value","required","disabled","orientation","dir","loop","onValueChange"]),j=ae(o),b=y(v),[f,N]=C({prop:l,defaultProp:null!=n?n:null,onChange:x,caller:Z});return c.jsx(se,{scope:o,name:s,required:u,disabled:m,value:f,onValueChange:N,children:c.jsx(w,t(i({asChild:!0},j),{orientation:h,dir:b,loop:p,children:c.jsx(k.div,t(i({role:"radiogroup","aria-required":u,"aria-orientation":h,"data-disabled":m?"":void 0,dir:b},g),{ref:r}))}))})});le.displayName=Z;var ie="RadioGroupItem",te=q.forwardRef((e,r)=>{const a=e,{__scopeRadioGroup:o,disabled:s}=a,n=d(a,["__scopeRadioGroup","disabled"]),l=ne(ie,o),u=l.disabled||s,m=ae(o),h=oe(o),v=q.useRef(null),p=R(r,v),x=l.value===n.value,g=q.useRef(!1);return q.useEffect(()=>{const e=e=>{Q.includes(e.key)&&(g.current=!0)},r=()=>g.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",r),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",r)}},[]),c.jsx(E,t(i({asChild:!0},m),{focusable:!u,active:x,children:c.jsx(T,t(i(i({disabled:u,required:l.required,checked:x},h),n),{name:l.name,ref:p,onCheck:()=>l.onValueChange(n.value),onKeyDown:_(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:_(n.onFocus,()=>{var e;g.current&&(null==(e=v.current)||e.click())})}))}))});te.displayName=ie;var de=q.forwardRef((e,r)=>{const a=e,{__scopeRadioGroup:o}=a,s=d(a,["__scopeRadioGroup"]),n=oe(o);return c.jsx(W,t(i(i({},n),s),{ref:r}))});de.displayName="RadioGroupIndicator";var ce=le,ue=te,me=de;const he=q.forwardRef((e,r)=>{var a=e,{className:o}=a,s=d(a,["className"]);return c.jsx(ce,t(i({className:P("grid gap-2",o)},s),{ref:r}))});he.displayName=ce.displayName;const ve=q.forwardRef((e,r)=>{var a=e,{className:o}=a,s=d(a,["className"]);return c.jsx(ue,t(i({ref:r,className:P("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",o)},s),{children:c.jsx(me,{className:"flex items-center justify-center",children:c.jsx(D,{className:"h-2.5 w-2.5 fill-current text-current"})})}))});ve.displayName=ue.displayName;const pe=({isOpen:e,onClose:r,car:a,onMoveCar:o})=>{z.useEffect(()=>{},[e,a]);const[s,n]=q.useState(""),[l,i]=q.useState(""),t=[{id:"floor1",label:"Showroom Floor 1",description:"Move to main showroom floor 1",icon:I},{id:"floor2",label:"Showroom Floor 2",description:"Move to luxury showroom floor 2",icon:I},{id:"garage",label:"Garage Inventory",description:"Move to garage inventory",icon:M},{id:"garage-schedule",label:"Garage Schedule",description:"Add to garage schedule for service/repair",icon:S}];return c.jsx(u,{open:e,onOpenChange:r,children:c.jsxs(m,{className:"sm:max-w-[500px]",children:[c.jsx(h,{children:c.jsxs(v,{children:["Move Car - ",null==a?void 0:a.model]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-3 bg-monza-yellow/10 rounded-lg border border-monza-yellow/20",children:[c.jsxs("p",{className:"text-sm",children:[c.jsx("strong",{children:"VIN:"})," ",null==a?void 0:a.vinNumber]}),c.jsxs("p",{className:"text-sm",children:[c.jsx("strong",{children:"Model:"})," ",null==a?void 0:a.model]}),c.jsxs("p",{className:"text-sm",children:[c.jsx("strong",{children:"Color:"})," ",null==a?void 0:a.color]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(p,{children:"Select Destination"}),c.jsx(he,{value:s,onValueChange:n,className:"space-y-3",children:t.map(e=>{const r=e.icon,a=s===e.id;return c.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg transition-colors cursor-pointer "+(a?"bg-yellow-50 border-monza-yellow":"hover:bg-gray-50"),role:"button",tabIndex:0,onClick:()=>n(e.id),onKeyDown:r=>{"Enter"!==r.key&&" "!==r.key||(r.preventDefault(),n(e.id))},children:[c.jsx(ve,{value:e.id,id:e.id}),c.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[c.jsx(r,{className:"h-5 w-5 text-monza-yellow"}),c.jsxs("div",{children:[c.jsx(p,{htmlFor:e.id,className:"font-medium cursor-pointer",children:e.label}),c.jsx("p",{className:"text-sm text-gray-500",children:e.description})]})]})]},e.id)})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(p,{htmlFor:"notes",children:"Additional Notes"}),c.jsx(g,{id:"notes",value:l,onChange:e=>i(e.target.value),placeholder:"Add any notes about the move...",rows:3})]})]}),c.jsxs(j,{children:[c.jsx(b,{variant:"outline",onClick:r,children:"Cancel"}),c.jsx(b,{onClick:()=>{if(!s)return void G({title:"Error",description:"Please select a destination.",variant:"destructive"});o(s,l);const e=t.find(e=>e.id===s);G({title:"Car Moved",description:`${a.model} has been moved to ${null==e?void 0:e.label}.`}),r(),n(""),i("")},className:"bg-monza-yellow hover:bg-monza-yellow/90 text-black",children:"Move Car"})]})]})})};export{A as E,pe as M};
