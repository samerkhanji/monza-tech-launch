var e=Object.defineProperty,r=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(r,a,s)=>a in r?e(r,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[a]=s,t=(e,r)=>{for(var a in r||(r={}))l.call(r,a)&&o(e,a,r[a]);if(s)for(var a of s(r))i.call(r,a)&&o(e,a,r[a]);return e},n=(e,s)=>r(e,a(s));import{a8 as c,j as d,y as h,z as u,E as m,F as p,L as x,I as j,ab as v,k as g,x as y,p as N,q as b,r as f,v as w,C,g as S,h as F,P as M,a as E,Y as A,Z as T,_ as V,$ as q,a0 as D,a3 as k,W as I,O as P,e as L,ar as O,H as U,aj as R,t as H,ak as $,S as z,ac as Z,ad as W}from"./index-BmUpYGrm.js";import{r as G}from"./vendor-vN6PtkFd.js";import{T as B,a as Q,b as _,c as Y,d as J,e as K}from"./table-BEISn_Te.js";import{a as X}from"./errorHandling-Dc1u_gNS.js";import{G as ee}from"./gauge-Cy8s4FVS.js";import{P as re}from"./pen-line--cRXdmmD.js";import{R as ae}from"./realExcelService-CzdfAlLU.js";import{D as se}from"./download-CLPHGjzE.js";import"./charts-XrXYWaKo.js";import"./utils-DhcIvS4g.js";import"./excel-DF0p_WFv.js";
/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=c("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),ie=c("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),oe=({isOpen:e,onClose:r,onAddAccessory:a})=>{const[s,l]=G.useState({carModel:"Voyah Dream",partName:"",partNumber:"",quantity:1,shelf:"",column:"",row:"",room:"",floor:"Floor 1",supplier:"DF",vehicleType:"EV"}),i=(e,r)=>{l(a=>n(t({},a),{[e]:r}))};return d.jsx(h,{open:e,onOpenChange:r,children:d.jsxs(u,{className:"max-w-2xl",children:[d.jsx(m,{children:d.jsx(p,{children:"Add New Showroom Accessory"})}),d.jsxs("form",{onSubmit:e=>{e.preventDefault();const i={carModel:s.carModel,partName:s.partName,partNumber:s.partNumber,quantity:s.quantity,location:{shelf:s.shelf,column:s.column,row:s.row,room:s.room,floor:s.floor},supplier:s.supplier,vehicleType:s.vehicleType,vin:"",pdiStatus:"pending"};a(i),l({carModel:"Voyah Dream",partName:"",partNumber:"",quantity:1,shelf:"",column:"",row:"",room:"",floor:"Floor 1",supplier:"DF",vehicleType:"EV"}),r()},className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(x,{htmlFor:"carModel",children:"Car Model"}),d.jsx("select",{id:"carModel",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2",value:s.carModel,onChange:e=>i("carModel",e.target.value),required:!0,children:["Voyah Dream","Voyah Free","Voyah Passion","Voyah Free 318","Mhero"].map(e=>d.jsx("option",{value:e,children:e},e))})]}),d.jsxs("div",{children:[d.jsx(x,{htmlFor:"vehicleType",children:"Vehicle Type"}),d.jsxs("select",{id:"vehicleType",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2",value:s.vehicleType,onChange:e=>i("vehicleType",e.target.value),required:!0,children:[d.jsx("option",{value:"EV",children:"Electric Vehicle (EV)"}),d.jsx("option",{value:"Hybrid",children:"Hybrid"}),d.jsx("option",{value:"ICE",children:"Internal Combustion (ICE)"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(x,{htmlFor:"partName",children:"Accessory Name"}),d.jsx(j,{id:"partName",value:s.partName,onChange:e=>i("partName",e.target.value),placeholder:"e.g., Floor Mats Premium",required:!0})]}),d.jsxs("div",{children:[d.jsx(x,{htmlFor:"partNumber",children:"Part Number"}),d.jsx(j,{id:"partNumber",value:s.partNumber,onChange:e=>i("partNumber",e.target.value),placeholder:"e.g., TM3-FM-001",required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(x,{htmlFor:"quantity",children:"Quantity"}),d.jsx(j,{id:"quantity",type:"number",min:"1",value:s.quantity,onChange:e=>i("quantity",X(e.target.value,0)),required:!0})]}),d.jsxs("div",{children:[d.jsx(x,{htmlFor:"supplier",children:"Supplier"}),d.jsxs("select",{id:"supplier",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2",value:s.supplier,onChange:e=>i("supplier",e.target.value),required:!0,children:[d.jsx("option",{value:"DF",children:"Dong Feng (DF)"}),d.jsx("option",{value:"AZ",children:"AutoZone (AZ)"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(x,{htmlFor:"floor",children:"Floor"}),d.jsxs("select",{id:"floor",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2",value:s.floor,onChange:e=>i("floor",e.target.value),required:!0,children:[d.jsx("option",{value:"Floor 1",children:"Floor 1"}),d.jsx("option",{value:"Floor 2",children:"Floor 2"}),d.jsx("option",{value:"Garage",children:"Garage"})]})]}),d.jsxs("div",{children:[d.jsx(x,{htmlFor:"room",children:"Room"}),d.jsxs("select",{id:"room",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2",value:s.room,onChange:e=>i("room",e.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Select Room"}),{"Floor 1":["Display Storage","Customer Area","Waiting Room Storage"],"Floor 2":["Premium Display","Executive Storage","VIP Lounge Storage"],Garage:["Tool Storage","Accessories Room","Parts Storage"]}[s.floor].map(e=>d.jsx("option",{value:e,children:e},e))]})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx(x,{htmlFor:"shelf",children:"Shelf"}),d.jsx(j,{id:"shelf",value:s.shelf,onChange:e=>i("shelf",e.target.value),placeholder:"e.g., A1",required:!0})]}),d.jsxs("div",{children:[d.jsx(x,{htmlFor:"column",children:"Column"}),d.jsx(j,{id:"column",value:s.column,onChange:e=>i("column",e.target.value),placeholder:"e.g., 1",required:!0})]}),d.jsxs("div",{children:[d.jsx(x,{htmlFor:"row",children:"Row"}),d.jsx(j,{id:"row",value:s.row,onChange:e=>i("row",e.target.value),placeholder:"e.g., 3",required:!0})]})]}),d.jsxs(v,{children:[d.jsx(g,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),d.jsx(g,{type:"submit",children:"Add Accessory"})]})]})]})})},te=({isOpen:e,onClose:r,item:a,onSave:s})=>{const[l,i]=G.useState({carModel:"",partName:"",partNumber:"",quantity:1,shelf:"",column:"",row:"",room:"",floor:"Floor 1",supplier:"DF",vehicleType:"EV"});G.useEffect(()=>{a&&i({carModel:a.carModel,partName:a.partName,partNumber:a.partNumber,quantity:a.quantity,shelf:a.location.shelf,column:a.location.column,row:a.location.row,room:a.location.room||"",floor:a.location.floor,supplier:a.supplier||"DF",vehicleType:a.vehicleType||"EV"})},[a]);const o=(e,r)=>{i(a=>n(t({},a),{[e]:r}))};return a?d.jsx(h,{open:e,onOpenChange:r,children:d.jsxs(u,{className:"max-w-2xl",children:[d.jsx(m,{children:d.jsx(p,{children:"Edit Accessory"})}),d.jsxs("form",{onSubmit:e=>{e.preventDefault();const a={carModel:l.carModel,partName:l.partName,partNumber:l.partNumber,quantity:l.quantity,location:{shelf:l.shelf,column:l.column,row:l.row,room:l.room,floor:l.floor},supplier:l.supplier,vehicleType:l.vehicleType};s(a),r()},className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(x,{htmlFor:"carModel",children:"Car Model"}),d.jsx("select",{id:"carModel",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2",value:l.carModel,onChange:e=>o("carModel",e.target.value),required:!0,children:["Voyah Dream","Voyah Free","Voyah Passion","Voyah Free 318","Mhero"].map(e=>d.jsx("option",{value:e,children:e},e))})]}),d.jsxs("div",{children:[d.jsx(x,{htmlFor:"vehicleType",children:"Vehicle Type"}),d.jsxs("select",{id:"vehicleType",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2",value:l.vehicleType,onChange:e=>o("vehicleType",e.target.value),required:!0,children:[d.jsx("option",{value:"EV",children:"Electric Vehicle (EV)"}),d.jsx("option",{value:"Hybrid",children:"Hybrid"}),d.jsx("option",{value:"ICE",children:"Internal Combustion (ICE)"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(x,{htmlFor:"partName",children:"Accessory Name"}),d.jsx(j,{id:"partName",value:l.partName,onChange:e=>o("partName",e.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx(x,{htmlFor:"partNumber",children:"Part Number"}),d.jsx(j,{id:"partNumber",value:l.partNumber,onChange:e=>o("partNumber",e.target.value),required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(x,{htmlFor:"quantity",children:"Quantity"}),d.jsx(j,{id:"quantity",type:"number",min:"1",value:l.quantity,onChange:e=>o("quantity",X(e.target.value,0)),required:!0})]}),d.jsxs("div",{children:[d.jsx(x,{htmlFor:"supplier",children:"Supplier"}),d.jsxs("select",{id:"supplier",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2",value:l.supplier,onChange:e=>o("supplier",e.target.value),required:!0,children:[d.jsx("option",{value:"DF",children:"Dong Feng (DF)"}),d.jsx("option",{value:"AZ",children:"AutoZone (AZ)"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(x,{htmlFor:"floor",children:"Floor"}),d.jsxs("select",{id:"floor",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2",value:l.floor,onChange:e=>o("floor",e.target.value),required:!0,children:[d.jsx("option",{value:"Floor 1",children:"Floor 1"}),d.jsx("option",{value:"Floor 2",children:"Floor 2"}),d.jsx("option",{value:"Garage",children:"Garage"})]})]}),d.jsxs("div",{children:[d.jsx(x,{htmlFor:"room",children:"Room"}),d.jsxs("select",{id:"room",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2",value:l.room,onChange:e=>o("room",e.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Select Room"}),{"Floor 1":["Display Storage","Customer Area","Waiting Room Storage"],"Floor 2":["Premium Display","Executive Storage","VIP Lounge Storage"],Garage:["Tool Storage","Accessories Room","Parts Storage"]}[l.floor].map(e=>d.jsx("option",{value:e,children:e},e))]})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx(x,{htmlFor:"shelf",children:"Shelf"}),d.jsx(j,{id:"shelf",value:l.shelf,onChange:e=>o("shelf",e.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx(x,{htmlFor:"column",children:"Column"}),d.jsx(j,{id:"column",value:l.column,onChange:e=>o("column",e.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx(x,{htmlFor:"row",children:"Row"}),d.jsx(j,{id:"row",value:l.row,onChange:e=>o("row",e.target.value),required:!0})]})]}),d.jsxs(v,{children:[d.jsx(g,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),d.jsx(g,{type:"submit",children:"Save Changes"})]})]})]})}):null},ne=({isOpen:e,onClose:r,item:a,onSave:s})=>{var l,i,o,c,R,H,$,z;const[Z,W]=G.useState(a.technicalSpecs||[]),[B,Q]=G.useState({weight:a.weight||"",material:a.material||"",color:a.color||"",dimensions:{length:(null==(l=a.dimensions)?void 0:l.length)||"",width:(null==(i=a.dimensions)?void 0:i.width)||"",height:(null==(o=a.dimensions)?void 0:o.height)||"",unit:(null==(c=a.dimensions)?void 0:c.unit)||"mm"},warranty:{duration:(null==(R=a.warranty)?void 0:R.duration)||"",unit:(null==(H=a.warranty)?void 0:H.unit)||"months",terms:(null==($=a.warranty)?void 0:$.terms)||""},compatibleModels:(null==(z=a.compatibleModels)?void 0:z.join(", "))||"",installationNotes:a.installationNotes||"",safetyInstructions:a.safetyInstructions||""}),[_,Y]=G.useState({name:"",value:"",unit:"",category:"other",description:""}),[J,K]=G.useState(null),X=[{value:"dimensions",label:"Dimensions",icon:le},{value:"electrical",label:"Electrical",icon:k},{value:"mechanical",label:"Mechanical",icon:I},{value:"material",label:"Material",icon:M},{value:"performance",label:"Performance",icon:ee},{value:"environmental",label:"Environmental",icon:ie},{value:"other",label:"Other",icon:y}],ae=e=>{const r=X.find(r=>r.value===e),a=(null==r?void 0:r.icon)||y;return d.jsx(a,{className:"h-4 w-4"})},se=(e,r)=>{if(e.includes(".")){const[a,s]=e.split(".");Q(e=>n(t({},e),{[a]:n(t({},e[a]),{[s]:r})}))}else Q(a=>n(t({},a),{[e]:r}))},oe=Z.reduce((e,r)=>(e[r.category]||(e[r.category]=[]),e[r.category].push(r),e),{});return d.jsx(h,{open:e,onOpenChange:r,children:d.jsxs(u,{className:"sm:max-w-[900px] max-h-[90vh] overflow-y-auto",children:[d.jsx(m,{children:d.jsxs(p,{className:"flex items-center gap-2",children:[d.jsx(y,{className:"h-5 w-5"}),"Technical Specifications - ",a.partName]})}),d.jsxs(N,{defaultValue:"basic",className:"w-full",children:[d.jsxs(b,{className:"grid w-full grid-cols-3",children:[d.jsx(f,{value:"basic",children:"Basic Info"}),d.jsx(f,{value:"specs",children:"Technical Specs"}),d.jsx(f,{value:"notes",children:"Installation & Safety"})]}),d.jsx(w,{value:"basic",className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs(C,{children:[d.jsx(S,{children:d.jsxs(F,{className:"text-lg flex items-center gap-2",children:[d.jsx(M,{className:"h-4 w-4"}),"Physical Properties"]})}),d.jsxs(E,{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(x,{htmlFor:"weight",children:"Weight"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(j,{id:"weight",type:"number",step:"0.01",value:B.weight,onChange:e=>se("weight",e.target.value),placeholder:"0.00",className:"flex-1"}),d.jsx("span",{className:"flex items-center px-3 text-sm text-muted-foreground",children:"kg"})]})]}),d.jsxs("div",{children:[d.jsx(x,{htmlFor:"material",children:"Material"}),d.jsx(j,{id:"material",value:B.material,onChange:e=>se("material",e.target.value),placeholder:"e.g., Aluminum, Steel, Plastic"})]}),d.jsxs("div",{children:[d.jsx(x,{htmlFor:"color",children:"Color"}),d.jsx(j,{id:"color",value:B.color,onChange:e=>se("color",e.target.value),placeholder:"e.g., Black, Silver, Red"})]})]})]}),d.jsxs(C,{children:[d.jsx(S,{children:d.jsxs(F,{className:"text-lg flex items-center gap-2",children:[d.jsx(le,{className:"h-4 w-4"}),"Dimensions"]})}),d.jsxs(E,{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(x,{children:"Unit"}),d.jsxs(A,{value:B.dimensions.unit,onValueChange:e=>se("dimensions.unit",e),children:[d.jsx(T,{children:d.jsx(V,{})}),d.jsxs(q,{children:[d.jsx(D,{value:"mm",children:"Millimeters (mm)"}),d.jsx(D,{value:"cm",children:"Centimeters (cm)"}),d.jsx(D,{value:"in",children:"Inches (in)"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[d.jsxs("div",{children:[d.jsx(x,{htmlFor:"length",children:"Length"}),d.jsx(j,{id:"length",type:"number",step:"0.1",value:B.dimensions.length,onChange:e=>se("dimensions.length",e.target.value),placeholder:"0.0"})]}),d.jsxs("div",{children:[d.jsx(x,{htmlFor:"width",children:"Width"}),d.jsx(j,{id:"width",type:"number",step:"0.1",value:B.dimensions.width,onChange:e=>se("dimensions.width",e.target.value),placeholder:"0.0"})]}),d.jsxs("div",{children:[d.jsx(x,{htmlFor:"height",children:"Height"}),d.jsx(j,{id:"height",type:"number",step:"0.1",value:B.dimensions.height,onChange:e=>se("dimensions.height",e.target.value),placeholder:"0.0"})]})]})]})]}),d.jsxs(C,{className:"md:col-span-2",children:[d.jsx(S,{children:d.jsx(F,{className:"text-lg",children:"Warranty & Compatibility"})}),d.jsxs(E,{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx(x,{htmlFor:"warranty-duration",children:"Warranty Duration"}),d.jsx(j,{id:"warranty-duration",type:"number",value:B.warranty.duration,onChange:e=>se("warranty.duration",e.target.value),placeholder:"12"})]}),d.jsxs("div",{children:[d.jsx(x,{children:"Warranty Unit"}),d.jsxs(A,{value:B.warranty.unit,onValueChange:e=>se("warranty.unit",e),children:[d.jsx(T,{children:d.jsx(V,{})}),d.jsxs(q,{children:[d.jsx(D,{value:"months",children:"Months"}),d.jsx(D,{value:"years",children:"Years"})]})]})]}),d.jsxs("div",{children:[d.jsx(x,{htmlFor:"warranty-terms",children:"Warranty Terms"}),d.jsx(j,{id:"warranty-terms",value:B.warranty.terms,onChange:e=>se("warranty.terms",e.target.value),placeholder:"Limited warranty"})]})]}),d.jsxs("div",{children:[d.jsx(x,{htmlFor:"compatible-models",children:"Compatible Models (comma-separated)"}),d.jsx(j,{id:"compatible-models",value:B.compatibleModels,onChange:e=>se("compatibleModels",e.target.value),placeholder:"Model 1, Model 2, Model 3"})]})]})]})]})}),d.jsxs(w,{value:"specs",className:"space-y-4",children:[d.jsxs(C,{children:[d.jsx(S,{children:d.jsx(F,{className:"text-lg",children:J?"Edit Specification":"Add New Specification"})}),d.jsxs(E,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[d.jsxs("div",{children:[d.jsx(x,{htmlFor:"spec-name",children:"Name"}),d.jsx(j,{id:"spec-name",value:_.name||"",onChange:e=>Y(n(t({},_),{name:e.target.value})),placeholder:"e.g., Voltage"})]}),d.jsxs("div",{children:[d.jsx(x,{htmlFor:"spec-value",children:"Value"}),d.jsx(j,{id:"spec-value",value:_.value||"",onChange:e=>Y(n(t({},_),{value:e.target.value})),placeholder:"e.g., 12"})]}),d.jsxs("div",{children:[d.jsx(x,{htmlFor:"spec-unit",children:"Unit"}),d.jsx(j,{id:"spec-unit",value:_.unit||"",onChange:e=>Y(n(t({},_),{unit:e.target.value})),placeholder:"e.g., V, A, °C"})]}),d.jsxs("div",{children:[d.jsx(x,{children:"Category"}),d.jsxs(A,{value:_.category||"other",onValueChange:e=>Y(n(t({},_),{category:e})),children:[d.jsx(T,{children:d.jsx(V,{})}),d.jsx(q,{children:X.map(e=>d.jsx(D,{value:e.value,children:e.label},e.value))})]})]}),d.jsx("div",{className:"flex items-end",children:d.jsx(g,{onClick:J?()=>{if(!_.name||!_.value||!J)return;const e=Z.map(e=>e.id===J?n(t({},e),{name:_.name,value:_.value,unit:_.unit||"",category:_.category,description:_.description||""}):e);W(e),Y({name:"",value:"",unit:"",category:"other",description:""}),K(null)}:()=>{if(!_.name||!_.value)return;const e={id:Date.now().toString(),name:_.name,value:_.value,unit:_.unit,category:_.category,description:_.description};W([...Z,e]),Y({name:"",value:"",unit:"",category:"other",description:""})},disabled:!_.name||!_.value,className:"w-full",children:J?"Update":d.jsxs(d.Fragment,{children:[d.jsx(P,{className:"h-4 w-4 mr-1"})," Add"]})})})]}),void 0!==_.description&&d.jsxs("div",{className:"mt-4",children:[d.jsx(x,{htmlFor:"spec-description",children:"Description (Optional)"}),d.jsx(j,{id:"spec-description",value:_.description,onChange:e=>Y(n(t({},_),{description:e.target.value})),placeholder:"Additional details about this specification"})]}),J&&d.jsx("div",{className:"mt-4",children:d.jsx(g,{variant:"outline",onClick:()=>{Y({name:"",value:"",unit:"",category:"other",description:""}),K(null)},children:"Cancel Edit"})})]})]}),d.jsx("div",{className:"space-y-4",children:Object.entries(oe).map(([e,r])=>{var a;return d.jsxs(C,{children:[d.jsx(S,{children:d.jsxs(F,{className:"text-lg flex items-center gap-2",children:[ae(e),(null==(a=X.find(r=>r.value===e))?void 0:a.label)||"Other",d.jsx(L,{variant:"secondary",children:r.length})]})}),d.jsx(E,{children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:r.map(e=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"font-medium",children:[e.name,":"]}),d.jsx("span",{children:e.value}),e.unit&&d.jsx("span",{className:"text-sm text-muted-foreground",children:e.unit})]}),e.description&&d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx(g,{variant:"ghost",size:"sm",onClick:()=>(e=>{const r=Z.find(r=>r.id===e);r&&(Y(r),K(e))})(e.id),children:d.jsx(re,{className:"h-3 w-3"})}),d.jsx(g,{variant:"ghost",size:"sm",onClick:()=>{return r=e.id,void W(Z.filter(e=>e.id!==r));var r},className:"text-red-600 hover:text-red-700",children:d.jsx(O,{className:"h-3 w-3"})})]})]},e.id))})})]},e)})}),0===Z.length&&d.jsx(C,{children:d.jsxs(E,{className:"text-center py-8",children:[d.jsx(y,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),d.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Technical Specifications"}),d.jsx("p",{className:"text-muted-foreground",children:"Add technical specifications to provide detailed information about this part."})]})})]}),d.jsx(w,{value:"notes",className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs(C,{children:[d.jsx(S,{children:d.jsx(F,{children:"Installation Notes"})}),d.jsx(E,{children:d.jsx(U,{value:B.installationNotes,onChange:e=>se("installationNotes",e.target.value),placeholder:"Enter installation instructions, requirements, or special notes...",rows:6})})]}),d.jsxs(C,{children:[d.jsx(S,{children:d.jsx(F,{children:"Safety Instructions"})}),d.jsx(E,{children:d.jsx(U,{value:B.safetyInstructions,onChange:e=>se("safetyInstructions",e.target.value),placeholder:"Enter safety warnings, precautions, or special handling instructions...",rows:6})})]})]})})]}),d.jsxs(v,{children:[d.jsx(g,{variant:"outline",onClick:r,children:"Cancel"}),d.jsx(g,{onClick:()=>{const e={technicalSpecs:Z,weight:B.weight?Number(B.weight):void 0,material:B.material||void 0,color:B.color||void 0,dimensions:{length:B.dimensions.length?Number(B.dimensions.length):void 0,width:B.dimensions.width?Number(B.dimensions.width):void 0,height:B.dimensions.height?Number(B.dimensions.height):void 0,unit:B.dimensions.unit},warranty:B.warranty.duration?{duration:Number(B.warranty.duration),unit:B.warranty.unit,terms:B.warranty.terms||void 0}:void 0,compatibleModels:B.compatibleModels?B.compatibleModels.split(",").map(e=>e.trim()).filter(Boolean):void 0,installationNotes:B.installationNotes||void 0,safetyInstructions:B.safetyInstructions||void 0};s(a.id,e),r()},children:"Save Technical Specifications"})]})]})})},ce=[{id:"sr-1",carModel:"Voyah Dream",partName:"Floor Mats Premium",partNumber:"VD-FM-001",quantity:8,location:{shelf:"A1",column:"1",row:"2",room:"Display Storage",floor:"Floor 1"},lastUpdated:"2025-05-20T14:30:00",supplier:"DF",vehicleType:"EV",category:"accessory",vin:"",pdiStatus:"pending"},{id:"sr-2",carModel:"Voyah Free",partName:"Wireless Charger Pad",partNumber:"VF-WC-003",quantity:5,location:{shelf:"B2",column:"2",row:"1",room:"Premium Display",floor:"Floor 2"},lastUpdated:"2025-05-18T11:45:00",supplier:"AZ",vehicleType:"EV",category:"accessory",vin:"",pdiStatus:"pending"},{id:"sr-3",carModel:"Voyah Passion",partName:"Dashboard Camera",partNumber:"VP-DC-007",quantity:3,location:{shelf:"C1",column:"1",row:"3",room:"Customer Area",floor:"Floor 1"},lastUpdated:"2025-05-16T16:20:00",supplier:"DF",vehicleType:"Hybrid",category:"accessory",vin:"",pdiStatus:"pending"},{id:"sr-4",carModel:"Mhero",partName:"Seat Covers Leather",partNumber:"MH-SC-012",quantity:6,location:{shelf:"D3",column:"2",row:"1",room:"Display Storage",floor:"Floor 1"},lastUpdated:"2025-05-15T09:30:00",supplier:"AZ",vehicleType:"ICE",category:"accessory",vin:"",pdiStatus:"pending"}],de=()=>{const e=R(),[r,a]=G.useState(ce),[s,l]=G.useState(""),[i,o]=G.useState("All"),[c,h]=G.useState("All Suppliers"),[u,m]=G.useState(!1),[p,x]=G.useState(null),[v,N]=G.useState(!1),[b,f]=G.useState(null),[w,C]=G.useState(!1);G.useEffect(()=>{const a=new URLSearchParams(e.search).get("vin");a&&(l(a),setTimeout(()=>{const e=r.find(e=>{var r,s,l;return(null==(r=e.partName)?void 0:r.toLowerCase().includes(a.toLowerCase()))||(null==(s=e.partNumber)?void 0:s.toLowerCase().includes(a.toLowerCase()))||(null==(l=e.carModel)?void 0:l.toLowerCase().includes(a.toLowerCase()))});H(e?{title:"Item Found in Showroom Inventory",description:`Showing ${e.partName} for ${e.carModel} (${e.partNumber})`,duration:5e3}:{title:"Item Not Found",description:`No item found with search term: ${a} in Showroom Inventory`,variant:"destructive",duration:5e3})},500))},[e.search,r]);const S=["All Suppliers",...Array.from(new Set(r.map(e=>e.supplier||"DF")))],F=r.filter(e=>{var r;const a=""===s||e.partName.toLowerCase().includes(s.toLowerCase())||e.partNumber.toLowerCase().includes(s.toLowerCase())||e.carModel.toLowerCase().includes(s.toLowerCase())||(null==(r=e.location.room)?void 0:r.toLowerCase().includes(s.toLowerCase())),l="All"===i||e.vehicleType===i,o="All Suppliers"===c||e.supplier===c;return a&&l&&o}),E=e=>{switch(e){case"EV":return d.jsx(L,{className:"bg-green-100 text-green-800",children:"Electric Vehicle"});case"Hybrid":return d.jsx(L,{className:"bg-blue-100 text-blue-800",children:"Hybrid"});case"ICE":return d.jsx(L,{className:"bg-orange-100 text-orange-800",children:"Internal Combustion"});default:return d.jsx(L,{variant:"outline",children:"Unknown"})}},A=e=>{switch(e){case"DF":return d.jsx(L,{className:"bg-monza-yellow/20 text-monza-black border border-monza-yellow/40",children:"Dong Feng"});case"AZ":return d.jsx(L,{className:"bg-monza-gray/15 text-monza-gray border border-monza-gray/30",children:"AutoZone"});default:return d.jsx(L,{variant:"outline",children:e||"Unknown"})}};return d.jsxs("div",{className:"space-y-6 p-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Showroom Accessories Inventory"}),d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage accessories only - categorized by vehicle type (ICE, Hybrid, EV)"})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs(g,{variant:"outline",onClick:()=>{return e=void 0,r=null,a=function*(){try{const e=F.map(e=>({"Car Model":e.carModel,"Accessory Name":e.partName,"Part Number":e.partNumber,"Vehicle Type":e.vehicleType,Quantity:e.quantity,Supplier:e.supplier,Room:e.location.room,Location:`${e.location.shelf}-${e.location.column}-${e.location.row}`,Floor:e.location.floor,"Last Updated":Z.formatDateTime(e.lastUpdated),Category:e.category})),r=yield ae.exportToExcel(e,{fileName:"showroom_accessories_inventory",sheetName:"Showroom Accessories",includeTimestamp:!0,uploadToSupabase:!0});r.success?H({title:"Excel Export Successful",description:r.message}):H({title:"Export Failed",description:r.message,variant:"destructive"})}catch(e){H({title:"Export Error",description:"Failed to export data to Excel. Please try again.",variant:"destructive"})}},new Promise((s,l)=>{var i=e=>{try{t(a.next(e))}catch(r){l(r)}},o=e=>{try{t(a.throw(e))}catch(r){l(r)}},t=e=>e.done?s(e.value):Promise.resolve(e.value).then(i,o);t((a=a.apply(e,r)).next())});var e,r,a},children:[d.jsx(se,{className:"mr-1 h-4 w-4"}),"Export to Excel"]}),d.jsxs(g,{variant:"outline",onClick:()=>{H({title:"Excel Import",description:"Please select an Excel file to import showroom accessories data."})},children:[d.jsx($,{className:"mr-1 h-4 w-4"}),"Import from Excel"]}),d.jsxs(g,{variant:"default",onClick:()=>m(!0),children:[d.jsx(P,{className:"mr-1 h-4 w-4"}),"Add New Accessory"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(z,{className:"absolute left-2 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(j,{placeholder:"Search accessories, models, rooms...",className:"pl-8",value:s,onChange:e=>l(e.target.value)})]}),d.jsxs("select",{className:"h-10 rounded-md border border-input bg-background px-3 py-2",value:i,onChange:e=>o(e.target.value),children:[d.jsx("option",{value:"All",children:"All Vehicle Types"}),d.jsx("option",{value:"EV",children:"Electric Vehicle (EV)"}),d.jsx("option",{value:"Hybrid",children:"Hybrid"}),d.jsx("option",{value:"ICE",children:"Internal Combustion (ICE)"})]}),d.jsx("select",{className:"h-10 rounded-md border border-input bg-background px-3 py-2",value:c,onChange:e=>h(e.target.value),children:S.map(e=>d.jsx("option",{value:e,children:e},e))})]}),d.jsx("div",{className:"bg-white rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs(B,{children:[d.jsx(Q,{children:d.jsxs(_,{children:[d.jsx(Y,{children:"Car Model"}),d.jsx(Y,{children:"Accessory Name"}),d.jsx(Y,{children:"Part Number"}),d.jsx(Y,{children:"Vehicle Type"}),d.jsx(Y,{children:"Quantity"}),d.jsx(Y,{children:"Supplier"}),d.jsx(Y,{children:"Room"}),d.jsx(Y,{children:"Location"}),d.jsx(Y,{children:"Last Updated"}),d.jsx(Y,{children:"Actions"})]})}),d.jsx(J,{children:F.length>0?F.map(e=>d.jsxs(_,{className:"hover:bg-muted/50",children:[d.jsx(K,{className:"font-medium",children:e.carModel}),d.jsx(K,{children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(M,{className:"h-4 w-4 text-muted-foreground"}),e.partName]})}),d.jsx(K,{className:"font-mono text-sm",children:e.partNumber}),d.jsx(K,{children:E(e.vehicleType)}),d.jsx(K,{children:d.jsx(L,{variant:"secondary",className:"font-semibold",children:e.quantity})}),d.jsx(K,{children:A(e.supplier)}),d.jsx(K,{children:d.jsx(L,{variant:"outline",className:"bg-purple-100 text-purple-800",children:e.location.room})}),d.jsx(K,{className:"font-mono text-sm",children:`${e.location.shelf}-${e.location.column}-${e.location.row}`}),d.jsx(K,{className:"text-sm text-muted-foreground",children:Z.formatDateTime(e.lastUpdated)}),d.jsx(K,{children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx(g,{variant:"outline",size:"sm",onClick:()=>(e=>{x(e),N(!0)})(e),children:d.jsx(W,{className:"h-4 w-4"})}),d.jsx(g,{variant:"outline",size:"sm",onClick:()=>(e=>{f(e),C(!0)})(e),className:"text-blue-600 hover:text-blue-700",children:d.jsx(y,{className:"h-3 w-3"})})]})})]},e.id)):d.jsx(_,{children:d.jsx(K,{colSpan:10,className:"text-center py-8",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(M,{className:"h-8 w-8 text-muted-foreground"}),d.jsx("p",{className:"font-medium",children:"No showroom accessories found"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"No accessories match your search criteria."})]})})})})]})})}),d.jsx(oe,{isOpen:u,onClose:()=>m(!1),onAddAccessory:e=>{const r=n(t({},e),{id:`sr-${Date.now()}`,lastUpdated:(new Date).toISOString(),category:"accessory"});a(e=>[...e,r]),H({title:"Accessory Added",description:`${r.partName} has been added to showroom inventory.`})}}),d.jsx(te,{isOpen:v,onClose:()=>N(!1),item:p,onSave:e=>{p&&(a(r=>r.map(r=>r.id===p.id?n(t(t({},r),e),{lastUpdated:(new Date).toISOString()}):r)),H({title:"Accessory Updated",description:`${p.partName} has been updated successfully.`}))}}),b&&d.jsx(ne,{isOpen:w,onClose:()=>C(!1),item:b,onSave:(e,r)=>{a(a=>a.map(a=>a.id===e?n(t(t({},a),r),{lastUpdated:(new Date).toISOString()}):a)),H({title:"Technical Specifications Updated",description:"Technical specifications have been saved successfully."})}})]})};
/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */export{de as default};
