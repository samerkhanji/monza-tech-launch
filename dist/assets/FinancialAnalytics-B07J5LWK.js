var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(r,t,s)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s,l=(e,r)=>{for(var t in r||(r={}))a.call(r,t)&&n(e,t,r[t]);if(s)for(var t of s(r))i.call(r,t)&&n(e,t,r[t]);return e},c=(e,s)=>r(e,t(s));import{s as o,j as d,C as u,a as m,I as x,g as h,h as _,D as p,aR as j,f,W as g,P as v,n as y,a3 as b,B as N,p as w,q as C,r as S,v as P,e as V}from"./index-BmUpYGrm.js";import{r as q}from"./vendor-vN6PtkFd.js";import{T as R,a as F,b as D,c as E,d as O,e as M}from"./table-BEISn_Te.js";import{C as I}from"./calculator-D7ZZJlp5.js";import{R as T,P as L,a as k,C as $,T as H,B as A,b as B,X as K,Y as U,d as G}from"./charts-XrXYWaKo.js";import"./utils-DhcIvS4g.js";const Q=e=>{const[r,t]=q.useState([]),[s,a]=q.useState([]),[i,n]=q.useState([]),[l,c]=q.useState([]),[d,u]=q.useState([]),[m,x]=q.useState(null),[h,_]=q.useState(!0),[p,j]=q.useState(null);q.useEffect(()=>{f()},[e]);const f=()=>{return r=void 0,s=null,i=function*(){try{_(!0),j(null);let r=o.from("repair_financials").select("*");e&&(r=r.gte("repair_date",e.start).lte("repair_date",e.end));const{data:s,error:i}=yield r;if(i)throw i;let l=o.from("vehicle_sales_financials").select("*");e&&(l=l.gte("sale_date",e.start).lte("sale_date",e.end));const{data:d,error:m}=yield l;if(m)throw m;const{data:h,error:p}=yield o.from("equipment_assets").select("*");if(p)throw p;const{data:f,error:C}=yield o.from("inventory_valuation").select("*").order("valuation_date",{ascending:!1});if(C)throw C;let S=o.from("operational_costs").select("*");e&&(S=S.gte("billing_period_start",e.start).lte("billing_period_end",e.end));const{data:P,error:V}=yield S;if(V)throw V;t((s||[]).map(g)),a((d||[]).map(v)),n((h||[]).map(y)),c((f||[]).map(b)),u((P||[]).map(N));const q=w(s||[],d||[],h||[],f||[],P||[]);x(q)}catch(r){j("Failed to load financial data")}finally{_(!1)}},new Promise((e,t)=>{var a=e=>{try{l(i.next(e))}catch(r){t(r)}},n=e=>{try{l(i.throw(e))}catch(r){t(r)}},l=r=>r.done?e(r.value):Promise.resolve(r.value).then(a,n);l((i=i.apply(r,s)).next())});var r,s,i},g=e=>({id:e.id,repair_id:e.repair_id,car_vin:e.car_vin,client_name:e.client_name,labor_hours:Number(e.labor_hours)||0,labor_rate_per_hour:Number(e.labor_rate_per_hour)||0,total_labor_cost:Number(e.total_labor_cost)||0,parts_cost:Number(e.parts_cost)||0,parts_markup_percentage:Number(e.parts_markup_percentage)||0,total_parts_cost:Number(e.total_parts_cost)||0,equipment_usage_cost:Number(e.equipment_usage_cost)||0,electricity_cost:Number(e.electricity_cost)||0,overhead_cost:Number(e.overhead_cost)||0,quoted_price:Number(e.quoted_price)||0,final_price:Number(e.final_price)||0,total_cost:Number(e.total_cost)||0,gross_profit:Number(e.gross_profit)||0,profit_margin_percentage:Number(e.profit_margin_percentage)||0,estimated_completion_hours:e.estimated_completion_hours?Number(e.estimated_completion_hours):void 0,actual_completion_hours:e.actual_completion_hours?Number(e.actual_completion_hours):void 0,efficiency_rating:e.efficiency_rating?Number(e.efficiency_rating):void 0,repair_date:e.repair_date}),v=e=>({id:e.id,vehicle_id:e.vehicle_id,vin_number:e.vin_number,model:e.model,year:Number(e.year)||0,purchase_price:Number(e.purchase_price)||0,import_duty:Number(e.import_duty)||0,shipping_cost:Number(e.shipping_cost)||0,preparation_cost:Number(e.preparation_cost)||0,total_acquisition_cost:Number(e.total_acquisition_cost)||0,storage_cost_per_day:Number(e.storage_cost_per_day)||0,days_in_inventory:Number(e.days_in_inventory)||0,total_holding_cost:Number(e.total_holding_cost)||0,insurance_cost:Number(e.insurance_cost)||0,listing_price:Number(e.listing_price)||0,final_sale_price:Number(e.final_sale_price)||0,sales_commission:Number(e.sales_commission)||0,total_cost:Number(e.total_cost)||0,gross_profit:Number(e.gross_profit)||0,profit_margin_percentage:Number(e.profit_margin_percentage)||0,purchase_date:e.purchase_date,sale_date:e.sale_date}),y=e=>({id:e.id,name:e.name,category:e.category||"equipment",purchase_date:e.purchase_date,purchase_price:Number(e.purchase_price)||0,current_value:Number(e.current_value)||0,depreciation_method:e.depreciation_method||"straight_line",useful_life_years:Number(e.useful_life_years)||0,salvage_value:Number(e.salvage_value)||0,location:e.location,condition:e.condition||"good",maintenance_cost:Number(e.maintenance_cost)||0,last_maintenance_date:e.last_maintenance_date}),b=e=>({id:e.id,inventory_item_id:e.inventory_item_id,part_number:e.part_number,part_name:e.part_name,unit_cost:Number(e.unit_cost)||0,quantity_on_hand:Number(e.quantity_on_hand)||0,total_value:Number(e.total_value)||0,storage_cost_per_unit_per_month:Number(e.storage_cost_per_unit_per_month)||0,insurance_cost_per_unit_per_month:Number(e.insurance_cost_per_unit_per_month)||0,carrying_cost_percentage:Number(e.carrying_cost_percentage)||0,usage_rate_per_month:Number(e.usage_rate_per_month)||0,months_of_supply:Number(e.months_of_supply)||0,last_used_date:e.last_used_date,depreciation_rate_per_month:Number(e.depreciation_rate_per_month)||0,expiry_date:e.expiry_date,valuation_date:e.valuation_date}),N=e=>({id:e.id,cost_category:e.cost_category||"supplies",subcategory:e.subcategory,cost_amount:Number(e.cost_amount)||0,cost_per_unit:e.cost_per_unit?Number(e.cost_per_unit):void 0,units_consumed:e.units_consumed?Number(e.units_consumed):void 0,unit_type:e.unit_type,garage_allocation_percentage:Number(e.garage_allocation_percentage)||0,showroom_allocation_percentage:Number(e.showroom_allocation_percentage)||0,office_allocation_percentage:Number(e.office_allocation_percentage)||0,billing_period_start:e.billing_period_start,billing_period_end:e.billing_period_end,invoice_date:e.invoice_date,invoice_number:e.invoice_number}),w=(e,r,t,s,a)=>{const i=e.reduce((e,r)=>e+Number(r.final_price||0),0),n=e.reduce((e,r)=>e+Number(r.total_cost||0),0),l=e.reduce((e,r)=>e+Number(r.gross_profit||0),0),c=i>0?l/i*100:0,o=r.reduce((e,r)=>e+Number(r.final_sale_price||0),0),d=r.reduce((e,r)=>e+Number(r.total_cost||0),0),u=r.reduce((e,r)=>e+Number(r.gross_profit||0),0),m=o>0?u/o*100:0,x=t.reduce((e,r)=>e+Number(r.current_value||0),0),h=t.reduce((e,r)=>e+(Number(r.purchase_price||0)-Number(r.current_value||0)),0),_=s.reduce((e,r)=>e+Number(r.total_value||0),0),p=a.reduce((e,r)=>e+Number(r.cost_amount||0),0),j=a.filter(e=>"electricity"===e.cost_category).reduce((e,r)=>e+Number(r.cost_amount||0),0),f=e.reduce((e,r)=>e+Number(r.labor_hours||0),0),g=e.reduce((e,r)=>e+Number(r.total_labor_cost||0),0),v=i+o;return{totalRepairRevenue:i,totalRepairCosts:n,totalRepairProfit:l,repairProfitMargin:c,totalVehicleSalesRevenue:o,totalVehicleSalesCosts:d,totalVehicleSalesProfit:u,vehicleSalesProfitMargin:m,totalInventoryValue:_,totalEquipmentValue:x,totalEquipmentDepreciation:h,totalOperationalCosts:p,totalElectricityCosts:j,totalLaborHours:f,averageHourlyRate:f>0?g/f:0,overallProfitMargin:v>0?(l+u-p)/v*100:0}};return{repairFinancials:r,vehicleSalesFinancials:s,equipmentAssets:i,inventoryValuation:l,operationalCosts:d,financialSummary:m,loading:h,error:p,refetch:f}},W=()=>{const[e,r]=q.useState({start:new Date(Date.now()-2592e6).toISOString().split("T")[0],end:(new Date).toISOString().split("T")[0]}),{repairFinancials:t,vehicleSalesFinancials:s,equipmentAssets:a,inventoryValuation:i,operationalCosts:n,financialSummary:o,loading:W,error:X}=Q(e),Y=e=>`${e.toFixed(1)}%`;if(W)return d.jsx("div",{className:"container mx-auto py-6",children:d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx(I,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 animate-pulse"}),d.jsx("p",{className:"text-muted-foreground",children:"Loading financial analytics..."})]})})});if(X)return d.jsx("div",{className:"container mx-auto py-6",children:d.jsx(u,{className:"border-red-200",children:d.jsx(m,{className:"p-6",children:d.jsx("p",{className:"text-red-600",children:X})})})});const z=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"],J=[{name:"Repair Services",value:(null==o?void 0:o.totalRepairProfit)||0},{name:"Vehicle Sales",value:(null==o?void 0:o.totalVehicleSalesProfit)||0}],Z=[{name:"Labor",value:t.reduce((e,r)=>e+r.total_labor_cost,0)},{name:"Parts",value:t.reduce((e,r)=>e+r.total_parts_cost,0)},{name:"Equipment",value:t.reduce((e,r)=>e+r.equipment_usage_cost,0)},{name:"Electricity",value:(null==o?void 0:o.totalElectricityCosts)||0},{name:"Overhead",value:t.reduce((e,r)=>e+r.overhead_cost,0)}];return d.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Financial Analytics"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Comprehensive financial analysis for repairs, sales, and operations"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(x,{type:"date",value:e.start,onChange:e=>r(r=>c(l({},r),{start:e.target.value})),className:"w-40"}),d.jsx("span",{className:"text-muted-foreground",children:"to"}),d.jsx(x,{type:"date",value:e.end,onChange:e=>r(r=>c(l({},r),{end:e.target.value})),className:"w-40"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs(u,{children:[d.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(_,{className:"text-sm font-medium",children:"Total Revenue"}),d.jsx(p,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(m,{children:[d.jsx("div",{className:"text-2xl font-bold",children:j.formatCurrency(((null==o?void 0:o.totalRepairRevenue)||0)+((null==o?void 0:o.totalVehicleSalesRevenue)||0))}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["Repairs: ",j.formatCurrency((null==o?void 0:o.totalRepairRevenue)||0)," | Sales: ",j.formatCurrency((null==o?void 0:o.totalVehicleSalesRevenue)||0)]})]})]}),d.jsxs(u,{children:[d.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(_,{className:"text-sm font-medium",children:"Total Profit"}),d.jsx(f,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(m,{children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:j.formatCurrency(((null==o?void 0:o.totalRepairProfit)||0)+((null==o?void 0:o.totalVehicleSalesProfit)||0))}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["Margin: ",Y((null==o?void 0:o.overallProfitMargin)||0)]})]})]}),d.jsxs(u,{children:[d.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(_,{className:"text-sm font-medium",children:"Equipment Value"}),d.jsx(g,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(m,{children:[d.jsx("div",{className:"text-2xl font-bold",children:j.formatCurrency((null==o?void 0:o.totalEquipmentValue)||0)}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["Depreciation: ",j.formatCurrency((null==o?void 0:o.totalEquipmentDepreciation)||0)]})]})]}),d.jsxs(u,{children:[d.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(_,{className:"text-sm font-medium",children:"Inventory Value"}),d.jsx(v,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(m,{children:[d.jsx("div",{className:"text-2xl font-bold",children:j.formatCurrency((null==o?void 0:o.totalInventoryValue)||0)}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.length," items tracked"]})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs(u,{children:[d.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(_,{className:"text-sm font-medium",children:"Labor Hours"}),d.jsx(y,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(m,{children:[d.jsxs("div",{className:"text-2xl font-bold",children:[((null==o?void 0:o.totalLaborHours)||0).toFixed(1),"h"]}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["Rate: ",j.formatCurrency((null==o?void 0:o.averageHourlyRate)||0),"/hour"]})]})]}),d.jsxs(u,{children:[d.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(_,{className:"text-sm font-medium",children:"Electricity Costs"}),d.jsx(b,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(m,{children:[d.jsx("div",{className:"text-2xl font-bold",children:j.formatCurrency((null==o?void 0:o.totalElectricityCosts)||0)}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Operational expense"})]})]}),d.jsxs(u,{children:[d.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(_,{className:"text-sm font-medium",children:"Repair Profit Margin"}),d.jsx(N,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(m,{children:[d.jsx("div",{className:"text-2xl font-bold",children:Y((null==o?void 0:o.repairProfitMargin)||0)}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Service profitability"})]})]}),d.jsxs(u,{children:[d.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(_,{className:"text-sm font-medium",children:"Sales Profit Margin"}),d.jsx(f,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(m,{children:[d.jsx("div",{className:"text-2xl font-bold",children:Y((null==o?void 0:o.vehicleSalesProfitMargin)||0)}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Vehicle sales profitability"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs(u,{children:[d.jsx(h,{children:d.jsx(_,{children:"Profit by Category"})}),d.jsx(m,{children:d.jsx(T,{width:"100%",height:300,children:d.jsxs(L,{children:[d.jsx(k,{data:J,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:r})=>`${e} ${(100*r).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:J.map((e,r)=>d.jsx($,{fill:z[r%z.length]},`cell-${r}`))}),d.jsx(H,{formatter:e=>j.formatCurrency(Number(e))})]})})})]}),d.jsxs(u,{children:[d.jsx(h,{children:d.jsx(_,{children:"Cost Breakdown"})}),d.jsx(m,{children:d.jsx(T,{width:"100%",height:300,children:d.jsxs(A,{data:Z,children:[d.jsx(B,{strokeDasharray:"3 3"}),d.jsx(K,{dataKey:"name"}),d.jsx(U,{tickFormatter:e=>`$${(e/1e3).toFixed(0)}k`}),d.jsx(H,{formatter:e=>j.formatCurrency(Number(e))}),d.jsx(G,{dataKey:"value",fill:"#8884d8"})]})})})]})]}),d.jsxs(w,{defaultValue:"repairs",className:"space-y-4",children:[d.jsxs(C,{children:[d.jsx(S,{value:"repairs",children:"Repair Financials"}),d.jsx(S,{value:"sales",children:"Vehicle Sales"}),d.jsx(S,{value:"equipment",children:"Equipment & Tools"}),d.jsx(S,{value:"inventory",children:"Inventory Valuation"}),d.jsx(S,{value:"costs",children:"Operational Costs"})]}),d.jsx(P,{value:"repairs",children:d.jsxs(u,{children:[d.jsx(h,{children:d.jsx(_,{children:"Repair Service Financials"})}),d.jsx(m,{children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs(R,{children:[d.jsx(F,{children:d.jsxs(D,{children:[d.jsx(E,{children:"Date"}),d.jsx(E,{children:"Client"}),d.jsx(E,{children:"VIN"}),d.jsx(E,{children:"Labor Hours"}),d.jsx(E,{children:"Total Cost"}),d.jsx(E,{children:"Final Price"}),d.jsx(E,{children:"Profit"}),d.jsx(E,{children:"Margin"})]})}),d.jsx(O,{children:t.map(e=>d.jsxs(D,{children:[d.jsx(M,{children:new Date(e.repair_date).toLocaleDateString()}),d.jsx(M,{children:e.client_name}),d.jsx(M,{className:"font-mono text-sm",children:e.car_vin}),d.jsxs(M,{children:[e.labor_hours,"h"]}),d.jsx(M,{children:j.formatCurrency(e.total_cost)}),d.jsx(M,{children:j.formatCurrency(e.final_price)}),d.jsx(M,{className:e.gross_profit>=0?"text-green-600":"text-red-600",children:j.formatCurrency(e.gross_profit)}),d.jsx(M,{children:d.jsx(V,{variant:e.profit_margin_percentage>=20?"default":"secondary",children:Y(e.profit_margin_percentage)})})]},e.id))})]})})})]})}),d.jsx(P,{value:"sales",children:d.jsxs(u,{children:[d.jsx(h,{children:d.jsx(_,{children:"Vehicle Sales Financials"})}),d.jsx(m,{children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs(R,{children:[d.jsx(F,{children:d.jsxs(D,{children:[d.jsx(E,{children:"Model"}),d.jsx(E,{children:"VIN"}),d.jsx(E,{children:"Purchase Price"}),d.jsx(E,{children:"Total Cost"}),d.jsx(E,{children:"Sale Price"}),d.jsx(E,{children:"Profit"}),d.jsx(E,{children:"Margin"}),d.jsx(E,{children:"Days in Inventory"})]})}),d.jsx(O,{children:s.map(e=>d.jsxs(D,{children:[d.jsxs(M,{children:[e.model," ",e.year]}),d.jsx(M,{className:"font-mono text-sm",children:e.vin_number}),d.jsx(M,{children:j.formatCurrency(e.purchase_price)}),d.jsx(M,{children:j.formatCurrency(e.total_cost)}),d.jsx(M,{children:j.formatCurrency(e.final_sale_price)}),d.jsx(M,{className:e.gross_profit>=0?"text-green-600":"text-red-600",children:j.formatCurrency(e.gross_profit)}),d.jsx(M,{children:d.jsx(V,{variant:e.profit_margin_percentage>=15?"default":"secondary",children:Y(e.profit_margin_percentage)})}),d.jsxs(M,{children:[e.days_in_inventory," days"]})]},e.id))})]})})})]})}),d.jsx(P,{value:"equipment",children:d.jsxs(u,{children:[d.jsx(h,{children:d.jsx(_,{children:"Equipment & Tools Valuation"})}),d.jsx(m,{children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs(R,{children:[d.jsx(F,{children:d.jsxs(D,{children:[d.jsx(E,{children:"Name"}),d.jsx(E,{children:"Category"}),d.jsx(E,{children:"Purchase Price"}),d.jsx(E,{children:"Current Value"}),d.jsx(E,{children:"Depreciation"}),d.jsx(E,{children:"Condition"}),d.jsx(E,{children:"Maintenance Cost"})]})}),d.jsx(O,{children:a.map(e=>d.jsxs(D,{children:[d.jsx(M,{children:e.name}),d.jsx(M,{children:d.jsx(V,{variant:"outline",children:e.category})}),d.jsx(M,{children:j.formatCurrency(e.purchase_price)}),d.jsx(M,{children:j.formatCurrency(e.current_value)}),d.jsxs(M,{className:"text-red-600",children:["-",j.formatCurrency(e.purchase_price-e.current_value)]}),d.jsx(M,{children:d.jsx(V,{variant:"excellent"===e.condition?"default":"good"===e.condition?"secondary":"fair"===e.condition?"outline":"destructive",children:e.condition})}),d.jsx(M,{children:j.formatCurrency(e.maintenance_cost)})]},e.id))})]})})})]})}),d.jsx(P,{value:"inventory",children:d.jsxs(u,{children:[d.jsx(h,{children:d.jsx(_,{children:"Inventory Valuation"})}),d.jsx(m,{children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs(R,{children:[d.jsx(F,{children:d.jsxs(D,{children:[d.jsx(E,{children:"Part Number"}),d.jsx(E,{children:"Part Name"}),d.jsx(E,{children:"Unit Cost"}),d.jsx(E,{children:"Quantity"}),d.jsx(E,{children:"Total Value"}),d.jsx(E,{children:"Monthly Usage"}),d.jsx(E,{children:"Months Supply"})]})}),d.jsx(O,{children:i.map(e=>d.jsxs(D,{children:[d.jsx(M,{className:"font-mono text-sm",children:e.part_number}),d.jsx(M,{children:e.part_name}),d.jsx(M,{children:j.formatCurrency(e.unit_cost)}),d.jsx(M,{children:e.quantity_on_hand}),d.jsx(M,{children:j.formatCurrency(e.total_value)}),d.jsx(M,{children:e.usage_rate_per_month}),d.jsx(M,{children:d.jsxs(V,{variant:e.months_of_supply>6?"destructive":e.months_of_supply>3?"outline":"default",children:[e.months_of_supply.toFixed(1)," months"]})})]},e.id))})]})})})]})}),d.jsx(P,{value:"costs",children:d.jsxs(u,{children:[d.jsx(h,{children:d.jsx(_,{children:"Operational Costs"})}),d.jsx(m,{children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs(R,{children:[d.jsx(F,{children:d.jsxs(D,{children:[d.jsx(E,{children:"Category"}),d.jsx(E,{children:"Subcategory"}),d.jsx(E,{children:"Amount"}),d.jsx(E,{children:"Period"}),d.jsx(E,{children:"Garage Allocation"}),d.jsx(E,{children:"Units"})]})}),d.jsx(O,{children:n.map(e=>d.jsxs(D,{children:[d.jsx(M,{children:d.jsx(V,{variant:"outline",children:e.cost_category})}),d.jsx(M,{children:e.subcategory||"-"}),d.jsx(M,{children:j.formatCurrency(e.cost_amount)}),d.jsxs(M,{children:[new Date(e.billing_period_start).toLocaleDateString()," - ",new Date(e.billing_period_end).toLocaleDateString()]}),d.jsxs(M,{children:[e.garage_allocation_percentage,"%"]}),d.jsx(M,{children:e.units_consumed&&e.unit_type?`${e.units_consumed} ${e.unit_type}`:"-"})]},e.id))})]})})})]})})]})]})};export{W as default};
