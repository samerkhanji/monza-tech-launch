import{R as Q,r as b,b$ as z,cr as J,aB as X,j as e,D as _,a as E,b as R,c as M,i as L,Y as ee,Z as se,_ as p,aA as g,C as i,d as r,e as d,f as c,af as ae,B as y,cs as te,q as le,F as ne,w as A,ar as f,g as ie,bR as B,ct as V,ad as j,M as re,ak as de,a1 as ce,aG as xe,am as me,aw as oe,av as he,bT as F}from"./index-D4jk50_k.js";import{S as je}from"./scroll-area-Cm1brlpU.js";import{EnhancedRepairHistoryService as pe}from"./enhancedRepairHistoryService-Bjt0i2mv.js";import{T as ge}from"./test-tube-V-DFEf2y.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=Q("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]),be=({isOpen:u,onClose:D,car:s,carVin:v})=>{var H,S,k,P,T,I,U;const[t,$]=b.useState(null),[Ne,C]=b.useState(!1),{getCarByCode:q,getCarRepairHistory:ye}=z();b.useEffect(()=>{(s||v)&&u&&O()},[s,v,u]);const O=async()=>{C(!0);try{const a=v||(s==null?void 0:s.vinNumber)||(s==null?void 0:s.carCode)||(s==null?void 0:s.vin);if(!a)return;const l={id:(s==null?void 0:s.id)||a,vinNumber:a,model:(s==null?void 0:s.model)||(s==null?void 0:s.carModel)||"Unknown Model",brand:(s==null?void 0:s.brand)||"Unknown Brand",year:(s==null?void 0:s.year)||(s==null?void 0:s.modelYear)||new Date().getFullYear(),color:(s==null?void 0:s.color)||"Unknown",interiorColor:(s==null?void 0:s.interiorColor)||(s==null?void 0:s.interior_color),category:(s==null?void 0:s.category)||"EV",sellingPrice:(s==null?void 0:s.sellingPrice)||(s==null?void 0:s.price),status:(s==null?void 0:s.status)||"unknown",currentLocation:(s==null?void 0:s.currentLocation)||(s==null?void 0:s.currentFloor),batteryPercentage:s==null?void 0:s.batteryPercentage,range:s==null?void 0:s.range,kilometersOrMileage:(s==null?void 0:s.kilometersDriven)||(s==null?void 0:s.kmDriven)||(s==null?void 0:s.mileage),arrivalDate:(s==null?void 0:s.arrivalDate)||(s==null?void 0:s.garageEntryDate),pdiDate:s==null?void 0:s.pdiDate,soldDate:s==null?void 0:s.soldDate,deliveryDate:s==null?void 0:s.deliveryDate,lastSoftwareUpdate:s==null?void 0:s.softwareLastUpdated,softwareVersion:s==null?void 0:s.softwareVersion,clientName:(s==null?void 0:s.clientName)||(s==null?void 0:s.customerName),clientPhone:s==null?void 0:s.clientPhone,clientEmail:s==null?void 0:s.clientEmail,repairHistory:[],testDriveHistory:[],locationHistory:[],softwareUpdateHistory:[],partsChangedHistory:[],mechanicsWorked:[],warrantyInfo:{startDate:s==null?void 0:s.warrantyStartDate,endDate:s==null?void 0:s.warrantyEndDate,monthsRemaining:s==null?void 0:s.warrantyMonthsRemaining,daysRemaining:s==null?void 0:s.warrantyDaysRemaining,status:s==null?void 0:s.warrantyStatus},technicalSpecs:(s==null?void 0:s.technicalSpecs)||[]};try{const n=await pe.getCarRepairHistory(a);l.repairHistory=n;const x=new Set;n.forEach(N=>{N.mechanic_assigned&&x.add(N.mechanic_assigned),N.assigned_employees&&N.assigned_employees.forEach(h=>x.add(h))}),l.mechanicsWorked=Array.from(x)}catch(n){console.warn("Could not load repair history:",n)}try{const n=J.getTestDriveHistory(a);l.testDriveHistory=n}catch(n){console.warn("Could not load test drive history:",n)}try{const n=q(a);n&&(l.repairHistory=[...l.repairHistory,...n.repairHistory],l.locationHistory=n.locationHistory||[])}catch(n){console.warn("Could not load unified car data:",n)}try{const n=["carInventory","showroomFloor1Cars","showroomFloor2Cars","garageCars","inventoryFloor2Cars","realCarData"];for(const x of n){const h=X(x,[]).find(o=>o.vinNumber===a||o.carCode===a||o.vin===a||o.id===a);h&&Object.keys(h).forEach(o=>{h[o]!==void 0&&h[o]!==null&&(l[o]=h[o])})}}catch(n){console.warn("Could not load additional car data:",n)}!l.locationHistory.length&&l.arrivalDate&&(l.locationHistory=G(l)),l.softwareUpdateHistory=Y(l),l.partsChangedHistory=Z(l.repairHistory),$(l)}catch(a){console.error("Error loading comprehensive car data:",a)}finally{C(!1)}},G=a=>{const l=[],n=new Date(a.arrivalDate||Date.now()-2592e6);return l.push({location:"New Arrivals",timestamp:n.toISOString(),reason:"Initial arrival at dealership"}),a.pdiDate&&l.push({location:"Garage",timestamp:a.pdiDate,reason:"PDI inspection and preparation"}),a.currentLocation&&l.push({location:a.currentLocation,timestamp:new Date().toISOString(),reason:"Current location"}),l},Y=a=>{const l=[];return a.lastSoftwareUpdate&&l.push({version:a.softwareVersion||"v2.4.1",updateDate:a.lastSoftwareUpdate,updatedBy:"IT Team",notes:"Regular software maintenance update"}),l},Z=a=>{const l=[];return a.forEach(n=>{n.parts_used&&n.parts_used.forEach(x=>{l.push({partName:x.part_name||x,partNumber:x.part_number,supplier:x.supplier,cost:x.cost,quantity:x.quantity||1,dateInstalled:n.repair_date,installedBy:n.mechanic_assigned,repairId:n.id})})}),l},m=a=>{if(!a)return"N/A";try{return F(new Date(a),"MMM dd, yyyy")}catch{return a}},w=a=>{if(!a)return"N/A";try{return F(new Date(a),"MMM dd, yyyy HH:mm")}catch{return a}},K=a=>{switch(a==null?void 0:a.toLowerCase()){case"available":case"in_stock":return"bg-green-100 text-green-800";case"sold":return"bg-blue-100 text-blue-800";case"reserved":return"bg-yellow-100 text-yellow-800";case"in_repair":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return t?e.jsx(_,{open:u,onOpenChange:D,children:e.jsxs(E,{className:"max-w-7xl max-h-[90vh] overflow-hidden",children:[e.jsx(R,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),"Complete Vehicle History - ",t.model," (",t.vinNumber,")"]})}),e.jsxs(ee,{defaultValue:"overview",className:"flex-1 overflow-hidden",children:[e.jsxs(se,{className:"grid w-full grid-cols-6",children:[e.jsx(p,{value:"overview",children:"Overview"}),e.jsx(p,{value:"history",children:"History"}),e.jsx(p,{value:"repairs",children:"Repairs & Parts"}),e.jsx(p,{value:"testdrives",children:"Test Drives"}),e.jsx(p,{value:"technical",children:"Technical"}),e.jsx(p,{value:"client",children:"Client Info"})]}),e.jsxs(je,{className:"h-[70vh] mt-4",children:[e.jsxs(g,{value:"overview",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs(d,{className:"text-lg flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),"Vehicle Information"]})}),e.jsx(c,{className:"space-y-3",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"VIN:"}),e.jsx("p",{className:"font-mono",children:t.vinNumber})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Model:"}),e.jsx("p",{children:t.model})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Brand:"}),e.jsx("p",{children:t.brand})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Year:"}),e.jsx("p",{children:t.year})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Color:"}),e.jsx("p",{children:t.color})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Interior:"}),e.jsx("p",{children:t.interiorColor||"N/A"})]})]})})]}),e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs(d,{className:"text-lg flex items-center gap-2",children:[e.jsx(ae,{className:"h-5 w-5"}),"Current Status"]})}),e.jsx(c,{className:"space-y-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Status:"}),e.jsx(y,{className:K(t.status),children:t.status.replace("_"," ").toUpperCase()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Location:"}),e.jsx("span",{children:t.currentLocation||"Unknown"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Price:"}),e.jsxs("span",{className:"font-bold text-green-600",children:["$",((H=t.sellingPrice)==null?void 0:H.toLocaleString())||"N/A"]})]})]})})]}),e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs(d,{className:"text-lg flex items-center gap-2",children:[e.jsx(te,{className:"h-5 w-5"}),"Performance Data"]})}),e.jsx(c,{className:"space-y-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"font-medium text-gray-600 flex items-center gap-1",children:[e.jsx(le,{className:"h-4 w-4"}),"Battery:"]}),e.jsxs("span",{className:"font-bold",children:[t.batteryPercentage||0,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"font-medium text-gray-600 flex items-center gap-1",children:[e.jsx(ne,{className:"h-4 w-4"}),"Range:"]}),e.jsxs("span",{children:[t.range||0," km"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"font-medium text-gray-600 flex items-center gap-1",children:[e.jsx(W,{className:"h-4 w-4"}),"Driven:"]}),e.jsxs("span",{children:[t.kilometersOrMileage||0," km"]})]})]})})]})]}),e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs(d,{className:"text-lg flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"Key Dates & Timeline"]})}),e.jsx(c,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[e.jsx(f,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-800",children:"Arrival Date"}),e.jsx("p",{className:"text-sm text-blue-600",children:m(t.arrivalDate)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 rounded-lg",children:[e.jsx(ie,{className:"h-5 w-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-purple-800",children:"PDI Date"}),e.jsx("p",{className:"text-sm text-purple-600",children:m(t.pdiDate)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[e.jsx(B,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-800",children:"Sold Date"}),e.jsx("p",{className:"text-sm text-green-600",children:m(t.soldDate)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-orange-50 rounded-lg",children:[e.jsx(V,{className:"h-5 w-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-orange-800",children:"Last Software Update"}),e.jsx("p",{className:"text-sm text-orange-600",children:m(t.lastSoftwareUpdate)})]})]})]})})]}),e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs(d,{className:"text-lg flex items-center gap-2",children:[e.jsx(j,{className:"h-5 w-5"}),"Team Members Who Worked on This Vehicle"]})}),e.jsx(c,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:t.mechanicsWorked.length>0?t.mechanicsWorked.map((a,l)=>e.jsxs(y,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(j,{className:"h-3 w-3"}),a]},l)):e.jsx("p",{className:"text-gray-500",children:"No mechanics recorded"})})})]})]}),e.jsxs(g,{value:"history",className:"space-y-4",children:[e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs(d,{className:"text-lg flex items-center gap-2",children:[e.jsx(re,{className:"h-5 w-5"}),"Location History"]})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-3",children:t.locationHistory.map((a,l)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:a.location}),e.jsx("p",{className:"text-sm text-gray-600",children:a.reason})]}),e.jsx("span",{className:"text-sm text-gray-500",children:w(a.timestamp)})]})})]},l))})})]}),e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs(d,{className:"text-lg flex items-center gap-2",children:[e.jsx(V,{className:"h-5 w-5"}),"Software Update History"]})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-3",children:t.softwareUpdateHistory.length>0?t.softwareUpdateHistory.map((a,l)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx(de,{className:"h-5 w-5 text-yellow-600 mt-1"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Version ",a.version]}),e.jsx("p",{className:"text-sm text-gray-600",children:a.notes}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Updated by: ",a.updatedBy]})]}),e.jsx("span",{className:"text-sm text-gray-500",children:w(a.updateDate)})]})})]},l)):e.jsx("p",{className:"text-gray-500",children:"No software updates recorded"})})})]})]}),e.jsxs(g,{value:"repairs",className:"space-y-4",children:[e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs(d,{className:"text-lg flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5"}),"Repair History (",t.repairHistory.length,")"]})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-3",children:t.repairHistory.length>0?t.repairHistory.map((a,l)=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:a.work_type||a.issue_description}),e.jsx("p",{className:"text-sm text-gray-600",children:a.solution_description})]}),e.jsx(y,{className:"bg-blue-100 text-blue-800",children:a.status||"Completed"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(j,{className:"h-3 w-3"}),a.mechanic_assigned||"Unknown"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(f,{className:"h-3 w-3"}),m(a.repair_date)]}),a.cost&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(B,{className:"h-3 w-3"}),"$",a.cost]})]})]},l)):e.jsx("p",{className:"text-gray-500",children:"No repairs recorded"})})})]}),e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs(d,{className:"text-lg flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5"}),"Parts Changed (",t.partsChangedHistory.length,")"]})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-3",children:t.partsChangedHistory.length>0?t.partsChangedHistory.map((a,l)=>e.jsxs("div",{className:"border rounded-lg p-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:a.partName}),a.partNumber&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Part #: ",a.partNumber]}),a.supplier&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Supplier: ",a.supplier]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium",children:["Qty: ",a.quantity]}),a.cost&&e.jsxs("p",{className:"text-sm text-green-600",children:["$",a.cost]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(j,{className:"h-3 w-3"}),a.installedBy||"Unknown"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(f,{className:"h-3 w-3"}),m(a.dateInstalled)]})]})]},l)):e.jsx("p",{className:"text-gray-500",children:"No parts changes recorded"})})})]})]}),e.jsx(g,{value:"testdrives",className:"space-y-4",children:e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs(d,{className:"text-lg flex items-center gap-2",children:[e.jsx(ge,{className:"h-5 w-5"}),"Test Drive History (",t.testDriveHistory.length,")"]})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-3",children:t.testDriveHistory.length>0?t.testDriveHistory.map((a,l)=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Test Drive #",l+1]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Customer: ",a.customerName||"Unknown"]}),a.customerPhone&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",a.customerPhone]})]}),e.jsx(y,{className:"bg-green-100 text-green-800",children:a.status||"Completed"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(f,{className:"h-3 w-3"}),w(a.scheduledDate||a.timestamp)]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"h-3 w-3"}),a.duration||"30 min"]}),a.distance&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(W,{className:"h-3 w-3"}),a.distance," km"]})]}),a.notes&&e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:a.notes})]},l)):e.jsx("p",{className:"text-gray-500",children:"No test drives recorded"})})})]})}),e.jsxs(g,{value:"technical",className:"space-y-4",children:[e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs(d,{className:"text-lg flex items-center gap-2",children:[e.jsx(me,{className:"h-5 w-5"}),"Technical Specifications"]})}),e.jsx(c,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Vehicle Specs"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Category:"}),e.jsx("span",{children:t.category})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Software Version:"}),e.jsx("span",{children:t.softwareVersion||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Battery Capacity:"}),e.jsxs("span",{children:[t.batteryPercentage||0,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Range:"}),e.jsxs("span",{children:[t.range||0," km"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Warranty Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Start Date:"}),e.jsx("span",{children:m((S=t.warrantyInfo)==null?void 0:S.startDate)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"End Date:"}),e.jsx("span",{children:m((k=t.warrantyInfo)==null?void 0:k.endDate)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Days Remaining:"}),e.jsx("span",{children:((P=t.warrantyInfo)==null?void 0:P.daysRemaining)||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx(y,{className:((T=t.warrantyInfo)==null?void 0:T.status)==="active"?"bg-green-100 text-green-800":((I=t.warrantyInfo)==null?void 0:I.status)==="expiring_soon"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:((U=t.warrantyInfo)==null?void 0:U.status)||"Unknown"})]})]})]})]})})]}),t.technicalSpecs&&t.technicalSpecs.length>0&&e.jsxs(i,{children:[e.jsx(r,{children:e.jsx(d,{className:"text-lg",children:"Additional Technical Specifications"})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-3",children:t.technicalSpecs.map((a,l)=>e.jsx("div",{className:"border rounded-lg p-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:a.name}),e.jsx("p",{className:"text-sm text-gray-600",children:a.description})]}),e.jsxs("span",{className:"font-mono text-sm",children:[a.value," ",a.unit]})]})},l))})})]})]}),e.jsx(g,{value:"client",className:"space-y-4",children:e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs(d,{className:"text-lg flex items-center gap-2",children:[e.jsx(j,{className:"h-5 w-5"}),"Client Information"]})}),e.jsx(c,{children:t.clientName?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4"}),"Contact Details"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Name:"}),e.jsx("span",{className:"font-medium",children:t.clientName})]}),t.clientPhone&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Phone:"}),e.jsxs("a",{href:`tel:${t.clientPhone}`,className:"text-blue-600 hover:underline flex items-center gap-1",children:[e.jsx(oe,{className:"h-3 w-3"}),t.clientPhone]})]}),t.clientEmail&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Email:"}),e.jsxs("a",{href:`mailto:${t.clientEmail}`,className:"text-blue-600 hover:underline flex items-center gap-1",children:[e.jsx(he,{className:"h-3 w-3"}),t.clientEmail]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[e.jsx(f,{className:"h-4 w-4"}),"Important Dates"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Sale Date:"}),e.jsx("span",{children:m(t.soldDate)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Delivery Date:"}),e.jsx("span",{children:m(t.deliveryDate)})]})]})]})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(j,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No client information available"}),e.jsx("p",{className:"text-sm text-gray-400",children:"This vehicle may not be sold yet or client data hasn't been recorded"})]})})]})})]})]})]})}):e.jsx(_,{open:u,onOpenChange:D,children:e.jsxs(E,{className:"max-w-md",children:[e.jsx(R,{children:e.jsx(M,{children:"Loading Car Details..."})}),e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]})})};export{be as C};
