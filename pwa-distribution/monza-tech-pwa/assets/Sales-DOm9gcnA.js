import{R as $,aH as q,j as e,a as d,$ as O,r as o,aR as R,b as m,c as M,d as L,ag as A,f as x,aS as H,aT as u,aU as g,aV as N,aW as p,I as z,aX as y,aY as F,a5 as v,a6 as b,a7 as S,a8 as C,a9 as c,aa as T,U as P,aZ as U,aB as B,t as w,a_ as J,a$ as f,aq as _,ax as V,B as G}from"./index-CnqA2hW7.js";import{C as D}from"./index-BFmfdtnU.js";import{S as W}from"./star-Dro2NVqJ.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=$("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Y=()=>{const n=q(),i=()=>{n("/analytics",{state:{defaultTab:"sales"}})};return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-monza-black",children:"Sales Lead Sources"}),e.jsx(d,{variant:"outline",onClick:i,children:"View Analytics"})]})},Z=J({clientName:f().min(2,"Client name is required"),leadSource:f().min(2,"Lead source is required"),carModel:f().min(1,"Car model is required"),additionalNotes:f().optional()}),K=()=>{const{user:n}=O(),[i,a]=o.useState(!1),r=R({resolver:U(Z),defaultValues:{clientName:"",leadSource:"",carModel:"",additionalNotes:""}}),k=async l=>{a(!0);try{const t=B("salesLeads",[]),h={id:Date.now().toString(),clientName:l.clientName,leadSource:l.leadSource,carModel:l.carModel,additionalNotes:l.additionalNotes,timestamp:new Date().toISOString(),recordedBy:(n==null?void 0:n.name)||"Unknown"};t.push(h),localStorage.setItem("salesLeads",JSON.stringify(t)),console.log("Lead source data:",h),w({title:"Lead source recorded",description:`${l.clientName}'s lead source has been recorded and sent to analytics.`}),r.reset()}catch{w({title:"Error recording lead source",description:"There was a problem recording the lead source.",variant:"destructive"})}finally{a(!1)}};return e.jsxs(m,{className:"w-full",children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2 text-monza-black",children:[e.jsx(X,{className:"h-5 w-5 text-monza-yellow"}),"Record New Lead Source"]}),e.jsx(A,{className:"text-monza-grey",children:"Track where potential clients are learning about our vehicles and capture their feedback"})]}),e.jsx(x,{children:e.jsx(H,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(k),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(u,{control:r.control,name:"clientName",render:({field:l})=>e.jsxs(g,{children:[e.jsx(N,{className:"text-monza-black",children:"Client Name"}),e.jsx(p,{children:e.jsx(z,{id:"leadClientName",placeholder:"Enter client name",...l,className:"border-monza-grey/30 focus-visible:ring-monza-yellow"})}),e.jsx(y,{})]})}),e.jsx(u,{control:r.control,name:"leadSource",render:({field:l})=>e.jsxs(g,{children:[e.jsx(N,{className:"text-monza-black",children:"Lead Source"}),e.jsx(p,{children:e.jsx(z,{placeholder:"How did they hear about us?",...l,className:"border-monza-grey/30 focus-visible:ring-monza-yellow"})}),e.jsx(F,{className:"text-monza-grey",children:"E.g. Online Ads, Social Media, Car Show, Referral"}),e.jsx(y,{})]})})]}),e.jsx(u,{control:r.control,name:"carModel",render:({field:l})=>e.jsxs(g,{children:[e.jsx(N,{className:"text-monza-black",children:"Car Model"}),e.jsxs(v,{onValueChange:l.onChange,defaultValue:l.value,children:[e.jsx(p,{children:e.jsx(b,{className:"border-monza-grey/30 focus-visible:ring-monza-yellow",children:e.jsx(S,{placeholder:"Select a car model"})})}),e.jsx(C,{children:D.map(t=>e.jsxs(c,{value:`${t.name} ${t.year}`,children:[t.name," ",t.year]},t.id))})]}),e.jsx(y,{})]})}),e.jsx(u,{control:r.control,name:"additionalNotes",render:({field:l})=>e.jsxs(g,{children:[e.jsx(N,{className:"text-monza-black",children:"Notes & Client Feedback"}),e.jsx(p,{children:e.jsx(T,{placeholder:"Include any client comments, feedback, or additional details about this lead",className:"resize-none border-monza-grey/30 focus-visible:ring-monza-yellow",rows:4,...l})}),e.jsx(F,{className:"text-monza-grey",children:"Capture client comments, ratings, preferences, and any other relevant information"}),e.jsx(y,{})]})}),e.jsxs(d,{type:"submit",className:"w-full",disabled:i,children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Record Lead Source"]})]})})})]})},Q=()=>{const[n,i]=o.useState([]),[a,r]=o.useState({clientName:"",carModel:"",comment:"",rating:5,category:"general"}),[k,l]=o.useState(!1);o.useEffect(()=>{const s=localStorage.getItem("clientComments");s&&i(JSON.parse(s))},[]);const t=()=>{if(!a.clientName||!a.carModel||!a.comment){w({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}const j=[{id:Date.now().toString(),...a,timestamp:new Date().toISOString()},...n];i(j),localStorage.setItem("clientComments",JSON.stringify(j)),w({title:"Comment Added",description:`${a.clientName}'s comment has been recorded.`}),r({clientName:"",carModel:"",comment:"",rating:5,category:"general"}),l(!1)},h=s=>({design:"bg-purple-100 text-purple-800",performance:"bg-red-100 text-red-800",features:"bg-blue-100 text-blue-800",price:"bg-green-100 text-green-800",service:"bg-orange-100 text-orange-800",general:"bg-gray-100 text-gray-800"})[s],E=s=>Array.from({length:5},(j,I)=>e.jsx(W,{className:`h-4 w-4 ${I<s?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},I));return e.jsxs("div",{className:"space-y-4",children:[k?e.jsx(m,{children:e.jsxs(x,{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Client Name"}),e.jsx(z,{placeholder:"Enter client name",value:a.clientName,onChange:s=>r({...a,clientName:s.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Car Model"}),e.jsxs(v,{value:a.carModel,onValueChange:s=>r({...a,carModel:s}),children:[e.jsx(b,{children:e.jsx(S,{placeholder:"Select car model"})}),e.jsx(C,{children:D.map(s=>e.jsxs(c,{value:`${s.name} ${s.year}`,children:[s.name," ",s.year]},s.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Category"}),e.jsxs(v,{value:a.category,onValueChange:s=>r({...a,category:s}),children:[e.jsx(b,{children:e.jsx(S,{})}),e.jsxs(C,{children:[e.jsx(c,{value:"design",children:"Design"}),e.jsx(c,{value:"performance",children:"Performance"}),e.jsx(c,{value:"features",children:"Features"}),e.jsx(c,{value:"price",children:"Price"}),e.jsx(c,{value:"service",children:"Service"}),e.jsx(c,{value:"general",children:"General"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Rating"}),e.jsxs(v,{value:a.rating.toString(),onValueChange:s=>r({...a,rating:parseInt(s)}),children:[e.jsx(b,{children:e.jsx(S,{})}),e.jsx(C,{children:[1,2,3,4,5].map(s=>e.jsxs(c,{value:s.toString(),children:[s," Star",s>1?"s":""]},s))})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Comment"}),e.jsx(T,{placeholder:"Enter client's feedback about the car",value:a.comment,onChange:s=>r({...a,comment:s.target.value}),rows:3})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{onClick:t,className:"flex-1",children:"Save Comment"}),e.jsx(d,{variant:"outline",onClick:()=>l(!1),children:"Cancel"})]})]})}):e.jsxs(d,{onClick:()=>l(!0),className:"w-full",children:[e.jsx(_,{className:"mr-2 h-4 w-4"}),"Add Client Comment"]}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:n.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(V,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No client comments yet. Add the first one!"})]}):n.map(s=>e.jsx(m,{className:"border-l-4 border-l-monza-yellow",children:e.jsxs(x,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-monza-black",children:s.clientName}),e.jsx("p",{className:"text-sm text-monza-grey",children:s.carModel})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:h(s.category),children:s.category}),e.jsx("div",{className:"flex items-center gap-1",children:E(s.rating)})]})]}),e.jsx("p",{className:"text-gray-700 mb-2",children:s.comment}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(Clock,{className:"h-3 w-3"}),new Date(s.timestamp).toLocaleDateString()]})]})},s.id))})]})},ee=()=>e.jsxs(m,{className:"w-full",children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2 text-monza-black",children:[e.jsx(V,{className:"h-5 w-5 text-monza-yellow"}),"Client Comments"]}),e.jsx(A,{className:"text-monza-grey",children:"View and manage client feedback about our vehicles"})]}),e.jsx(x,{children:e.jsx(Q,{})})]}),se=()=>e.jsxs(m,{children:[e.jsx(M,{children:e.jsx(L,{className:"text-monza-black",children:"Why Lead Sources Matter"})}),e.jsxs(x,{className:"space-y-4 text-monza-grey",children:[e.jsx("p",{children:"Understanding where our clients first hear about Voyah and MHero helps us:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"Optimize marketing spend on channels that deliver results"}),e.jsx("li",{children:"Identify trends in customer acquisition"}),e.jsx("li",{children:"Measure the effectiveness of different marketing campaigns"}),e.jsx("li",{children:"Improve customer journey mapping"})]})]})]}),te=()=>e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx(Y,{}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(K,{}),e.jsx(ee,{})]}),e.jsx("div",{className:"mt-8",children:e.jsx(se,{})})]});export{te as default};
