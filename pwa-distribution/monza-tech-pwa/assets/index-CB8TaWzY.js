import{r as u,t as re,O as v,j as e,a as L,b3 as ve,b as m,f as x,af as A,aD as ae,A as ne,cR as O,e as $,aN as k,p as Ne,c as f,d as b,ad as F,aC as R,L as o,b0 as ye,I as fe,g as be,h as Te,i as ie,k as N,l as we,m as y,bU as T,M as De,az as Ce,D as Se,q as Ee,v as Ie,w as Me,B as w,cM as Le,C as Ae}from"./index-BKWZsjPE.js";import{c as ce}from"./constructNow-C55-yWz7.js";import{i as de,s as Oe}from"./subDays-D0Quc2dh.js";import{R as ke}from"./rotate-ccw-4VfiR85H.js";import{F as Fe}from"./filter-DmRTMl58.js";import"./addDays-DFhwiWrS.js";function H(j){return de(j,ce(j))}function le(j){return de(j,Oe(ce(j),1))}const Ye=()=>{const[j,Y]=u.useState([]),[h,oe]=u.useState([]),[U,z]=u.useState(!0),[a,me]=u.useState(null),[xe,q]=u.useState(!1),[S,J]=u.useState("all"),[E,Q]=u.useState("all"),[I,W]=u.useState("all"),[M,G]=u.useState("");u.useEffect(()=>{X();const s=setInterval(()=>{he()},3e4);return()=>clearInterval(s)},[]),u.useEffect(()=>{ue()},[j,S,E,I,M]);const X=async()=>{z(!0);try{const s=[],t=localStorage.getItem("testDriveLogs");if(t)try{const i=JSON.parse(t);console.log(`Test Drive Logs: Loaded ${i.length} logs from localStorage`),s.push(...i)}catch(i){console.error("Error parsing testDriveLogs:",i)}[{key:"carInventory",location:"Main Inventory"},{key:"showroomFloor1Cars",location:"Showroom Floor 1"},{key:"showroomFloor2Cars",location:"Showroom Floor 2"},{key:"garageCars",location:"Garage"},{key:"inventoryFloor2Cars",location:"Inventory Floor 2"}].forEach(i=>{const r=localStorage.getItem(i.key);if(r)try{JSON.parse(r).forEach(d=>{if(d.testDriveInfo&&d.testDriveInfo.isOnTestDrive){const p=_(d,d.testDriveInfo,i.location,!0);s.push(p)}d.testDriveHistory&&Array.isArray(d.testDriveHistory)&&d.testDriveHistory.forEach(p=>{const B=_(d,p,i.location,!1);s.push(B)})})}catch(l){console.error(`Error parsing ${i.key}:`,l)}}),s.sort((i,r)=>{try{const l=new Date(i.startTime),d=new Date(r.startTime);return isNaN(l.getTime())&&isNaN(d.getTime())?0:isNaN(l.getTime())?1:isNaN(d.getTime())?-1:d.getTime()-l.getTime()}catch(l){return console.error("Error sorting test drive logs:",l),0}}),console.log(`Test Drive Logs: Total ${s.length} logs loaded`),Y(s)}catch(s){console.error("Error loading test drive logs:",s),re({title:"Error",description:"Failed to load test drive history.",variant:"destructive"})}finally{z(!1)}},_=(s,t,n,i)=>{const r=c=>{if(!c||c==="Invalid Date"||c==="null"||c==="undefined")return new Date().toISOString();try{const g=new Date(c);return isNaN(g.getTime())?new Date().toISOString():g.toISOString()}catch{return new Date().toISOString()}},l=r(t.testDriveStartTime||t.startTime),d=t.testDriveEndTime||t.endTime?r(t.testDriveEndTime||t.endTime):void 0;let p,B;if(l&&d)try{const c=new Date(l),g=new Date(d);!isNaN(c.getTime())&&!isNaN(g.getTime())&&(p=Math.round((g.getTime()-c.getTime())/(1e3*60)),B=v.formatDuration(p))}catch(c){console.error("Error calculating duration:",c)}const V=t.actualDuration||t.testDriveDuration||t.duration,ee=t.expectedDuration||(t.isClientTestDrive?30:15);let D;try{const c=new Date(l);isNaN(c.getTime())?D=new Date().toISOString():D=new Date(c.getTime()+ee*6e4).toISOString()}catch{D=new Date().toISOString()}const se=new Date;let C=!1,te=0;try{const c=new Date(D);if(!isNaN(c.getTime())&&(C=i&&se>c,C)){const g=se.getTime()-c.getTime();te=Math.floor(g/6e4)}}catch(c){console.error("Error calculating overdue status:",c)}return{id:`${s.id||s.vinNumber}-${l}`,carVin:s.vinNumber||s.vin_number||"N/A",carModel:s.model||s.carModel||"Unknown",carBrand:s.brand||"Voyah",carYear:s.year,carColor:s.color,testDriveType:t.isClientTestDrive?"client":"employee",driverName:t.testDriverName||t.driverName||t.clientName||"Unknown",driverPhone:t.testDriverPhone||t.driverPhone||t.clientPhone,driverLicense:t.testDriverLicense||t.licenseNumber,employeeName:t.employeeName||t.assignedEmployee,loggedBy:t.loggedBy||t.loggedByName,startTime:l,endTime:d,expectedEndTime:D,duration:p?p.toString():V==null?void 0:V.toString(),expectedDuration:ee,status:i?C?"overdue":"active":t.status||"completed",location:n,purpose:t.purpose,notes:t.notes||t.testDriveNotes,batteryStart:t.batteryStart||s.batteryPercentage,batteryEnd:t.batteryEnd,route:t.route,createdAt:t.createdAt||t.loggedAt||l,isOverdue:C,overdueBy:C?`${te} minutes`:void 0}},he=()=>{Y(s=>s.map(t=>{if(t.status==="active"||t.status==="overdue")try{const n=new Date,i=new Date(t.expectedEndTime||t.startTime);if(!isNaN(i.getTime())&&n>i&&t.status!=="overdue"){const l=n.getTime()-i.getTime(),d=Math.floor(l/6e4);return{...t,status:"overdue",isOverdue:!0,overdueBy:`${d} minutes`}}}catch(n){console.error("Error updating test drive status:",n)}return t}))},ue=()=>{let s=[...j];if(S!=="all"&&(s=s.filter(t=>t.status===S)),E!=="all"&&(s=s.filter(t=>t.testDriveType===E)),I!=="all"){const t=new Date;s=s.filter(n=>{try{const i=new Date(n.startTime);if(isNaN(i.getTime()))return!1;switch(I){case"today":return H(i);case"yesterday":return le(i);case"week":{const r=new Date(t.getTime()-6048e5);return i>=r}case"month":{const r=new Date(t.getTime()-2592e6);return i>=r}default:return!0}}catch(i){return console.error("Error filtering by date:",i),!1}})}if(M.trim()){const t=M.toLowerCase();s=s.filter(n=>n.carVin.toLowerCase().includes(t)||n.carModel.toLowerCase().includes(t)||n.driverName.toLowerCase().includes(t)||n.location.toLowerCase().includes(t)||n.driverPhone&&n.driverPhone.toLowerCase().includes(t))}oe(s)},K=(s,t)=>{switch(s){case"active":return e.jsxs(w,{className:"bg-blue-100 text-blue-800 border-blue-300 flex items-center gap-1",children:[e.jsx(ae,{className:"h-3 w-3"}),"Active"]});case"overdue":return e.jsxs(w,{variant:"destructive",className:"flex items-center gap-1",children:[e.jsx(ne,{className:"h-3 w-3"}),"Overdue"]});case"completed":return e.jsxs(w,{className:"bg-green-100 text-green-800 border-green-300 flex items-center gap-1",children:[e.jsx(Ae,{className:"h-3 w-3"}),"Completed"]});case"cancelled":return e.jsxs(w,{variant:"destructive",className:"flex items-center gap-1",children:[e.jsx(Le,{className:"h-3 w-3"}),"Cancelled"]});default:return e.jsx(w,{variant:"outline",children:s})}},Z=s=>s==="client"?e.jsxs(w,{className:"bg-green-100 text-green-800 border-green-300 flex items-center gap-1",children:[e.jsx(F,{className:"h-3 w-3"}),"Client"]}):e.jsxs(w,{className:"bg-orange-100 text-orange-800 border-orange-300 flex items-center gap-1",children:[e.jsx(R,{className:"h-3 w-3"}),"Employee"]}),P=s=>{try{if(!s||s==="Invalid Date"||s==="null"||s==="undefined")return"Invalid Date";const t=O(s);return isNaN(t.getTime())?"Invalid Date":H(t)?`Today ${T(t,"h:mm a")}`:le(t)?`Yesterday ${T(t,"h:mm a")}`:T(t,"MMM d, yyyy h:mm a")}catch(t){return console.error("Error formatting date:",s,t),"Invalid Date"}},je=()=>{const s=[["Date","Time","Car VIN","Model","Type","Driver","Phone","Duration","Status","Location","Purpose"].join(","),...h.map(r=>{try{const l=O(r.startTime);return isNaN(l.getTime())?["Invalid Date","Invalid Time",r.carVin,r.carModel,r.testDriveType,r.driverName,r.driverPhone||"",r.duration||"",r.status,r.location,r.purpose||""].join(","):[T(l,"yyyy-MM-dd"),T(l,"HH:mm"),r.carVin,r.carModel,r.testDriveType,r.driverName,r.driverPhone||"",r.duration||"",r.status,r.location,r.purpose||""].join(",")}catch(l){return console.error("Error formatting log for export:",l),["Invalid Date","Invalid Time",r.carVin,r.carModel,r.testDriveType,r.driverName,r.driverPhone||"",r.duration||"",r.status,r.location,r.purpose||""].join(",")}})].join(`
`),t=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a"),i=URL.createObjectURL(t);n.setAttribute("href",i),n.setAttribute("download",`test-drive-logs-${T(new Date,"yyyy-MM-dd")}.csv`),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n),re({title:"Export Complete",description:`Exported ${h.length} test drive records.`})},pe=h.filter(s=>s.status==="active"||s.status==="overdue"),ge=h.filter(s=>s.status==="overdue");return e.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Test Drive History"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Complete history of all test drives across the system"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(L,{variant:"outline",onClick:X,disabled:U,children:[e.jsx(ke,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(L,{onClick:je,children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(m,{children:e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Test Drives"}),e.jsx("p",{className:"text-2xl font-bold",children:h.length})]}),e.jsx(A,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(m,{children:e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Now"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:pe.length})]}),e.jsx(ae,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(m,{children:e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:ge.length})]}),e.jsx(ne,{className:"h-8 w-8 text-red-600"})]})})}),e.jsx(m,{children:e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:h.filter(s=>{try{const t=O(s.startTime);return!isNaN(t.getTime())&&H(t)}catch{return!1}}).length})]}),e.jsx($,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(m,{children:e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Duration"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(()=>{const s=h.filter(n=>n.duration&&n.status==="completed");if(s.length===0)return"N/A";const t=Math.round(s.reduce((n,i)=>n+k(i.duration,0),0)/s.length);return v.formatDuration(t)})()})]}),e.jsx(Ne,{className:"h-8 w-8 text-purple-600"})]})})})]}),e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"Duration Statistics"]})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-green-800 flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4"}),"Client Test Drives"]}),(()=>{const s=h.filter(r=>r.testDriveType==="client"),t=s.filter(r=>r.duration&&r.status==="completed"),n=t.reduce((r,l)=>r+k(l.duration,0),0),i=t.length>0?Math.round(n/t.length):0;return e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-gray-600",children:"Total Count"}),e.jsx("p",{className:"text-xl font-semibold text-green-800",children:s.length})]}),e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-gray-600",children:"Completed"}),e.jsx("p",{className:"text-xl font-semibold text-green-800",children:t.length})]}),e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-gray-600",children:"Avg Duration"}),e.jsx("p",{className:"text-xl font-semibold text-green-800",children:i>0?v.formatDuration(i):"N/A"})]}),e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-gray-600",children:"Total Time"}),e.jsx("p",{className:"text-xl font-semibold text-green-800",children:n>0?v.formatDuration(n):"N/A"})]})]})})()]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-orange-800 flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4"}),"Employee Test Drives"]}),(()=>{const s=h.filter(r=>r.testDriveType==="employee"),t=s.filter(r=>r.duration&&r.status==="completed"),n=t.reduce((r,l)=>r+k(l.duration,0),0),i=t.length>0?Math.round(n/t.length):0;return e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-gray-600",children:"Total Count"}),e.jsx("p",{className:"text-xl font-semibold text-orange-800",children:s.length})]}),e.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-gray-600",children:"Completed"}),e.jsx("p",{className:"text-xl font-semibold text-orange-800",children:t.length})]}),e.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-gray-600",children:"Avg Duration"}),e.jsx("p",{className:"text-xl font-semibold text-orange-800",children:i>0?v.formatDuration(i):"N/A"})]}),e.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-gray-600",children:"Total Time"}),e.jsx("p",{className:"text-xl font-semibold text-orange-800",children:n>0?v.formatDuration(n):"N/A"})]})]})})()]})]})})]}),e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"h-5 w-5"}),"Filters"]})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"search",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(ye,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(fe,{id:"search",placeholder:"Search VIN, model, driver...",value:M,onChange:s=>G(s.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"status",children:"Status"}),e.jsxs("select",{id:"status",value:S,onChange:s=>J(s.target.value),className:"h-9 w-full px-3 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 relative z-10",style:{appearance:"auto"},children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"overdue",children:"Overdue"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"type",children:"Type"}),e.jsxs("select",{id:"type",value:E,onChange:s=>Q(s.target.value),className:"h-9 w-full px-3 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 relative z-10",style:{appearance:"auto"},children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"client",children:"Client"}),e.jsx("option",{value:"employee",children:"Employee"})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"date",children:"Date Range"}),e.jsxs("select",{id:"date",value:I,onChange:s=>W(s.target.value),className:"h-9 w-full px-3 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 relative z-10",style:{appearance:"auto"},children:[e.jsx("option",{value:"all",children:"All Dates"}),e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"yesterday",children:"Yesterday"}),e.jsx("option",{value:"week",children:"Past Week"}),e.jsx("option",{value:"month",children:"Past Month"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(L,{variant:"outline",onClick:()=>{J("all"),Q("all"),W("all"),G("")},className:"w-full",children:"Clear Filters"})})]})})]}),e.jsxs(m,{children:[e.jsx(f,{children:e.jsx(b,{children:"Test Drive Records"})}),e.jsx(x,{children:U?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"Loading test drive history..."})]})}):h.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx($,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"No test drive records found"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your filters or check back later"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(be,{children:[e.jsx(Te,{children:e.jsxs(ie,{children:[e.jsx(N,{children:"Vehicle"}),e.jsx(N,{children:"Driver"}),e.jsx(N,{children:"Type"}),e.jsx(N,{children:"Start Time"}),e.jsx(N,{children:"Duration"}),e.jsx(N,{children:"Status"}),e.jsx(N,{children:"Location"}),e.jsx(N,{children:"Actions"})]})}),e.jsx(we,{children:h.map(s=>e.jsxs(ie,{className:"hover:bg-gray-50",children:[e.jsx(y,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.carModel}),e.jsx("p",{className:"text-sm text-gray-600 font-mono",children:s.carVin})]})}),e.jsx(y,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.driverName}),s.driverPhone&&e.jsx("p",{className:"text-sm text-gray-600",children:s.driverPhone})]})}),e.jsx(y,{children:Z(s.testDriveType)}),e.jsx(y,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:P(s.startTime)}),s.endTime&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Ended: ",(()=>{try{const t=O(s.endTime);return isNaN(t.getTime())?"Invalid Time":T(t,"h:mm a")}catch{return"Invalid Time"}})()]}),s.isOverdue&&e.jsxs("p",{className:"text-sm text-red-600 font-medium",children:["Overdue by ",s.overdueBy]})]})}),e.jsx(y,{children:e.jsx("div",{children:s.duration?e.jsxs("div",{children:[e.jsx("span",{className:"font-mono text-sm font-medium text-green-600",children:v.formatDuration(k(s.duration,0))}),e.jsx("p",{className:"text-xs text-gray-500",children:"Actual duration"})]}):e.jsxs("div",{children:[e.jsx("span",{className:"font-mono text-sm text-gray-600",children:v.formatDuration(s.expectedDuration||30)}),e.jsx("p",{className:"text-xs text-gray-500",children:s.status==="active"||s.status==="overdue"?"Expected":"Estimated"})]})})}),e.jsx(y,{children:K(s.status,s.isOverdue)}),e.jsx(y,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(De,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-sm",children:s.location})]})}),e.jsx(y,{children:e.jsx(L,{size:"sm",variant:"outline",onClick:()=>{me(s),q(!0)},children:e.jsx(Ce,{className:"h-4 w-4"})})})]},s.id))})]})})})]}),e.jsx(Se,{open:xe,onOpenChange:q,children:e.jsxs(Ee,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[e.jsx(Ie,{children:e.jsxs(Me,{className:"flex items-center gap-2",children:[(a==null?void 0:a.testDriveType)==="client"?e.jsx(F,{className:"h-5 w-5 text-green-600"}):e.jsx(R,{className:"h-5 w-5 text-orange-600"}),"Test Drive Details"]})}),a&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{className:`border-2 ${a.status==="overdue"?"border-red-300 bg-red-50":a.status==="active"?"border-blue-300 bg-blue-50":a.status==="completed"?"border-green-300 bg-green-50":"border-gray-300 bg-gray-50"}`,children:e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[K(a.status,a.isOverdue),Z(a.testDriveType)]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Started: ",P(a.startTime)]}),a.endTime&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Ended: ",P(a.endTime)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold",children:a.carModel}),e.jsx("p",{className:"text-sm font-mono text-gray-600",children:a.carVin})]})]})})}),e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),"Driver Information"]})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{className:"text-sm text-gray-600",children:"Name"}),e.jsx("p",{className:"font-medium",children:a.driverName})]}),a.driverPhone&&e.jsxs("div",{children:[e.jsx(o,{className:"text-sm text-gray-600",children:"Phone"}),e.jsx("p",{className:"font-medium",children:a.driverPhone})]}),a.driverLicense&&e.jsxs("div",{children:[e.jsx(o,{className:"text-sm text-gray-600",children:"License"}),e.jsx("p",{className:"font-medium font-mono",children:a.driverLicense})]}),a.employeeName&&e.jsxs("div",{children:[e.jsx(o,{className:"text-sm text-gray-600",children:"Employee"}),e.jsx("p",{className:"font-medium",children:a.employeeName})]})]})})]}),e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5"}),"Vehicle Information"]})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{className:"text-sm text-gray-600",children:"Model"}),e.jsxs("p",{className:"font-medium",children:[a.carBrand," ",a.carModel]})]}),e.jsxs("div",{children:[e.jsx(o,{className:"text-sm text-gray-600",children:"VIN"}),e.jsx("p",{className:"font-medium font-mono",children:a.carVin})]}),a.carYear&&e.jsxs("div",{children:[e.jsx(o,{className:"text-sm text-gray-600",children:"Year"}),e.jsx("p",{className:"font-medium",children:a.carYear})]}),a.carColor&&e.jsxs("div",{children:[e.jsx(o,{className:"text-sm text-gray-600",children:"Color"}),e.jsx("p",{className:"font-medium",children:a.carColor})]})]})})]}),(a.purpose||a.notes||a.route)&&e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"Test Drive Details"]})}),e.jsxs(x,{className:"space-y-4",children:[a.purpose&&e.jsxs("div",{children:[e.jsx(o,{className:"text-sm text-gray-600",children:"Purpose"}),e.jsx("p",{className:"mt-1 p-3 bg-gray-50 rounded-lg",children:a.purpose})]}),a.route&&e.jsxs("div",{children:[e.jsx(o,{className:"text-sm text-gray-600",children:"Route"}),e.jsx("p",{className:"mt-1 p-3 bg-gray-50 rounded-lg",children:a.route})]}),a.notes&&e.jsxs("div",{children:[e.jsx(o,{className:"text-sm text-gray-600",children:"Notes"}),e.jsx("p",{className:"mt-1 p-3 bg-gray-50 rounded-lg",children:a.notes})]})]})]}),(a.batteryStart||a.batteryEnd)&&e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"Battery Information"]})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.batteryStart&&e.jsxs("div",{children:[e.jsx(o,{className:"text-sm text-gray-600",children:"Start Battery"}),e.jsxs("p",{className:"font-medium",children:[a.batteryStart,"%"]})]}),a.batteryEnd&&e.jsxs("div",{children:[e.jsx(o,{className:"text-sm text-gray-600",children:"End Battery"}),e.jsxs("p",{className:"font-medium",children:[a.batteryEnd,"%"]})]})]})})]})]})]})})]})};export{Ye as default};
