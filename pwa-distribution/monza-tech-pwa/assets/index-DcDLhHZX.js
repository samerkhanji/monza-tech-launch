import{r as t,ao as S,j as e,D as k,q as L,v as F,w as G,aF as N,aG as P,p as V,a as o,ac as B,Q as O,b0 as z,I as R,b as p,f as v,e as A,c as H,d as _,B as f,C,a1 as y,X as q,M as Q}from"./index-CnqA2hW7.js";import{S as W}from"./square-pen-BxxLPU8h.js";const $=({isOpen:d,onClose:n,car:a,onMoveCar:m})=>{const[h,x]=t.useState(""),[g,i]=t.useState("");S();const r=[{id:"floor1",label:"Showroom Floor 1",description:"Move to main showroom floor 1",icon:N},{id:"floor2",label:"Showroom Floor 2",description:"Move to luxury showroom floor 2",icon:N},{id:"inventory",label:"Car Inventory",description:"Move to main car inventory storage",icon:P},{id:"garage-schedule",label:"Garage Schedule",description:"Add to garage schedule for service/repair",icon:V}];return e.jsx(k,{open:d,onOpenChange:n,children:e.jsxs(L,{className:"sm:max-w-[400px]",children:[e.jsx(F,{children:e.jsxs(G,{children:["Move Car - ",a==null?void 0:a.model]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"VIN:"})," ",a==null?void 0:a.vinNumber]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Model:"})," ",a==null?void 0:a.model]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Color:"})," ",a==null?void 0:a.color]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Select destination:"}),r.map(l=>e.jsx(o,{variant:"outline",className:"w-full justify-start",onClick:()=>m(l.id),children:l.label},l.id))]})]}),e.jsx(B,{children:e.jsx(o,{variant:"outline",onClick:n,children:"Cancel"})})]})})},Y=()=>{const[d,n]=t.useState([]),[a,m]=t.useState(""),[h,x]=t.useState(!0),[g,i]=t.useState(!1),[r,l]=t.useState(null),[X,w]=t.useState(!1),[J,b]=t.useState(null),{toast:D}=S();t.useEffect(()=>{(async()=>{try{x(!0),localStorage.removeItem("garageCars"),localStorage.removeItem("garageInventory"),localStorage.removeItem("garageSchedule"),localStorage.removeItem("garageSchedules"),localStorage.removeItem("inventoryGarage");const c={id:"test-garage-car-1",vinNumber:"TESTVIN12345678901",model:"Voyah FREE",year:2024,color:"White",brand:"Voyah",category:"EV",status:"available",arrivalDate:new Date().toISOString(),batteryPercentage:85,sellingPrice:65e3,customs:"paid",customsAmount:5500,shipmentCode:"TEST-001",garageEntryDate:new Date().toISOString(),garageLocation:"Bay 2",garageStatus:"stored",garageNotes:"Test car for demonstrating move functionality",pdiCompleted:!0,pdiDate:new Date().toISOString(),pdiTechnician:"Tech-001",notes:"Test car",manufacturingDate:"2024-01-15",rangeExtenderNumber:"RE-001",highVoltageBatteryNumber:"HV-001",frontMotorNumber:"FM-001",rearMotorNumber:"RM-001"};n([c]),console.log("Garage Cars: Added test car for move functionality demo")}catch(c){console.error("Error loading garage cars:",c),n([])}finally{x(!1)}})()},[]);const u=d.filter(s=>s.vinNumber.toLowerCase().includes(a.toLowerCase())||s.model.toLowerCase().includes(a.toLowerCase())||s.brand.toLowerCase().includes(a.toLowerCase())),j=s=>{b(s),w(!0)},M=s=>{l(s),i(!0)},I=(s,c)=>{r&&(n(T=>T.filter(E=>E.id!==r.id)),D({title:"Car Moved Successfully",description:`${r.model} has been moved to ${s}.`}),i(!1),l(null))};return h?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg",children:"Loading garage inventory..."})}):e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Garage Car Inventory"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage cars currently in garage"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(o,{variant:"outline",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Scan VIN"]})})]}),e.jsx("div",{className:"flex gap-4 mb-6",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(R,{placeholder:"Search by VIN, model, or brand...",value:a,onChange:s=>m(s.target.value),className:"pl-10"})]})}),u.length===0?e.jsx(p,{children:e.jsxs(v,{className:"flex flex-col items-center justify-center py-16",children:[e.jsx(A,{className:"h-16 w-16 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Cars in Garage"}),e.jsx("p",{className:"text-muted-foreground text-center max-w-md",children:a?"No cars found matching your search criteria.":"There are currently no cars in the garage inventory. Cars will appear here when moved to garage."})]})}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:u.map(s=>e.jsxs(p,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(H,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:s.model}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.brand," â€¢ ",s.year]})]}),e.jsx(f,{variant:s.garageStatus==="ready_for_pickup"?"default":"secondary",children:s.garageStatus.replace("_"," ")})]})}),e.jsxs(v,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"VIN:"}),e.jsx("p",{className:"text-muted-foreground font-mono text-xs",children:s.vinNumber})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Location:"}),e.jsx("p",{className:"text-muted-foreground",children:s.garageLocation})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Battery:"}),e.jsxs("p",{className:"text-muted-foreground",children:[s.batteryPercentage,"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"PDI:"}),e.jsxs("div",{className:"flex items-center gap-1",children:[s.pdiCompleted?e.jsx(C,{className:"h-3 w-3 text-green-500"}):e.jsx(y,{className:"h-3 w-3 text-orange-500"}),e.jsx("span",{className:"text-xs",children:s.pdiCompleted?"Complete":"Pending"})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"font-medium",children:"Customs:"}),e.jsx("div",{className:"inline-flex items-center ml-2",children:e.jsx(f,{variant:s.customs==="paid"?"default":"destructive",className:"cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>j(s),title:"Click to manage customs",children:s.customs==="paid"?e.jsxs(e.Fragment,{children:[" ",e.jsx(C,{className:"h-3 w-3 mr-1"})," paid"]}):e.jsxs(e.Fragment,{children:[" ",e.jsx(q,{className:"h-3 w-3 mr-1"})," ",s.customs||"not paid"]})})})]})]}),s.garageNotes&&e.jsxs("div",{className:"pt-2 border-t",children:[e.jsx("span",{className:"font-medium text-sm",children:"Notes:"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.garageNotes})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(o,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(W,{className:"h-3 w-3 mr-1"}),"Edit"]}),e.jsxs(o,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(y,{className:"h-3 w-3 mr-1"}),"PDI"]}),e.jsx(o,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>j(s),children:"Customs"}),e.jsxs(o,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>M(s),children:[e.jsx(Q,{className:"h-3 w-3 mr-1"}),"Move"]})]})]})]},s.id))}),g&&r&&e.jsx($,{isOpen:g,onClose:()=>{i(!1),l(null)},car:r,onMoveCar:I})]})};export{Y as default};
