import{$ as u,r,j as e,a3 as d,L as f,b0 as y,I as w,b as o,f as x,c as b,d as v,ag as C,av as L,aw as E}from"./index-CnqA2hW7.js";import{u as S}from"./userAPI-CigpI5nX.js";const I=()=>{const{user:l}=u(),[h,j]=r.useState([]),[a,N]=r.useState(""),[p,c]=r.useState(!0);r.useEffect(()=>{g()},[]);const g=async()=>{try{c(!0);const s=await S.getAll();j(s)}catch(s){console.error("Failed to load employees:",s)}finally{c(!1)}},n=h.filter(s=>{var t,i,m;return((t=s.name)==null?void 0:t.toLowerCase().includes(a.toLowerCase()))||((i=s.email)==null?void 0:i.toLowerCase().includes(a.toLowerCase()))||((m=s.department)==null?void 0:m.toLowerCase().includes(a.toLowerCase()))});return(l==null?void 0:l.role)!=="owner"?e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600",children:"Only owners can access employee management."})]})}):p?e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"text-center",children:"Loading employees..."})}):e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(d,{className:"h-6 w-6"}),"Employee Management"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage employee profiles and contact information"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx(f,{htmlFor:"search",children:"Search Employees"}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx(y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(w,{id:"search",type:"text",placeholder:"Search by name, email, or department...",value:a,onChange:s=>N(s.target.value),className:"pl-10"})]})]}),n.length===0?e.jsx(o,{children:e.jsxs(x,{className:"p-6 text-center",children:[e.jsx(d,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:a?"No employees found matching your search.":"No employee profiles found."})]})}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(s=>{var t;return e.jsxs(o,{className:"hover:shadow-md transition-shadow",children:[e.jsxs(b,{children:[e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-white",children:((t=s.name)==null?void 0:t.charAt(0))||"U"})}),s.name]}),e.jsxs(C,{className:"capitalize",children:[s.role," ",s.department&&s.role!=="owner"&&`â€¢ ${s.department}`]})]}),e.jsxs(x,{className:"space-y-3",children:[s.email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(L,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:s.email})]}),s.phoneNumber&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(E,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:s.phoneNumber})]}),s.notes&&e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Notes"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.notes})]})]})]},s.id)})})]})};export{I as default};
