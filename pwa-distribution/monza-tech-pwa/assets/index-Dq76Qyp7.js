import{R as pe,r as x,j as e,D as le,q as te,v as ne,w as oe,L as o,I as m,aN as xe,ac as ie,a as v,am as k,Y as je,Z as ve,_ as K,aA as J,b as T,c as A,d as M,aG as G,f as D,a5 as X,a6 as ee,a7 as ae,a8 as se,a9 as I,ak as ye,a1 as Ne,cT as be,aq as ge,B as S,bN as fe,bE as we,aa as he,ay as Se,t as C,b3 as Ce,aK as Fe,b0 as Te,g as De,h as Ee,i as re,k as w,l as Ae,m as f,ae as ue}from"./index-CnqA2hW7.js";import{R as Me}from"./realExcelService-CfbNZL7e.js";import{S as Ie}from"./square-pen-BxxLPU8h.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=pe("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=pe("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),qe=({isOpen:F,onClose:g,onAddAccessory:i})=>{const[d,c]=x.useState({carModel:"Voyah Dream",partName:"",partNumber:"",quantity:1,shelf:"",column:"",row:"",room:"",floor:"Floor 1",supplier:"DF",vehicleType:"EV"}),N=l=>{l.preventDefault();const t={carModel:d.carModel,partName:d.partName,partNumber:d.partNumber,quantity:d.quantity,location:{shelf:d.shelf,column:d.column,row:d.row,room:d.room,floor:d.floor},supplier:d.supplier,vehicleType:d.vehicleType,vin:"",pdiStatus:"pending"};i(t),c({carModel:"Voyah Dream",partName:"",partNumber:"",quantity:1,shelf:"",column:"",row:"",room:"",floor:"Floor 1",supplier:"DF",vehicleType:"EV"}),g()},r=(l,t)=>{c(y=>({...y,[l]:t}))},p={"Floor 1":["Display Storage","Customer Area","Waiting Room Storage"],"Floor 2":["Premium Display","Executive Storage","VIP Lounge Storage"],Garage:["Tool Storage","Accessories Room","Parts Storage"]},h=["Voyah Dream","Voyah Free","Voyah Passion","Voyah Free 318","Mhero"];return e.jsx(le,{open:F,onOpenChange:g,children:e.jsxs(te,{className:"max-w-2xl",children:[e.jsx(ne,{children:e.jsx(oe,{children:"Add New Showroom Accessory"})}),e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"carModel",children:"Car Model"}),e.jsx("select",{id:"carModel",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2",value:d.carModel,onChange:l=>r("carModel",l.target.value),required:!0,children:h.map(l=>e.jsx("option",{value:l,children:l},l))})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"vehicleType",children:"Vehicle Type"}),e.jsxs("select",{id:"vehicleType",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2",value:d.vehicleType,onChange:l=>r("vehicleType",l.target.value),required:!0,children:[e.jsx("option",{value:"EV",children:"Electric Vehicle (EV)"}),e.jsx("option",{value:"Hybrid",children:"Hybrid"}),e.jsx("option",{value:"ICE",children:"Internal Combustion (ICE)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"partName",children:"Accessory Name"}),e.jsx(m,{id:"partName",value:d.partName,onChange:l=>r("partName",l.target.value),placeholder:"e.g., Floor Mats Premium",required:!0})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"partNumber",children:"Part Number"}),e.jsx(m,{id:"partNumber",value:d.partNumber,onChange:l=>r("partNumber",l.target.value),placeholder:"e.g., TM3-FM-001",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"quantity",children:"Quantity"}),e.jsx(m,{id:"quantity",type:"number",min:"1",value:d.quantity,onChange:l=>r("quantity",xe(l.target.value,0)),required:!0})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"supplier",children:"Supplier"}),e.jsxs("select",{id:"supplier",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2",value:d.supplier,onChange:l=>r("supplier",l.target.value),required:!0,children:[e.jsx("option",{value:"DF",children:"Dong Feng (DF)"}),e.jsx("option",{value:"AZ",children:"AutoZone (AZ)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"floor",children:"Floor"}),e.jsxs("select",{id:"floor",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2",value:d.floor,onChange:l=>r("floor",l.target.value),required:!0,children:[e.jsx("option",{value:"Floor 1",children:"Floor 1"}),e.jsx("option",{value:"Floor 2",children:"Floor 2"}),e.jsx("option",{value:"Garage",children:"Garage"})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"room",children:"Room"}),e.jsxs("select",{id:"room",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2",value:d.room,onChange:l=>r("room",l.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Room"}),p[d.floor].map(l=>e.jsx("option",{value:l,children:l},l))]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"shelf",children:"Shelf"}),e.jsx(m,{id:"shelf",value:d.shelf,onChange:l=>r("shelf",l.target.value),placeholder:"e.g., A1",required:!0})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"column",children:"Column"}),e.jsx(m,{id:"column",value:d.column,onChange:l=>r("column",l.target.value),placeholder:"e.g., 1",required:!0})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"row",children:"Row"}),e.jsx(m,{id:"row",value:d.row,onChange:l=>r("row",l.target.value),placeholder:"e.g., 3",required:!0})]})]}),e.jsxs(ie,{children:[e.jsx(v,{type:"button",variant:"outline",onClick:g,children:"Cancel"}),e.jsx(v,{type:"submit",children:"Add Accessory"})]})]})]})})},ke=({isOpen:F,onClose:g,item:i,onSave:d})=>{const[c,N]=x.useState({carModel:"",partName:"",partNumber:"",quantity:1,shelf:"",column:"",row:"",room:"",floor:"Floor 1",supplier:"DF",vehicleType:"EV"});x.useEffect(()=>{i&&N({carModel:i.carModel,partName:i.partName,partNumber:i.partNumber,quantity:i.quantity,shelf:i.location.shelf,column:i.location.column,row:i.location.row,room:i.location.room||"",floor:i.location.floor,supplier:i.supplier||"DF",vehicleType:i.vehicleType||"EV"})},[i]);const r=t=>{t.preventDefault();const y={carModel:c.carModel,partName:c.partName,partNumber:c.partNumber,quantity:c.quantity,location:{shelf:c.shelf,column:c.column,row:c.row,room:c.room,floor:c.floor},supplier:c.supplier,vehicleType:c.vehicleType};d(y),g()},p=(t,y)=>{N(E=>({...E,[t]:y}))},h={"Floor 1":["Display Storage","Customer Area","Waiting Room Storage"],"Floor 2":["Premium Display","Executive Storage","VIP Lounge Storage"],Garage:["Tool Storage","Accessories Room","Parts Storage"]},l=["Voyah Dream","Voyah Free","Voyah Passion","Voyah Free 318","Mhero"];return i?e.jsx(le,{open:F,onOpenChange:g,children:e.jsxs(te,{className:"max-w-2xl",children:[e.jsx(ne,{children:e.jsx(oe,{children:"Edit Accessory"})}),e.jsxs("form",{onSubmit:r,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"carModel",children:"Car Model"}),e.jsx("select",{id:"carModel",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2",value:c.carModel,onChange:t=>p("carModel",t.target.value),required:!0,children:l.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"vehicleType",children:"Vehicle Type"}),e.jsxs("select",{id:"vehicleType",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2",value:c.vehicleType,onChange:t=>p("vehicleType",t.target.value),required:!0,children:[e.jsx("option",{value:"EV",children:"Electric Vehicle (EV)"}),e.jsx("option",{value:"Hybrid",children:"Hybrid"}),e.jsx("option",{value:"ICE",children:"Internal Combustion (ICE)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"partName",children:"Accessory Name"}),e.jsx(m,{id:"partName",value:c.partName,onChange:t=>p("partName",t.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"partNumber",children:"Part Number"}),e.jsx(m,{id:"partNumber",value:c.partNumber,onChange:t=>p("partNumber",t.target.value),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"quantity",children:"Quantity"}),e.jsx(m,{id:"quantity",type:"number",min:"1",value:c.quantity,onChange:t=>p("quantity",xe(t.target.value,0)),required:!0})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"supplier",children:"Supplier"}),e.jsxs("select",{id:"supplier",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2",value:c.supplier,onChange:t=>p("supplier",t.target.value),required:!0,children:[e.jsx("option",{value:"DF",children:"Dong Feng (DF)"}),e.jsx("option",{value:"AZ",children:"AutoZone (AZ)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"floor",children:"Floor"}),e.jsxs("select",{id:"floor",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2",value:c.floor,onChange:t=>p("floor",t.target.value),required:!0,children:[e.jsx("option",{value:"Floor 1",children:"Floor 1"}),e.jsx("option",{value:"Floor 2",children:"Floor 2"}),e.jsx("option",{value:"Garage",children:"Garage"})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"room",children:"Room"}),e.jsxs("select",{id:"room",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2",value:c.room,onChange:t=>p("room",t.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Room"}),h[c.floor].map(t=>e.jsx("option",{value:t,children:t},t))]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"shelf",children:"Shelf"}),e.jsx(m,{id:"shelf",value:c.shelf,onChange:t=>p("shelf",t.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"column",children:"Column"}),e.jsx(m,{id:"column",value:c.column,onChange:t=>p("column",t.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"row",children:"Row"}),e.jsx(m,{id:"row",value:c.row,onChange:t=>p("row",t.target.value),required:!0})]})]}),e.jsxs(ie,{children:[e.jsx(v,{type:"button",variant:"outline",onClick:g,children:"Cancel"}),e.jsx(v,{type:"submit",children:"Save Changes"})]})]})]})}):null},Pe=({isOpen:F,onClose:g,item:i,onSave:d})=>{var R,O,H,B,Z,$,z,W;const[c,N]=x.useState(i.technicalSpecs||[]),[r,p]=x.useState({weight:i.weight||"",material:i.material||"",color:i.color||"",dimensions:{length:((R=i.dimensions)==null?void 0:R.length)||"",width:((O=i.dimensions)==null?void 0:O.width)||"",height:((H=i.dimensions)==null?void 0:H.height)||"",unit:((B=i.dimensions)==null?void 0:B.unit)||"mm"},warranty:{duration:((Z=i.warranty)==null?void 0:Z.duration)||"",unit:(($=i.warranty)==null?void 0:$.unit)||"months",terms:((z=i.warranty)==null?void 0:z.terms)||""},compatibleModels:((W=i.compatibleModels)==null?void 0:W.join(", "))||"",installationNotes:i.installationNotes||"",safetyInstructions:i.safetyInstructions||""}),[h,l]=x.useState({name:"",value:"",unit:"",category:"other",description:""}),[t,y]=x.useState(null),E=[{value:"dimensions",label:"Dimensions",icon:me},{value:"electrical",label:"Electrical",icon:ye},{value:"mechanical",label:"Mechanical",icon:Ne},{value:"material",label:"Material",icon:G},{value:"performance",label:"Performance",icon:be},{value:"environmental",label:"Environmental",icon:Ve},{value:"other",label:"Other",icon:k}],Q=s=>{const a=E.find(n=>n.value===s),u=(a==null?void 0:a.icon)||k;return e.jsx(u,{className:"h-4 w-4"})},P=()=>{if(!h.name||!h.value)return;const s={id:Date.now().toString(),name:h.name,value:h.value,unit:h.unit,category:h.category,description:h.description};N([...c,s]),l({name:"",value:"",unit:"",category:"other",description:""})},L=s=>{const a=c.find(u=>u.id===s);a&&(l(a),y(s))},_=()=>{if(!h.name||!h.value||!t)return;const s=c.map(a=>a.id===t?{...a,name:h.name,value:h.value,unit:h.unit||"",category:h.category,description:h.description||""}:a);N(s),l({name:"",value:"",unit:"",category:"other",description:""}),y(null)},Y=s=>{N(c.filter(a=>a.id!==s))},U=()=>{const s={technicalSpecs:c,weight:r.weight?Number(r.weight):void 0,material:r.material||void 0,color:r.color||void 0,dimensions:{length:r.dimensions.length?Number(r.dimensions.length):void 0,width:r.dimensions.width?Number(r.dimensions.width):void 0,height:r.dimensions.height?Number(r.dimensions.height):void 0,unit:r.dimensions.unit},warranty:r.warranty.duration?{duration:Number(r.warranty.duration),unit:r.warranty.unit,terms:r.warranty.terms||void 0}:void 0,compatibleModels:r.compatibleModels?r.compatibleModels.split(",").map(a=>a.trim()).filter(Boolean):void 0,installationNotes:r.installationNotes||void 0,safetyInstructions:r.safetyInstructions||void 0};d(i.id,s),g()},j=(s,a)=>{if(s.includes(".")){const[u,n]=s.split(".");p(b=>({...b,[u]:{...b[u],[n]:a}}))}else p(u=>({...u,[s]:a}))},V=c.reduce((s,a)=>(s[a.category]||(s[a.category]=[]),s[a.category].push(a),s),{});return e.jsx(le,{open:F,onOpenChange:g,children:e.jsxs(te,{className:"sm:max-w-[900px] max-h-[90vh] overflow-y-auto",children:[e.jsx(ne,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),"Technical Specifications - ",i.partName]})}),e.jsxs(je,{defaultValue:"basic",className:"w-full",children:[e.jsxs(ve,{className:"grid w-full grid-cols-3",children:[e.jsx(K,{value:"basic",children:"Basic Info"}),e.jsx(K,{value:"specs",children:"Technical Specs"}),e.jsx(K,{value:"notes",children:"Installation & Safety"})]}),e.jsx(J,{value:"basic",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(T,{children:[e.jsx(A,{children:e.jsxs(M,{className:"text-lg flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4"}),"Physical Properties"]})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"weight",children:"Weight"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{id:"weight",type:"number",step:"0.01",value:r.weight,onChange:s=>j("weight",s.target.value),placeholder:"0.00",className:"flex-1"}),e.jsx("span",{className:"flex items-center px-3 text-sm text-muted-foreground",children:"kg"})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"material",children:"Material"}),e.jsx(m,{id:"material",value:r.material,onChange:s=>j("material",s.target.value),placeholder:"e.g., Aluminum, Steel, Plastic"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"color",children:"Color"}),e.jsx(m,{id:"color",value:r.color,onChange:s=>j("color",s.target.value),placeholder:"e.g., Black, Silver, Red"})]})]})]}),e.jsxs(T,{children:[e.jsx(A,{children:e.jsxs(M,{className:"text-lg flex items-center gap-2",children:[e.jsx(me,{className:"h-4 w-4"}),"Dimensions"]})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{children:"Unit"}),e.jsxs(X,{value:r.dimensions.unit,onValueChange:s=>j("dimensions.unit",s),children:[e.jsx(ee,{children:e.jsx(ae,{})}),e.jsxs(se,{children:[e.jsx(I,{value:"mm",children:"Millimeters (mm)"}),e.jsx(I,{value:"cm",children:"Centimeters (cm)"}),e.jsx(I,{value:"in",children:"Inches (in)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"length",children:"Length"}),e.jsx(m,{id:"length",type:"number",step:"0.1",value:r.dimensions.length,onChange:s=>j("dimensions.length",s.target.value),placeholder:"0.0"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"width",children:"Width"}),e.jsx(m,{id:"width",type:"number",step:"0.1",value:r.dimensions.width,onChange:s=>j("dimensions.width",s.target.value),placeholder:"0.0"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"height",children:"Height"}),e.jsx(m,{id:"height",type:"number",step:"0.1",value:r.dimensions.height,onChange:s=>j("dimensions.height",s.target.value),placeholder:"0.0"})]})]})]})]}),e.jsxs(T,{className:"md:col-span-2",children:[e.jsx(A,{children:e.jsx(M,{className:"text-lg",children:"Warranty & Compatibility"})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"warranty-duration",children:"Warranty Duration"}),e.jsx(m,{id:"warranty-duration",type:"number",value:r.warranty.duration,onChange:s=>j("warranty.duration",s.target.value),placeholder:"12"})]}),e.jsxs("div",{children:[e.jsx(o,{children:"Warranty Unit"}),e.jsxs(X,{value:r.warranty.unit,onValueChange:s=>j("warranty.unit",s),children:[e.jsx(ee,{children:e.jsx(ae,{})}),e.jsxs(se,{children:[e.jsx(I,{value:"months",children:"Months"}),e.jsx(I,{value:"years",children:"Years"})]})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"warranty-terms",children:"Warranty Terms"}),e.jsx(m,{id:"warranty-terms",value:r.warranty.terms,onChange:s=>j("warranty.terms",s.target.value),placeholder:"Limited warranty"})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"compatible-models",children:"Compatible Models (comma-separated)"}),e.jsx(m,{id:"compatible-models",value:r.compatibleModels,onChange:s=>j("compatibleModels",s.target.value),placeholder:"Model 1, Model 2, Model 3"})]})]})]})]})}),e.jsxs(J,{value:"specs",className:"space-y-4",children:[e.jsxs(T,{children:[e.jsx(A,{children:e.jsx(M,{className:"text-lg",children:t?"Edit Specification":"Add New Specification"})}),e.jsxs(D,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"spec-name",children:"Name"}),e.jsx(m,{id:"spec-name",value:h.name||"",onChange:s=>l({...h,name:s.target.value}),placeholder:"e.g., Voltage"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"spec-value",children:"Value"}),e.jsx(m,{id:"spec-value",value:h.value||"",onChange:s=>l({...h,value:s.target.value}),placeholder:"e.g., 12"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"spec-unit",children:"Unit"}),e.jsx(m,{id:"spec-unit",value:h.unit||"",onChange:s=>l({...h,unit:s.target.value}),placeholder:"e.g., V, A, °C"})]}),e.jsxs("div",{children:[e.jsx(o,{children:"Category"}),e.jsxs(X,{value:h.category||"other",onValueChange:s=>l({...h,category:s}),children:[e.jsx(ee,{children:e.jsx(ae,{})}),e.jsx(se,{children:E.map(s=>e.jsx(I,{value:s.value,children:s.label},s.value))})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(v,{onClick:t?_:P,disabled:!h.name||!h.value,className:"w-full",children:t?"Update":e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"h-4 w-4 mr-1"})," Add"]})})})]}),h.description!==void 0&&e.jsxs("div",{className:"mt-4",children:[e.jsx(o,{htmlFor:"spec-description",children:"Description (Optional)"}),e.jsx(m,{id:"spec-description",value:h.description,onChange:s=>l({...h,description:s.target.value}),placeholder:"Additional details about this specification"})]}),t&&e.jsx("div",{className:"mt-4",children:e.jsx(v,{variant:"outline",onClick:()=>{l({name:"",value:"",unit:"",category:"other",description:""}),y(null)},children:"Cancel Edit"})})]})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(V).map(([s,a])=>{var u;return e.jsxs(T,{children:[e.jsx(A,{children:e.jsxs(M,{className:"text-lg flex items-center gap-2",children:[Q(s),((u=E.find(n=>n.value===s))==null?void 0:u.label)||"Other",e.jsx(S,{variant:"secondary",children:a.length})]})}),e.jsx(D,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:a.map(n=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium",children:[n.name,":"]}),e.jsx("span",{children:n.value}),n.unit&&e.jsx("span",{className:"text-sm text-muted-foreground",children:n.unit})]}),n.description&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:n.description})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(v,{variant:"ghost",size:"sm",onClick:()=>L(n.id),children:e.jsx(fe,{className:"h-3 w-3"})}),e.jsx(v,{variant:"ghost",size:"sm",onClick:()=>Y(n.id),className:"text-red-600 hover:text-red-700",children:e.jsx(we,{className:"h-3 w-3"})})]})]},n.id))})})]},s)})}),c.length===0&&e.jsx(T,{children:e.jsxs(D,{className:"text-center py-8",children:[e.jsx(k,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Technical Specifications"}),e.jsx("p",{className:"text-muted-foreground",children:"Add technical specifications to provide detailed information about this part."})]})})]}),e.jsx(J,{value:"notes",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs(T,{children:[e.jsx(A,{children:e.jsx(M,{children:"Installation Notes"})}),e.jsx(D,{children:e.jsx(he,{value:r.installationNotes,onChange:s=>j("installationNotes",s.target.value),placeholder:"Enter installation instructions, requirements, or special notes...",rows:6})})]}),e.jsxs(T,{children:[e.jsx(A,{children:e.jsx(M,{children:"Safety Instructions"})}),e.jsx(D,{children:e.jsx(he,{value:r.safetyInstructions,onChange:s=>j("safetyInstructions",s.target.value),placeholder:"Enter safety warnings, precautions, or special handling instructions...",rows:6})})]})]})})]}),e.jsxs(ie,{children:[e.jsx(v,{variant:"outline",onClick:g,children:"Cancel"}),e.jsx(v,{onClick:U,children:"Save Technical Specifications"})]})]})})},Le=[{id:"sr-1",carModel:"Voyah Dream",partName:"Floor Mats Premium",partNumber:"VD-FM-001",quantity:8,location:{shelf:"A1",column:"1",row:"2",room:"Display Storage",floor:"Floor 1"},lastUpdated:"2025-05-20T14:30:00",supplier:"DF",vehicleType:"EV",category:"accessory",vin:"",pdiStatus:"pending"},{id:"sr-2",carModel:"Voyah Free",partName:"Wireless Charger Pad",partNumber:"VF-WC-003",quantity:5,location:{shelf:"B2",column:"2",row:"1",room:"Premium Display",floor:"Floor 2"},lastUpdated:"2025-05-18T11:45:00",supplier:"AZ",vehicleType:"EV",category:"accessory",vin:"",pdiStatus:"pending"},{id:"sr-3",carModel:"Voyah Passion",partName:"Dashboard Camera",partNumber:"VP-DC-007",quantity:3,location:{shelf:"C1",column:"1",row:"3",room:"Customer Area",floor:"Floor 1"},lastUpdated:"2025-05-16T16:20:00",supplier:"DF",vehicleType:"Hybrid",category:"accessory",vin:"",pdiStatus:"pending"},{id:"sr-4",carModel:"Mhero",partName:"Seat Covers Leather",partNumber:"MH-SC-012",quantity:6,location:{shelf:"D3",column:"2",row:"1",room:"Display Storage",floor:"Floor 1"},lastUpdated:"2025-05-15T09:30:00",supplier:"AZ",vehicleType:"ICE",category:"accessory",vin:"",pdiStatus:"pending"}],He=()=>{const F=Se(),[g,i]=x.useState(Le),[d,c]=x.useState(""),[N,r]=x.useState("All"),[p,h]=x.useState("All Suppliers"),[l,t]=x.useState(!1),[y,E]=x.useState(null),[Q,P]=x.useState(!1),[L,_]=x.useState(null),[Y,U]=x.useState(!1);x.useEffect(()=>{const u=new URLSearchParams(F.search).get("vin");u&&(c(u),setTimeout(()=>{const n=g.find(b=>{var q,ce,de;return((q=b.partName)==null?void 0:q.toLowerCase().includes(u.toLowerCase()))||((ce=b.partNumber)==null?void 0:ce.toLowerCase().includes(u.toLowerCase()))||((de=b.carModel)==null?void 0:de.toLowerCase().includes(u.toLowerCase()))});n?C({title:"Item Found in Showroom Inventory",description:`Showing ${n.partName} for ${n.carModel} (${n.partNumber})`,duration:5e3}):C({title:"Item Not Found",description:`No item found with search term: ${u} in Showroom Inventory`,variant:"destructive",duration:5e3})},500))},[F.search,g]);const j=["All Suppliers",...Array.from(new Set(g.map(a=>a.supplier||"DF")))],V=g.filter(a=>{var q;const u=d===""||a.partName.toLowerCase().includes(d.toLowerCase())||a.partNumber.toLowerCase().includes(d.toLowerCase())||a.carModel.toLowerCase().includes(d.toLowerCase())||((q=a.location.room)==null?void 0:q.toLowerCase().includes(d.toLowerCase())),n=N==="All"||a.vehicleType===N,b=p==="All Suppliers"||a.supplier===p;return u&&n&&b}),R=async()=>{try{const a=V.map(n=>({"Car Model":n.carModel,"Accessory Name":n.partName,"Part Number":n.partNumber,"Vehicle Type":n.vehicleType,Quantity:n.quantity,Supplier:n.supplier,Room:n.location.room,Location:`${n.location.shelf}-${n.location.column}-${n.location.row}`,Floor:n.location.floor,"Last Updated":ue.formatDateTime(n.lastUpdated),Category:n.category})),u=await Me.exportToExcel(a,{fileName:"showroom_accessories_inventory",sheetName:"Showroom Accessories",includeTimestamp:!0,uploadToSupabase:!0});u.success?C({title:"Excel Export Successful",description:u.message}):C({title:"Export Failed",description:u.message,variant:"destructive"})}catch{C({title:"Export Error",description:"Failed to export data to Excel. Please try again.",variant:"destructive"})}},O=()=>{C({title:"Excel Import",description:"Please select an Excel file to import showroom accessories data."})},H=a=>{const u={...a,id:`sr-${Date.now()}`,lastUpdated:new Date().toISOString(),category:"accessory"};i(n=>[...n,u]),C({title:"Accessory Added",description:`${u.partName} has been added to showroom inventory.`})},B=a=>{E(a),P(!0)},Z=a=>{y&&(i(u=>u.map(n=>n.id===y.id?{...n,...a,lastUpdated:new Date().toISOString()}:n)),C({title:"Accessory Updated",description:`${y.partName} has been updated successfully.`}))},$=a=>{_(a),U(!0)},z=(a,u)=>{i(n=>n.map(b=>b.id===a?{...b,...u,lastUpdated:new Date().toISOString()}:b)),C({title:"Technical Specifications Updated",description:"Technical specifications have been saved successfully."})},W=a=>{switch(a){case"EV":return e.jsx(S,{className:"bg-green-100 text-green-800",children:"Electric Vehicle"});case"Hybrid":return e.jsx(S,{className:"bg-blue-100 text-blue-800",children:"Hybrid"});case"ICE":return e.jsx(S,{className:"bg-orange-100 text-orange-800",children:"Internal Combustion"});default:return e.jsx(S,{variant:"outline",children:"Unknown"})}},s=a=>{switch(a){case"DF":return e.jsx(S,{className:"bg-monza-yellow/20 text-monza-black border border-monza-yellow/40",children:"Dong Feng"});case"AZ":return e.jsx(S,{className:"bg-monza-gray/15 text-monza-gray border border-monza-gray/30",children:"AutoZone"});default:return e.jsx(S,{variant:"outline",children:a||"Unknown"})}};return e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Showroom Accessories Inventory"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage accessories only - categorized by vehicle type (ICE, Hybrid, EV)"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(v,{variant:"outline",onClick:R,children:[e.jsx(Ce,{className:"mr-1 h-4 w-4"}),"Export to Excel"]}),e.jsxs(v,{variant:"outline",onClick:O,children:[e.jsx(Fe,{className:"mr-1 h-4 w-4"}),"Import from Excel"]}),e.jsxs(v,{variant:"default",onClick:()=>t(!0),children:[e.jsx(ge,{className:"mr-1 h-4 w-4"}),"Add New Accessory"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Te,{className:"absolute left-2 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(m,{placeholder:"Search accessories, models, rooms...",className:"pl-8",value:d,onChange:a=>c(a.target.value)})]}),e.jsxs("select",{className:"h-10 rounded-md border border-input bg-background px-3 py-2",value:N,onChange:a=>r(a.target.value),children:[e.jsx("option",{value:"All",children:"All Vehicle Types"}),e.jsx("option",{value:"EV",children:"Electric Vehicle (EV)"}),e.jsx("option",{value:"Hybrid",children:"Hybrid"}),e.jsx("option",{value:"ICE",children:"Internal Combustion (ICE)"})]}),e.jsx("select",{className:"h-10 rounded-md border border-input bg-background px-3 py-2",value:p,onChange:a=>h(a.target.value),children:j.map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsx("div",{className:"bg-white rounded-lg border shadow-sm",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(De,{children:[e.jsx(Ee,{children:e.jsxs(re,{children:[e.jsx(w,{children:"Car Model"}),e.jsx(w,{children:"Accessory Name"}),e.jsx(w,{children:"Part Number"}),e.jsx(w,{children:"Vehicle Type"}),e.jsx(w,{children:"Quantity"}),e.jsx(w,{children:"Supplier"}),e.jsx(w,{children:"Room"}),e.jsx(w,{children:"Location"}),e.jsx(w,{children:"Last Updated"}),e.jsx(w,{children:"Actions"})]})}),e.jsx(Ae,{children:V.length>0?V.map(a=>e.jsxs(re,{className:"hover:bg-muted/50",children:[e.jsx(f,{className:"font-medium",children:a.carModel}),e.jsx(f,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 text-muted-foreground"}),a.partName]})}),e.jsx(f,{className:"font-mono text-sm",children:a.partNumber}),e.jsx(f,{children:W(a.vehicleType)}),e.jsx(f,{children:e.jsx(S,{variant:"secondary",className:"font-semibold",children:a.quantity})}),e.jsx(f,{children:s(a.supplier)}),e.jsx(f,{children:e.jsx(S,{variant:"outline",className:"bg-purple-100 text-purple-800",children:a.location.room})}),e.jsx(f,{className:"font-mono text-sm",children:`${a.location.shelf}-${a.location.column}-${a.location.row}`}),e.jsx(f,{className:"text-sm text-muted-foreground",children:ue.formatDateTime(a.lastUpdated)}),e.jsx(f,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{variant:"outline",size:"sm",onClick:()=>B(a),children:e.jsx(Ie,{className:"h-4 w-4"})}),e.jsx(v,{variant:"outline",size:"sm",onClick:()=>$(a),className:"text-blue-600 hover:text-blue-700",children:e.jsx(k,{className:"h-3 w-3"})})]})})]},a.id)):e.jsx(re,{children:e.jsx(f,{colSpan:10,className:"text-center py-8",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(G,{className:"h-8 w-8 text-muted-foreground"}),e.jsx("p",{className:"font-medium",children:"No showroom accessories found"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No accessories match your search criteria."})]})})})})]})})}),e.jsx(qe,{isOpen:l,onClose:()=>t(!1),onAddAccessory:H}),e.jsx(ke,{isOpen:Q,onClose:()=>P(!1),item:y,onSave:Z}),L&&e.jsx(Pe,{isOpen:Y,onClose:()=>U(!1),item:L,onSave:z})]})};export{He as default};
